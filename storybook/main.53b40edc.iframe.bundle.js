(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/builder-webpack4/node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/builder-webpack4/node_modules/@storybook/client-logger/dist/esm/index.js");__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function splitStoryName(name){return name.split("/")}function position(item){var array=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],index=array.indexOf(item);return-1===index?1e4:index}__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./packages/core/src/style.css"),__webpack_require__("./packages/autodemo/src/styles.css");var el,parameters={options:{storySort:function sortStories(sortOrder){var groups=Object.keys(sortOrder);return function(a,b){var aKind=a[1].kind,bKind=b[1].kind,_splitStoryName2=_slicedToArray(splitStoryName(aKind),2),aGroup=_splitStoryName2[0],aComponent=_splitStoryName2[1],_splitStoryName4=_slicedToArray(splitStoryName(bKind),2),bGroup=_splitStoryName4[0],bComponent=_splitStoryName4[1];if(aKind===bKind)return 0;if(aGroup===bGroup){var group=sortOrder[aGroup];return position(aComponent,group)-position(bComponent,group)}return position(aGroup,groups)-position(bGroup,groups)}}({Core:["Basic Examples","Controlled Environment"],AutoDemo:[]})},actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}},a11y:{manual:!0}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(el=document.createElement("script")).src="https://unpkg.com/iframe-resizer@4.3.2/js/iframeResizer.contentWindow.min.js",document.head.append(el),Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./packages sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./packages sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$")],module,!1)}).call(this,__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./packages/autodemo/src/styles.css":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.i,".rct-autodemo-container {\n  position: relative;\n}\n\n.rct-autodemo-content {\n  display: flex;\n}\n\n.rct-autodemo-content-childcount-1 > * {\n  width: 100%;\n}\n.rct-autodemo-content-childcount-2 > * {\n  width: 50%;\n}\n.rct-autodemo-content-childcount-3 > * {\n  width: 33%;\n}\n.rct-autodemo-content-childcount-4 > * {\n  width: 25%;\n}\n.rct-autodemo-content-childcount-5 > * {\n  width: 20%;\n}\n\n.rct-autodemo-content > * {\n  flex-grow: 1;\n  margin: 5px;\n}\n\n.rct-autodemo-controls {\n  position: absolute;\n  bottom: 20px;\n  right: 20px;\n  font-family: Arial, sans-serif;\n  font-size: 14px;\n  background-color: #ffffff;\n  border: 1px solid #cbcbcb;\n  border-radius: 8px;\n  padding: 8px;\n  display: flex;\n  color: #444;\n  opacity: 0.5;\n}\n\n.rct-autodemo-controls:hover {\n  opacity: 1;\n}\n\n.rct-autodemo-controls-header {\n  display: flex;\n}\n\n.rct-autodemo-controls h2 {\n  font-size: 16px;\n  margin: 0;\n}\n.rct-autodemo-controls p {\n  margin: 0;\n}\n\n.rct-autodemo-controls-left {\n  flex-grow: 1;\n  align-self: center;\n}\n.rct-autodemo-controls-right {\n  align-self: center;\n  margin-left: 10px;\n}\n\n.rct-autodemo-controls button {\n  background-color: #ffffff;\n  color: inherit;\n  border: 1px solid #cbcbcb;\n  border-radius: 4px;\n  padding: 4px 8px;\n  cursor: pointer;\n}\n\n.rct-autodemo-controls button:hover {\n  background-color: #ececec;\n}\n\n.rct-autodemo-controls-speed {\n  margin-left: 8px;\n}\n\n.rct-autodemo-controls-speed button {\n  border: none;\n  padding: 0 4px;\n}\n\n.rct-autodemo-controls-speed button.active {\n  font-weight: bold;\n  text-decoration: underline;\n}\n",""]),module.exports=exports},"./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./packages/core/src/style.css":function(module,exports,__webpack_require__){(exports=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.i,":root {\n  --rct-color-tree-bg: #f6f8fa;\n  --rct-color-tree-focus-outline: #0366d6;\n\n  --rct-color-focustree-item-selected-bg: #e8eaed;\n  --rct-color-focustree-item-selected-text: inherit;\n  --rct-color-focustree-item-focused-border: #0366d6;\n  --rct-color-focustree-item-draggingover-bg: #ebf0f4;\n  --rct-color-focustree-item-draggingover-color: inherit;\n\n  --rct-color-nonfocustree-item-selected-bg: #e8eaed;\n  --rct-color-nonfocustree-item-selected-text: inherit;\n  --rct-color-nonfocustree-item-focused-border: #dbdbdb;\n\n  --rct-color-search-highlight-bg: #a2aed2;\n  --rct-color-drag-between-line-bg: #0366d6;\n  --rct-color-arrow: #9aa5b3;\n\n  --rct-item-height: 22px;\n\n  --rct-color-renaming-input-submitbutton-bg: inherit;\n  --rct-color-renaming-input-submitbutton-bg-hover: #0366d6;\n  --rct-color-renaming-input-submitbutton-bg-active: #095fc1;\n\n  --rct-color-renaming-input-submitbutton-text: inherit;\n  --rct-color-renaming-input-submitbutton-text-hover: #ffffff;\n  --rct-color-renaming-input-submitbutton-text-active: #ffffff;\n}\n\n.rct-tree-root {\n  font-family: sans-serif;\n  background-color: var(--rct-color-tree-bg);\n  padding: 4px 0;\n}\n\n.rct-tree-root-focus {\n  outline: 1px solid var(--rct-color-tree-focus-outline);\n}\n\n.rct-tree-item-li {\n  font-size: 0.8rem;\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n\n.rct-tree-item-title-container {\n  display: flex;\n  align-items: center;\n  border-top: 1px solid transparent;\n  border-bottom: 1px solid transparent;\n}\n\n.rct-tree-child-list {\n}\n.rct-tree-item-button {\n  flex-grow: 1;\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  background-color: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  border: none;\n  width: 100%;\n  height: var(--rct-item-height);\n  text-align: left;\n  color: inherit;\n  outline: none;\n}\n\n.rct-tree-item-arrow {\n  width: 16px;\n}\n\n.rct-tree-item-arrow svg {\n  width: 16px;\n}\n\n.rct-tree-item-arrow-path {\n  fill: var(--rct-color-arrow);\n}\n\n.rct-tree-items-container {\n  margin: 0;\n  padding: 0;\n}\n\n.rct-tree-root:not(.rct-tree-root-focus) .rct-tree-item-title-container-selected {\n  background-color: var(--rct-color-nonfocustree-item-selected-bg);\n  color: var(--rct-color-nonfocustree-item-selected-text);\n}\n.rct-tree-root.rct-tree-root-focus .rct-tree-item-title-container-selected {\n  background-color: var(--rct-color-focustree-item-selected-bg);\n  color: var(--rct-color-focustree-item-selected-text);\n}\n.rct-tree-root.rct-tree-root-focus .rct-tree-item-title-container-focused {\n  outline: none;\n  border-color: var(--rct-color-focustree-item-focused-border);\n}\n.rct-tree-root:not(.rct-tree-root-focus) .rct-tree-item-title-container-focused {\n  outline: none;\n  border-color: var(--rct-color-nonfocustree-item-focused-border);\n}\n\n.rct-tree-item-title-container-dragging-over {\n  background-color: var(--rct-color-focustree-item-draggingover-bg);\n  color: var(--rct-color-focustree-item-draggingover-color);\n}\n\n.rct-tree-item-button-search-match {\n  font-style: italic;\n}\n\n.rct-tree-item-search-highlight {\n  background-color: var(--rct-color-search-highlight-bg);\n}\n\n.rct-tree-drag-between-line {\n  position: absolute;\n  right: 0;\n  top: -2px;\n  height: 4px;\n  background-color: var(--rct-color-drag-between-line-bg);\n}\n\n.rct-tree-drag-between-line-top {\n  top: 0px;\n}\n\n.rct-tree-drag-between-line-bottom {\n  top: -4px;\n}\n\n.rct-tree-search-input-container {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 120px;\n}\n\n.rct-tree-search-input {\n  position: fixed;\n  width: 120px;\n}\n\n/* TODO see renaming form in multiple tree example, wraps around */\n.rct-tree-item-renaming-form {\n  flex-grow: 1;\n  display: flex;\n}\n.rct-tree-item-renaming-input {\n  flex-grow: 1;\n  background-color: inherit;\n  border: none;\n  color: inherit;\n  outline: none;\n}\n.rct-tree-item-renaming-submit-button {\n  border: none;\n  background-color: var(--rct-color-renaming-input-submitbutton-bg);\n  border-radius: 999px;\n  color: var(--rct-color-renaming-input-submitbutton-text);\n  cursor: pointer;\n}\n.rct-tree-item-renaming-submit-button:hover {\n  background-color: var(--rct-color-renaming-input-submitbutton-bg-hover);\n  color: var(--rct-color-renaming-input-submitbutton-text-hover);\n}\n.rct-tree-item-renaming-submit-button:active {\n  background-color: var(--rct-color-renaming-input-submitbutton-bg-active);\n  color: var(--rct-color-renaming-input-submitbutton-text-active);\n}\n",""]),module.exports=exports},"./packages sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$":function(module,exports,__webpack_require__){var map={"./autodemo/src/stories/AutoDemoComponent.stories.tsx":"./packages/autodemo/src/stories/AutoDemoComponent.stories.tsx","./blueprintjs-renderers/src/stories/BlueprintJsRenderers.stories.tsx":"./packages/blueprintjs-renderers/src/stories/BlueprintJsRenderers.stories.tsx","./core/src/stories/Accessibility.stories.tsx":"./packages/core/src/stories/Accessibility.stories.tsx","./core/src/stories/BasicExamples.stories.tsx":"./packages/core/src/stories/BasicExamples.stories.tsx","./core/src/stories/ControlledEnvironment.stories.tsx":"./packages/core/src/stories/ControlledEnvironment.stories.tsx","./core/src/stories/CustomViewState.stories.tsx":"./packages/core/src/stories/CustomViewState.stories.tsx","./core/src/stories/DelayedDataSource.stories.tsx":"./packages/core/src/stories/DelayedDataSource.stories.tsx","./core/src/stories/DndLimitations.stories.tsx":"./packages/core/src/stories/DndLimitations.stories.tsx","./core/src/stories/HardcodedState.stories.tsx":"./packages/core/src/stories/HardcodedState.stories.tsx","./core/src/stories/InteractionModes.stories.tsx":"./packages/core/src/stories/InteractionModes.stories.tsx","./core/src/stories/Refs.stories.tsx":"./packages/core/src/stories/Refs.stories.tsx","./core/src/stories/Scalability.stories.tsx":"./packages/core/src/stories/Scalability.stories.tsx","./core/src/stories/Search.stories.tsx":"./packages/core/src/stories/Search.stories.tsx","./core/src/stories/Theming.stories.tsx":"./packages/core/src/stories/Theming.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./packages sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$"},"./packages sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id="./packages sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"},"./packages/autodemo/src/stories/AutoDemoComponent.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SingleTreeDemo",(function(){return AutoDemoComponent_stories_SingleTreeDemo})),__webpack_require__.d(__webpack_exports__,"MultiTreeDemo",(function(){return AutoDemoComponent_stories_MultiTreeDemo})),__webpack_require__.d(__webpack_exports__,"SearchDemo",(function(){return AutoDemoComponent_stories_SearchDemo})),__webpack_require__.d(__webpack_exports__,"VisibleLiveDescriptors",(function(){return AutoDemoComponent_stories_VisibleLiveDescriptors})),__webpack_require__.d(__webpack_exports__,"SingleTreeEmptyTemplate",(function(){return AutoDemoComponent_stories_SingleTreeEmptyTemplate}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),UncontrolledTreeEnvironment=__webpack_require__("./packages/core/lib/esm/uncontrolledEnvironment/UncontrolledTreeEnvironment.js"),Tree=__webpack_require__("./packages/core/lib/esm/tree/Tree.js"),lib=__webpack_require__("./packages/demodata/lib/index.js"),StaticTreeDataProvider=(__webpack_require__("./node_modules/core-js/modules/es.parse-float.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./packages/core/lib/esm/uncontrolledEnvironment/StaticTreeDataProvider.js")),createDefaultRenderers=__webpack_require__("./packages/core/lib/esm/renderers/createDefaultRenderers.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var AutoDemo_AutoDemo=function AutoDemo(props){var _localStorage$getItem,_localStorage$getItem2,_useState2=_slicedToArray(Object(react.useState)(!1),2),aborted=_useState2[0],setAborted=_useState2[1],abortedRef=Object(react.useRef)(!1),_useState4=_slicedToArray(Object(react.useState)(0),2),restartKey=_useState4[0],setRestartKey=_useState4[1],_useState6=_slicedToArray(Object(react.useState)(parseFloat(null!==(_localStorage$getItem=localStorage.getItem("rct-autodemo-speed"))&&void 0!==_localStorage$getItem?_localStorage$getItem:"1")),2),speed=_useState6[0],setSpeed=_useState6[1],speedRef=Object(react.useRef)(parseFloat(null!==(_localStorage$getItem2=localStorage.getItem("rct-autodemo-speed"))&&void 0!==_localStorage$getItem2?_localStorage$getItem2:"1")),environmentRef=Object(react.useRef)(null),treeRef1=Object(react.useRef)(null),treeRef2=Object(react.useRef)(null),treeRef3=Object(react.useRef)(null),treeRef4=Object(react.useRef)(null),treeRef5=Object(react.useRef)(null);Object(react.useEffect)((function(){localStorage.setItem("rct-autodemo-speed",""+speed),speedRef.current=speed}),[speed]),Object(react.useEffect)((function(){abortedRef.current=aborted}),[aborted]),Object(react.useEffect)((function(){setAborted(!1),abortedRef.current=!1,setTimeout(_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){var helpers;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return helpers={env:environmentRef,tree:treeRef1,tree1:treeRef1,tree2:treeRef2,tree3:treeRef3,tree4:treeRef4,tree5:treeRef5,renameTo:function(){var _renameTo=_asyncToGenerator(regeneratorRuntime.mark((function _callee(tree,newName){var timeBetweenTypes,_args=arguments;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:timeBetweenTypes=_args.length>2&&void 0!==_args[2]?_args[2]:200,tree.startRenamingItem(environmentRef.current.viewState[tree.treeId].focusedItem),_context.t0=regeneratorRuntime.keys(newName.split(""));case 3:if((_context.t1=_context.t0()).done){_context.next=8;break}return _context.t1.value,_context.abrupt("return",new Promise((function(r){return setTimeout(r,timeBetweenTypes)})));case 8:case"end":return _context.stop()}}),_callee)})));return function renameTo(_x,_x2){return _renameTo.apply(this,arguments)}}(),searchFor:function(){var _searchFor=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(tree,search){var timeBetweenTypes,pieces,_iterator,_step,_char2,_args2=arguments;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:timeBetweenTypes=_args2.length>2&&void 0!==_args2[2]?_args2[2]:200,pieces="",_iterator=_createForOfIteratorHelper(search.split("")),_context2.prev=3,_iterator.s();case 5:if((_step=_iterator.n()).done){_context2.next=13;break}return _char2=_step.value,pieces+=_char2,tree.setSearch(pieces),_context2.next=11,helpers.wait(timeBetweenTypes);case 11:_context2.next=5;break;case 13:_context2.next=18;break;case 15:_context2.prev=15,_context2.t0=_context2.catch(3),_iterator.e(_context2.t0);case 18:return _context2.prev=18,_iterator.f(),_context2.finish(18);case 21:case"end":return _context2.stop()}}),_callee2,null,[[3,15,18,21]])})));return function searchFor(_x3,_x4){return _searchFor.apply(this,arguments)}}(),programmaticMove:function(){var _programmaticMove=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(direction,times){var timeBetweenMoves,i,_args3=arguments;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:timeBetweenMoves=_args3.length>2&&void 0!==_args3[2]?_args3[2]:100,i=0;case 2:if(!(i<times)){_context3.next=9;break}return"up"===direction?environmentRef.current.moveProgrammaticDragPositionUp():environmentRef.current.moveProgrammaticDragPositionDown(),_context3.next=6,helpers.wait(i<.2*times||i>.8*times?2*timeBetweenMoves:timeBetweenMoves);case 6:i++,_context3.next=2;break;case 9:case"end":return _context3.stop()}}),_callee3)})));return function programmaticMove(_x5,_x6){return _programmaticMove.apply(this,arguments)}}(),wait:function(){var _wait=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(ms){return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(!abortedRef.current){_context4.next=2;break}throw"abort";case 2:return _context4.next=4,new Promise((function(r){return setTimeout(r,ms*(1/speedRef.current))}));case 4:if(!abortedRef.current){_context4.next=6;break}throw"abort";case 6:case"end":return _context4.stop()}}),_callee4)})));return function wait(_x7){return _wait.apply(this,arguments)}}()},_context5.prev=1,_context5.next=4,props.storyScript(helpers);case 4:props.restart&&setRestartKey((function(oldKey){return oldKey+1})),_context5.next=11;break;case 7:if(_context5.prev=7,_context5.t0=_context5.catch(1),"abort"===_context5.t0){_context5.next=11;break}throw _context5.t0;case 11:case"end":return _context5.stop()}}),_callee5,null,[[1,7]])}))),1e3)}),[restartKey]);var envProps=Object(react.useMemo)((function(){return{key:"k"+restartKey,autoFocus:aborted,dataProvider:new StaticTreeDataProvider.a(JSON.parse(JSON.stringify(props.data.items)),(function(item,data){return Object.assign({},item,{data:data})})),renderItem:function renderItem(p){return Object(createDefaultRenderers.a)(10).renderItem(Object.assign({},p,{context:Object.assign({},p.context,{interactiveElementProps:Object.assign({},p.context.interactiveElementProps,{tabIndex:aborted?p.context.interactiveElementProps.tabIndex:-2})})}))}}}),[restartKey,aborted,props.data.items]),SpeedButton=function SpeedButton(props){return Object(jsx_runtime.jsxs)("button",{className:props.speed===speed?"active":"",onClick:function onClick(){return setSpeed(props.speed)},children:["x",props.speed]})};return Object(jsx_runtime.jsxs)("div",{className:"rct-autodemo-container",children:[Object(jsx_runtime.jsx)("div",{className:["rct-autodemo-content",null!==treeRef1.current?"rct-autodemo-content-childcount-1":"",null!==treeRef2.current?"rct-autodemo-content-childcount-2":"",null!==treeRef3.current?"rct-autodemo-content-childcount-3":"",null!==treeRef4.current?"rct-autodemo-content-childcount-4":"",null!==treeRef5.current?"rct-autodemo-content-childcount-5":""].join(" "),onMouseDown:function onMouseDown(){return setAborted(!0)},onKeyDown:function onKeyDown(){return setAborted(!0)},children:props.children(envProps,environmentRef,treeRef1,treeRef2,treeRef3,treeRef4,treeRef5)}),Object(jsx_runtime.jsxs)("div",{className:"rct-autodemo-controls",children:[Object(jsx_runtime.jsxs)("div",{className:"rct-autodemo-controls-left",children:[Object(jsx_runtime.jsxs)("div",{className:"rct-autodemo-controls-header",children:[Object(jsx_runtime.jsx)("h2",{children:aborted?"Demo was stopped":"Demo is running"}),Object(jsx_runtime.jsxs)("div",{className:"rct-autodemo-controls-speed","aria-label":"Speed control for the demo",children:[Object(jsx_runtime.jsx)(SpeedButton,{speed:.75}),Object(jsx_runtime.jsx)(SpeedButton,{speed:1}),Object(jsx_runtime.jsx)(SpeedButton,{speed:2}),Object(jsx_runtime.jsx)(SpeedButton,{speed:3})]})]}),Object(jsx_runtime.jsx)("p",{children:aborted?"":"Click anywhere on the tree to try it yourself!"})]}),Object(jsx_runtime.jsx)("div",{className:"rct-autodemo-controls-right",children:Object(jsx_runtime.jsx)("button",{onClick:function onClick(){aborted?setRestartKey((function(k){return k+1})):setAborted(!0)},children:aborted?"Restart":"Abort"})})]})]})};AutoDemo_AutoDemo.displayName="AutoDemo";try{AutoDemo_AutoDemo.displayName="AutoDemo",AutoDemo_AutoDemo.__docgenInfo={description:"",displayName:"AutoDemo",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any"}},storyScript:{defaultValue:null,description:"",name:"storyScript",required:!0,type:{name:"(story: AutomationStoryHelpers) => Promise<void>"}},restart:{defaultValue:null,description:"",name:"restart",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/autodemo/src/AutoDemo.tsx#AutoDemo"]={docgenInfo:AutoDemo_AutoDemo.__docgenInfo,name:"AutoDemo",path:"packages/autodemo/src/AutoDemo.tsx#AutoDemo"})}catch(__react_docgen_typescript_loader_error){}function AutoDemoComponent_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function AutoDemoComponent_stories_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){AutoDemoComponent_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){AutoDemoComponent_stories_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}__webpack_exports__.default={title:"Auto Demo/AutoDemo Component"};var treeId1="tree-1",AutoDemoComponent_stories_SingleTreeDemo=function SingleTreeDemo(){return Object(jsx_runtime.jsx)(AutoDemo_AutoDemo,{data:lib.longTree,storyScript:function(){var _ref=AutoDemoComponent_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee(story){var _story$tree$current,_story$tree$current2,_story$tree$current3,_story$tree$current4,_story$env$current,_story$tree$current5,_story$tree$current6,_story$tree$current7,_story$tree$current8,_story$env$current2,_story$tree$current9,_story$tree$current10,_story$env$current3,_story$env$current4,_story$env$current5,_story$env$current6,_story$env$current7;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,null===(_story$tree$current=story.tree.current)||void 0===_story$tree$current?void 0:_story$tree$current.focusTree(!1);case 2:return _context.next=4,story.searchFor(story.tree.current,"banana");case 4:return _context.next=6,story.wait(1e3);case 6:return _context.next=8,null===(_story$tree$current2=story.tree.current)||void 0===_story$tree$current2?void 0:_story$tree$current2.moveFocusDown();case 8:return _context.next=10,story.wait(200);case 10:return _context.next=12,null===(_story$tree$current3=story.tree.current)||void 0===_story$tree$current3?void 0:_story$tree$current3.moveFocusDown();case 12:return _context.next=14,story.wait(500);case 14:return _context.next=16,null===(_story$tree$current4=story.tree.current)||void 0===_story$tree$current4?void 0:_story$tree$current4.expandItem(null===(_story$env$current=story.env.current)||void 0===_story$env$current?void 0:_story$env$current.viewState[treeId1].focusedItem);case 16:return _context.next=18,story.wait(500);case 18:return _context.next=20,null===(_story$tree$current5=story.tree.current)||void 0===_story$tree$current5?void 0:_story$tree$current5.moveFocusDown();case 20:return _context.next=22,story.wait(200);case 22:return _context.next=24,null===(_story$tree$current6=story.tree.current)||void 0===_story$tree$current6?void 0:_story$tree$current6.moveFocusDown();case 24:return _context.next=26,story.wait(1e3);case 26:return _context.next=28,story.searchFor(story.tree.current,"cheese");case 28:return _context.next=30,story.wait(200);case 30:return _context.next=32,null===(_story$tree$current7=story.tree.current)||void 0===_story$tree$current7?void 0:_story$tree$current7.abortSearch();case 32:return _context.next=34,story.wait(1e3);case 34:return _context.next=36,null===(_story$tree$current8=story.tree.current)||void 0===_story$tree$current8?void 0:_story$tree$current8.toggleItemSelectStatus(null===(_story$env$current2=story.env.current)||void 0===_story$env$current2?void 0:_story$env$current2.viewState[treeId1].focusedItem);case 36:return _context.next=38,story.wait(1e3);case 38:return _context.next=40,null===(_story$tree$current9=story.tree.current)||void 0===_story$tree$current9?void 0:_story$tree$current9.moveFocusDown();case 40:return _context.next=42,story.wait(500);case 42:return _context.next=44,null===(_story$tree$current10=story.tree.current)||void 0===_story$tree$current10?void 0:_story$tree$current10.toggleItemSelectStatus(null===(_story$env$current3=story.env.current)||void 0===_story$env$current3?void 0:_story$env$current3.viewState[treeId1].focusedItem);case 44:return _context.next=46,story.wait(1e3);case 46:return _context.next=48,null===(_story$env$current4=story.env.current)||void 0===_story$env$current4?void 0:_story$env$current4.startProgrammaticDrag();case 48:return _context.next=50,story.wait(500);case 50:return _context.next=52,story.programmaticMove("up",16);case 52:return _context.next=54,story.wait(1e3);case 54:return _context.next=56,null===(_story$env$current5=story.env.current)||void 0===_story$env$current5?void 0:_story$env$current5.completeProgrammaticDrag();case 56:return _context.next=58,story.wait(1e3);case 58:return _context.next=60,null===(_story$env$current6=story.env.current)||void 0===_story$env$current6?void 0:_story$env$current6.startProgrammaticDrag();case 60:return _context.next=62,story.wait(500);case 62:return _context.next=64,story.programmaticMove("down",2,500);case 64:return _context.next=66,story.wait(1e3);case 66:return _context.next=68,null===(_story$env$current7=story.env.current)||void 0===_story$env$current7?void 0:_story$env$current7.completeProgrammaticDrag();case 68:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),children:function children(environmentProps,environmentRef,treeRef){var _ref2;return Object(jsx_runtime.jsx)(UncontrolledTreeEnvironment.a,Object.assign({canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref2={},_ref2[treeId1]={expandedItems:["Fruit","Meals"]},_ref2),ref:environmentRef},environmentProps,{children:Object(jsx_runtime.jsx)(Tree.a,{treeId:treeId1,rootItem:"root",treeLabel:"Tree Example",ref:treeRef})}))}})};AutoDemoComponent_stories_SingleTreeDemo.displayName="SingleTreeDemo";var AutoDemoComponent_stories_MultiTreeDemo=function MultiTreeDemo(){return Object(jsx_runtime.jsx)(AutoDemo_AutoDemo,{restart:!0,data:lib.longTree,storyScript:function(){var _ref3=AutoDemoComponent_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee2(story){var _story$tree$current11,_story$tree$current12,_story$tree$current13,_story$tree$current14,_story$tree$current15,_story$tree2$current,_story$tree2$current2,_story$tree2$current3,_story$tree2$current4,_story$tree2$current5,_story$env$current8,_story$tree$current16,_story$tree$current17,_story$tree$current18,_story$tree$current19,_story$env$current9,_story$tree$current20,_story$tree$current21,_story$env$current10,_story$tree$current22,_story$tree$current23,_story$env$current11,_story$env$current12,_story$tree2$current6,_story$env$current13,_story$tree2$current7,_story$tree2$current8,_story$tree2$current9,_story$tree2$current10,_story$tree2$current11,_story$env$current14,_story$tree2$current12,_story$tree2$current13,_story$tree2$current14,_story$env$current15,_story$tree2$current15,_story$tree2$current16,_story$env$current16,_story$tree2$current17,_story$tree2$current18,_story$env$current17,_story$tree2$current19,_story$tree2$current20,_story$env$current18,_story$tree2$current21,_story$tree2$current22,_story$env$current19,_story$tree2$current23,_story$tree2$current24,_story$env$current20,_story$tree2$current25,_story$tree2$current26,_story$env$current21,_story$env$current22,_story$env$current23,_story$tree$current24,_story$tree$current25,_story$env$current24,_story$tree2$current27,_story$env$current25,_story$env$current26,_story$tree2$current28,_story$env$current27,_story$env$current28,_story$env$current29;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,null===(_story$tree$current11=story.tree.current)||void 0===_story$tree$current11?void 0:_story$tree$current11.focusTree(!1);case 2:return _context2.next=4,story.searchFor(story.tree.current,"banana");case 4:return _context2.next=6,story.wait(1e3);case 6:return _context2.next=8,null===(_story$tree$current12=story.tree.current)||void 0===_story$tree$current12?void 0:_story$tree$current12.moveFocusUp();case 8:return _context2.next=10,story.wait(500);case 10:return _context2.next=12,null===(_story$tree$current13=story.tree.current)||void 0===_story$tree$current13?void 0:_story$tree$current13.moveFocusUp();case 12:return _context2.next=14,story.wait(500);case 14:return _context2.next=16,null===(_story$tree$current14=story.tree.current)||void 0===_story$tree$current14?void 0:_story$tree$current14.moveFocusUp();case 16:return _context2.next=18,story.wait(500);case 18:return _context2.next=20,null===(_story$tree$current15=story.tree.current)||void 0===_story$tree$current15?void 0:_story$tree$current15.moveFocusUp();case 20:return _context2.next=22,story.wait(1e3);case 22:return _context2.next=24,null===(_story$tree2$current=story.tree2.current)||void 0===_story$tree2$current?void 0:_story$tree2$current.focusTree(!1);case 24:return _context2.next=26,story.wait(500);case 26:return _context2.next=28,null===(_story$tree2$current2=story.tree2.current)||void 0===_story$tree2$current2?void 0:_story$tree2$current2.moveFocusDown();case 28:return _context2.next=30,story.wait(500);case 30:return _context2.next=32,null===(_story$tree2$current3=story.tree2.current)||void 0===_story$tree2$current3?void 0:_story$tree2$current3.moveFocusDown();case 32:return _context2.next=34,story.wait(500);case 34:return _context2.next=36,null===(_story$tree2$current4=story.tree2.current)||void 0===_story$tree2$current4?void 0:_story$tree2$current4.moveFocusDown();case 36:return _context2.next=38,story.wait(1e3);case 38:return _context2.next=40,null===(_story$tree2$current5=story.tree2.current)||void 0===_story$tree2$current5?void 0:_story$tree2$current5.expandItem(null===(_story$env$current8=story.env.current)||void 0===_story$env$current8?void 0:_story$env$current8.viewState["tree-2"].focusedItem);case 40:return _context2.next=42,story.wait(1e3);case 42:return _context2.next=44,null===(_story$tree$current16=story.tree.current)||void 0===_story$tree$current16?void 0:_story$tree$current16.focusTree(!1);case 44:return _context2.next=46,story.wait(500);case 46:return _context2.next=48,null===(_story$tree$current17=story.tree.current)||void 0===_story$tree$current17?void 0:_story$tree$current17.moveFocusDown();case 48:return _context2.next=50,story.wait(500);case 50:return _context2.next=52,null===(_story$tree$current18=story.tree.current)||void 0===_story$tree$current18?void 0:_story$tree$current18.moveFocusDown();case 52:return _context2.next=54,story.wait(500);case 54:return _context2.next=56,null===(_story$tree$current19=story.tree.current)||void 0===_story$tree$current19?void 0:_story$tree$current19.toggleItemSelectStatus(null===(_story$env$current9=story.env.current)||void 0===_story$env$current9?void 0:_story$env$current9.viewState[treeId1].focusedItem);case 56:return _context2.next=58,story.wait(500);case 58:return _context2.next=60,null===(_story$tree$current20=story.tree.current)||void 0===_story$tree$current20?void 0:_story$tree$current20.moveFocusDown();case 60:return _context2.next=62,story.wait(500);case 62:return _context2.next=64,null===(_story$tree$current21=story.tree.current)||void 0===_story$tree$current21?void 0:_story$tree$current21.toggleItemSelectStatus(null===(_story$env$current10=story.env.current)||void 0===_story$env$current10?void 0:_story$env$current10.viewState[treeId1].focusedItem);case 64:return _context2.next=66,story.wait(500);case 66:return _context2.next=68,null===(_story$tree$current22=story.tree.current)||void 0===_story$tree$current22?void 0:_story$tree$current22.moveFocusDown();case 68:return _context2.next=70,story.wait(500);case 70:return _context2.next=72,null===(_story$tree$current23=story.tree.current)||void 0===_story$tree$current23?void 0:_story$tree$current23.toggleItemSelectStatus(null===(_story$env$current11=story.env.current)||void 0===_story$env$current11?void 0:_story$env$current11.viewState[treeId1].focusedItem);case 72:return _context2.next=74,story.wait(1e3);case 74:return _context2.next=76,null===(_story$env$current12=story.env.current)||void 0===_story$env$current12?void 0:_story$env$current12.startProgrammaticDrag();case 76:return _context2.next=78,story.wait(1e3);case 78:return _context2.next=80,null===(_story$tree2$current6=story.tree2.current)||void 0===_story$tree2$current6?void 0:_story$tree2$current6.focusTree(!1);case 80:return _context2.next=82,story.wait(500);case 82:return _context2.next=84,story.programmaticMove("down",4);case 84:return _context2.next=86,story.wait(500);case 86:return _context2.next=88,null===(_story$env$current13=story.env.current)||void 0===_story$env$current13?void 0:_story$env$current13.completeProgrammaticDrag();case 88:return _context2.next=90,story.wait(1e3);case 90:return _context2.next=92,null===(_story$tree2$current7=story.tree2.current)||void 0===_story$tree2$current7?void 0:_story$tree2$current7.moveFocusUp();case 92:return _context2.next=94,story.wait(500);case 94:return _context2.next=96,null===(_story$tree2$current8=story.tree2.current)||void 0===_story$tree2$current8?void 0:_story$tree2$current8.moveFocusUp();case 96:return _context2.next=98,story.wait(500);case 98:return _context2.next=100,null===(_story$tree2$current9=story.tree2.current)||void 0===_story$tree2$current9?void 0:_story$tree2$current9.moveFocusUp();case 100:return _context2.next=102,story.wait(500);case 102:return _context2.next=104,null===(_story$tree2$current10=story.tree2.current)||void 0===_story$tree2$current10?void 0:_story$tree2$current10.moveFocusUp();case 104:return _context2.next=106,story.wait(1e3);case 106:return _context2.next=108,null===(_story$tree2$current11=story.tree2.current)||void 0===_story$tree2$current11?void 0:_story$tree2$current11.collapseItem(null===(_story$env$current14=story.env.current)||void 0===_story$env$current14?void 0:_story$env$current14.viewState["tree-2"].focusedItem);case 108:return _context2.next=110,story.wait(1e3);case 110:return _context2.next=112,null===(_story$tree2$current12=story.tree2.current)||void 0===_story$tree2$current12?void 0:_story$tree2$current12.moveFocusUp();case 112:return _context2.next=114,story.wait(500);case 114:return _context2.next=116,null===(_story$tree2$current13=story.tree2.current)||void 0===_story$tree2$current13?void 0:_story$tree2$current13.moveFocusUp();case 116:return _context2.next=118,story.wait(500);case 118:return _context2.next=120,null===(_story$tree2$current14=story.tree2.current)||void 0===_story$tree2$current14?void 0:_story$tree2$current14.expandItem(null===(_story$env$current15=story.env.current)||void 0===_story$env$current15?void 0:_story$env$current15.viewState["tree-2"].focusedItem);case 120:return _context2.next=122,story.wait(500);case 122:return _context2.next=124,null===(_story$tree2$current15=story.tree2.current)||void 0===_story$tree2$current15?void 0:_story$tree2$current15.moveFocusDown();case 124:return _context2.next=126,story.wait(500);case 126:return _context2.next=128,null===(_story$tree2$current16=story.tree2.current)||void 0===_story$tree2$current16?void 0:_story$tree2$current16.expandItem(null===(_story$env$current16=story.env.current)||void 0===_story$env$current16?void 0:_story$env$current16.viewState["tree-2"].focusedItem);case 128:return _context2.next=130,story.wait(200);case 130:return _context2.next=132,null===(_story$tree2$current17=story.tree2.current)||void 0===_story$tree2$current17?void 0:_story$tree2$current17.moveFocusDown();case 132:return _context2.next=134,story.wait(200);case 134:return _context2.next=136,null===(_story$tree2$current18=story.tree2.current)||void 0===_story$tree2$current18?void 0:_story$tree2$current18.toggleItemSelectStatus(null===(_story$env$current17=story.env.current)||void 0===_story$env$current17?void 0:_story$env$current17.viewState["tree-2"].focusedItem);case 136:return _context2.next=138,story.wait(200);case 138:return _context2.next=140,null===(_story$tree2$current19=story.tree2.current)||void 0===_story$tree2$current19?void 0:_story$tree2$current19.moveFocusDown();case 140:return _context2.next=142,story.wait(200);case 142:return _context2.next=144,null===(_story$tree2$current20=story.tree2.current)||void 0===_story$tree2$current20?void 0:_story$tree2$current20.toggleItemSelectStatus(null===(_story$env$current18=story.env.current)||void 0===_story$env$current18?void 0:_story$env$current18.viewState["tree-2"].focusedItem);case 144:return _context2.next=146,story.wait(200);case 146:return _context2.next=148,null===(_story$tree2$current21=story.tree2.current)||void 0===_story$tree2$current21?void 0:_story$tree2$current21.moveFocusDown();case 148:return _context2.next=150,story.wait(200);case 150:return _context2.next=152,null===(_story$tree2$current22=story.tree2.current)||void 0===_story$tree2$current22?void 0:_story$tree2$current22.toggleItemSelectStatus(null===(_story$env$current19=story.env.current)||void 0===_story$env$current19?void 0:_story$env$current19.viewState["tree-2"].focusedItem);case 152:return _context2.next=154,story.wait(200);case 154:return _context2.next=156,null===(_story$tree2$current23=story.tree2.current)||void 0===_story$tree2$current23?void 0:_story$tree2$current23.moveFocusDown();case 156:return _context2.next=158,story.wait(200);case 158:return _context2.next=160,null===(_story$tree2$current24=story.tree2.current)||void 0===_story$tree2$current24?void 0:_story$tree2$current24.toggleItemSelectStatus(null===(_story$env$current20=story.env.current)||void 0===_story$env$current20?void 0:_story$env$current20.viewState["tree-2"].focusedItem);case 160:return _context2.next=162,story.wait(200);case 162:return _context2.next=164,null===(_story$tree2$current25=story.tree2.current)||void 0===_story$tree2$current25?void 0:_story$tree2$current25.moveFocusDown();case 164:return _context2.next=166,story.wait(200);case 166:return _context2.next=168,null===(_story$tree2$current26=story.tree2.current)||void 0===_story$tree2$current26?void 0:_story$tree2$current26.toggleItemSelectStatus(null===(_story$env$current21=story.env.current)||void 0===_story$env$current21?void 0:_story$env$current21.viewState["tree-2"].focusedItem);case 168:return _context2.next=170,story.wait(1e3);case 170:return _context2.next=172,null===(_story$env$current22=story.env.current)||void 0===_story$env$current22?void 0:_story$env$current22.startProgrammaticDrag();case 172:return _context2.next=174,story.programmaticMove("down",8);case 174:return _context2.next=176,null===(_story$env$current23=story.env.current)||void 0===_story$env$current23?void 0:_story$env$current23.completeProgrammaticDrag();case 176:return _context2.next=178,story.wait(1e3);case 178:return _context2.next=180,null===(_story$tree$current24=story.tree.current)||void 0===_story$tree$current24?void 0:_story$tree$current24.focusTree(!1);case 180:return _context2.next=182,story.wait(200);case 182:return _context2.next=184,story.searchFor(story.tree.current,"meals");case 184:return _context2.next=186,story.wait(500);case 186:return _context2.next=188,null===(_story$tree$current25=story.tree.current)||void 0===_story$tree$current25?void 0:_story$tree$current25.collapseItem(null===(_story$env$current24=story.env.current)||void 0===_story$env$current24?void 0:_story$env$current24.viewState[treeId1].focusedItem);case 188:return _context2.next=190,story.wait(1e3);case 190:return _context2.next=192,null===(_story$tree2$current27=story.tree2.current)||void 0===_story$tree2$current27?void 0:_story$tree2$current27.focusTree(!1);case 192:return _context2.next=194,story.wait(200);case 194:return _context2.next=196,null===(_story$env$current25=story.env.current)||void 0===_story$env$current25?void 0:_story$env$current25.startProgrammaticDrag();case 196:return _context2.next=198,story.wait(1300);case 198:return _context2.next=200,story.programmaticMove("down",2);case 200:return _context2.next=202,story.wait(1300);case 202:return _context2.next=204,null===(_story$env$current26=story.env.current)||void 0===_story$env$current26?void 0:_story$env$current26.completeProgrammaticDrag();case 204:return _context2.next=206,story.wait(1500);case 206:return _context2.next=208,story.searchFor(story.tree2.current,"drinks");case 208:return _context2.next=210,story.wait(1e3);case 210:return _context2.next=212,null===(_story$tree2$current28=story.tree2.current)||void 0===_story$tree2$current28?void 0:_story$tree2$current28.selectItems([null===(_story$env$current27=story.env.current)||void 0===_story$env$current27?void 0:_story$env$current27.viewState["tree-2"].focusedItem]);case 212:return _context2.next=214,story.wait(500);case 214:return _context2.next=216,null===(_story$env$current28=story.env.current)||void 0===_story$env$current28?void 0:_story$env$current28.startProgrammaticDrag();case 216:return _context2.next=218,story.programmaticMove("up",26);case 218:return _context2.next=220,story.wait(1e3);case 220:return _context2.next=222,null===(_story$env$current29=story.env.current)||void 0===_story$env$current29?void 0:_story$env$current29.completeProgrammaticDrag();case 222:return _context2.next=224,story.wait(5e3);case 224:case"end":return _context2.stop()}}),_callee2)})));return function(_x2){return _ref3.apply(this,arguments)}}(),children:function children(environmentProps,environmentRef,treeRef,treeRef2){var _ref4;return Object(jsx_runtime.jsxs)(UncontrolledTreeEnvironment.a,Object.assign({canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref4={},_ref4[treeId1]={expandedItems:["Fruit","Meals"]},_ref4),ref:environmentRef},environmentProps,{children:[Object(jsx_runtime.jsx)(Tree.a,{treeId:treeId1,rootItem:"root",treeLabel:"Tree Example",ref:treeRef}),Object(jsx_runtime.jsx)(Tree.a,{treeId:"tree-2",rootItem:"root",treeLabel:"Tree Example",ref:treeRef2})]}))}})};AutoDemoComponent_stories_MultiTreeDemo.displayName="MultiTreeDemo";var AutoDemoComponent_stories_SearchDemo=function SearchDemo(){return Object(jsx_runtime.jsx)(AutoDemo_AutoDemo,{data:lib.longTree,restart:!0,storyScript:function(){var _ref5=AutoDemoComponent_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee3(story){var _story$tree$current26;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,null===(_story$tree$current26=story.tree.current)||void 0===_story$tree$current26?void 0:_story$tree$current26.focusTree(!1);case 2:return _context3.next=4,story.searchFor(story.tree.current,"an");case 4:return _context3.next=6,story.wait(1e3);case 6:return _context3.next=8,story.searchFor(story.tree.current,"banana");case 8:return _context3.next=10,story.wait(1e3);case 10:return _context3.next=12,story.searchFor(story.tree.current,"burger");case 12:return _context3.next=14,story.wait(1e3);case 14:return _context3.next=16,story.searchFor(story.tree.current,"ssert");case 16:return _context3.next=18,story.wait(1e3);case 18:return _context3.next=20,story.searchFor(story.tree.current,"berries");case 20:return _context3.next=22,story.wait(1e3);case 22:return _context3.next=24,story.searchFor(story.tree.current,"orange");case 24:return _context3.next=26,story.wait(1e3);case 26:return _context3.next=28,story.searchFor(story.tree.current,"e");case 28:return _context3.next=30,story.wait(1e3);case 30:return _context3.next=32,story.searchFor(story.tree.current,"drinks");case 32:return _context3.next=34,story.wait(1e3);case 34:return _context3.next=36,story.searchFor(story.tree.current,"a");case 36:return _context3.next=38,story.wait(1e3);case 38:case"end":return _context3.stop()}}),_callee3)})));return function(_x3){return _ref5.apply(this,arguments)}}(),children:function children(environmentProps,environmentRef,treeRef){var _ref6;return Object(jsx_runtime.jsx)(UncontrolledTreeEnvironment.a,Object.assign({canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref6={},_ref6[treeId1]={expandedItems:["Fruit","Meals","America"]},_ref6),ref:environmentRef},environmentProps,{children:Object(jsx_runtime.jsx)(Tree.a,{treeId:treeId1,rootItem:"root",treeLabel:"Tree Example",ref:treeRef})}))}})};AutoDemoComponent_stories_SearchDemo.displayName="SearchDemo";var AutoDemoComponent_stories_VisibleLiveDescriptorContainer=function VisibleLiveDescriptorContainer(_ref7){var children=_ref7.children,tree=_ref7.tree;return Object(jsx_runtime.jsx)("div",{id:"rct-livedescription-"+tree.treeId,style:{position:"absolute",top:"10px",right:"10px",width:"250px",fontSize:"10px",backgroundColor:"rgba(255, 255, 255, .5)"},children:children})};AutoDemoComponent_stories_VisibleLiveDescriptorContainer.displayName="VisibleLiveDescriptorContainer";var AutoDemoComponent_stories_VisibleLiveDescriptors=function VisibleLiveDescriptors(){return Object(jsx_runtime.jsx)(AutoDemo_AutoDemo,{data:lib.longTree,restart:!0,storyScript:function(){var _ref8=AutoDemoComponent_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee4(story){var _story$tree$current27,_story$tree$current28,_story$env$current30,_story$env$current31,_story$env$current32;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,null===(_story$tree$current27=story.tree.current)||void 0===_story$tree$current27?void 0:_story$tree$current27.focusTree(!1);case 2:return _context4.next=4,null===(_story$tree$current28=story.tree.current)||void 0===_story$tree$current28?void 0:_story$tree$current28.toggleItemSelectStatus(null===(_story$env$current30=story.env.current)||void 0===_story$env$current30?void 0:_story$env$current30.viewState[treeId1].focusedItem);case 4:return _context4.next=6,story.wait(500);case 6:return _context4.next=8,null===(_story$env$current31=story.env.current)||void 0===_story$env$current31?void 0:_story$env$current31.startProgrammaticDrag();case 8:return _context4.next=10,story.wait(500);case 10:return _context4.next=12,story.programmaticMove("down",10,1e3);case 12:return _context4.next=14,story.wait(500);case 14:return _context4.next=16,null===(_story$env$current32=story.env.current)||void 0===_story$env$current32?void 0:_story$env$current32.completeProgrammaticDrag();case 16:case"end":return _context4.stop()}}),_callee4)})));return function(_x4){return _ref8.apply(this,arguments)}}(),children:function children(environmentProps,environmentRef,treeRef){var _ref9;return Object(jsx_runtime.jsx)(UncontrolledTreeEnvironment.a,Object.assign({canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref9={},_ref9[treeId1]={expandedItems:["Fruit","Meals"]},_ref9),ref:environmentRef,renderLiveDescriptorContainer:AutoDemoComponent_stories_VisibleLiveDescriptorContainer},environmentProps,{children:Object(jsx_runtime.jsx)(Tree.a,{treeId:treeId1,rootItem:"root",treeLabel:"Tree Example",ref:treeRef})}))}})};AutoDemoComponent_stories_VisibleLiveDescriptors.displayName="VisibleLiveDescriptors";var AutoDemoComponent_stories_SingleTreeEmptyTemplate=function SingleTreeEmptyTemplate(){return Object(jsx_runtime.jsx)(AutoDemo_AutoDemo,{data:lib.longTree,restart:!0,storyScript:function(){var _ref10=AutoDemoComponent_stories_asyncToGenerator(regeneratorRuntime.mark((function _callee5(story){var _story$tree$current29;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,null===(_story$tree$current29=story.tree.current)||void 0===_story$tree$current29?void 0:_story$tree$current29.focusTree(!1);case 2:case"end":return _context5.stop()}}),_callee5)})));return function(_x5){return _ref10.apply(this,arguments)}}(),children:function children(environmentProps,environmentRef,treeRef){var _ref11;return Object(jsx_runtime.jsx)(UncontrolledTreeEnvironment.a,Object.assign({canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref11={},_ref11[treeId1]={expandedItems:["Fruit","Meals"]},_ref11),ref:environmentRef},environmentProps,{children:Object(jsx_runtime.jsx)(Tree.a,{treeId:treeId1,rootItem:"root",treeLabel:"Tree Example",ref:treeRef})}))}})};AutoDemoComponent_stories_SingleTreeEmptyTemplate.displayName="SingleTreeEmptyTemplate",AutoDemoComponent_stories_SingleTreeDemo.parameters=Object.assign({storySource:{source:"() => (\n  <AutoDemo\n    data={longTree}\n    storyScript={async story => {\n      await story.tree.current?.focusTree(false);\n      await story.searchFor(story.tree.current!, 'banana');\n      await story.wait(1000);\n      await story.tree.current?.moveFocusDown();\n      await story.wait(200);\n      await story.tree.current?.moveFocusDown();\n      await story.wait(500);\n      await story.tree.current?.expandItem(story.env.current?.viewState[treeId1]!.focusedItem!);\n      await story.wait(500);\n      await story.tree.current?.moveFocusDown();\n      await story.wait(200);\n      await story.tree.current?.moveFocusDown();\n      await story.wait(1000);\n      await story.searchFor(story.tree.current!, 'cheese');\n      await story.wait(200);\n      await story.tree.current?.abortSearch();\n      await story.wait(1000);\n      await story.tree.current?.toggleItemSelectStatus(story.env.current?.viewState[treeId1]!.focusedItem!);\n      await story.wait(1000);\n      await story.tree.current?.moveFocusDown();\n      await story.wait(500);\n      await story.tree.current?.toggleItemSelectStatus(story.env.current?.viewState[treeId1]!.focusedItem!);\n      await story.wait(1000);\n      await story.env.current?.startProgrammaticDrag();\n      await story.wait(500);\n      await story.programmaticMove('up', 16);\n      await story.wait(1000);\n      await story.env.current?.completeProgrammaticDrag();\n      await story.wait(1000);\n      await story.env.current?.startProgrammaticDrag();\n      await story.wait(500);\n      await story.programmaticMove('down', 2, 500);\n      await story.wait(1000);\n      await story.env.current?.completeProgrammaticDrag();\n    }}\n  >\n    {(environmentProps, environmentRef, treeRef) => (\n      <UncontrolledTreeEnvironment<string>\n        canDragAndDrop={true}\n        canDropOnItemWithChildren={true}\n        canReorderItems={true}\n        getItemTitle={item => item.data}\n        viewState={{\n          [treeId1]: {\n            expandedItems: ['Fruit', 'Meals'],\n          },\n        }}\n        ref={environmentRef}\n        {...environmentProps}\n      >\n        <Tree treeId={treeId1} rootItem=\"root\" treeLabel=\"Tree Example\" ref={treeRef} />\n      </UncontrolledTreeEnvironment>\n    )}\n  </AutoDemo>\n)"}},AutoDemoComponent_stories_SingleTreeDemo.parameters),AutoDemoComponent_stories_MultiTreeDemo.parameters=Object.assign({storySource:{source:"() => (\n  <AutoDemo\n    restart={true}\n    data={longTree}\n    storyScript={async story => {\n      await story.tree.current?.focusTree(false);\n      await story.searchFor(story.tree.current!, 'banana');\n      await story.wait(1000);\n      await story.tree.current?.moveFocusUp();\n      await story.wait(500);\n      await story.tree.current?.moveFocusUp();\n      await story.wait(500);\n      await story.tree.current?.moveFocusUp();\n      await story.wait(500);\n      await story.tree.current?.moveFocusUp();\n      await story.wait(1000);\n      await story.tree2.current?.focusTree(false);\n      await story.wait(500);\n      await story.tree2.current?.moveFocusDown();\n      await story.wait(500);\n      await story.tree2.current?.moveFocusDown();\n      await story.wait(500);\n      await story.tree2.current?.moveFocusDown();\n      await story.wait(1000);\n      await story.tree2.current?.expandItem(story.env.current?.viewState[treeId2]!.focusedItem!);\n      await story.wait(1000);\n      await story.tree.current?.focusTree(false);\n      await story.wait(500);\n      await story.tree.current?.moveFocusDown();\n      await story.wait(500);\n      await story.tree.current?.moveFocusDown();\n      await story.wait(500);\n      await story.tree.current?.toggleItemSelectStatus(story.env.current?.viewState[treeId1]!.focusedItem!);\n      await story.wait(500);\n      await story.tree.current?.moveFocusDown();\n      await story.wait(500);\n      await story.tree.current?.toggleItemSelectStatus(story.env.current?.viewState[treeId1]!.focusedItem!);\n      await story.wait(500);\n      await story.tree.current?.moveFocusDown();\n      await story.wait(500);\n      await story.tree.current?.toggleItemSelectStatus(story.env.current?.viewState[treeId1]!.focusedItem!);\n      await story.wait(1000);\n      await story.env.current?.startProgrammaticDrag();\n      await story.wait(1000);\n      await story.tree2.current?.focusTree(false);\n      await story.wait(500);\n      await story.programmaticMove('down', 4);\n      await story.wait(500);\n      await story.env.current?.completeProgrammaticDrag();\n      await story.wait(1000);\n      await story.tree2.current?.moveFocusUp();\n      await story.wait(500);\n      await story.tree2.current?.moveFocusUp();\n      await story.wait(500);\n      await story.tree2.current?.moveFocusUp();\n      await story.wait(500);\n      await story.tree2.current?.moveFocusUp();\n      await story.wait(1000);\n      await story.tree2.current?.collapseItem(story.env.current?.viewState[treeId2]!.focusedItem!);\n      await story.wait(1000);\n      await story.tree2.current?.moveFocusUp();\n      await story.wait(500);\n      await story.tree2.current?.moveFocusUp();\n      await story.wait(500);\n      await story.tree2.current?.expandItem(story.env.current?.viewState[treeId2]!.focusedItem!);\n      await story.wait(500);\n      await story.tree2.current?.moveFocusDown();\n      await story.wait(500);\n      await story.tree2.current?.expandItem(story.env.current?.viewState[treeId2]!.focusedItem!);\n      await story.wait(200);\n      await story.tree2.current?.moveFocusDown();\n      await story.wait(200);\n      await story.tree2.current?.toggleItemSelectStatus(story.env.current?.viewState[treeId2]!.focusedItem!);\n      await story.wait(200);\n      await story.tree2.current?.moveFocusDown();\n      await story.wait(200);\n      await story.tree2.current?.toggleItemSelectStatus(story.env.current?.viewState[treeId2]!.focusedItem!);\n      await story.wait(200);\n      await story.tree2.current?.moveFocusDown();\n      await story.wait(200);\n      await story.tree2.current?.toggleItemSelectStatus(story.env.current?.viewState[treeId2]!.focusedItem!);\n      await story.wait(200);\n      await story.tree2.current?.moveFocusDown();\n      await story.wait(200);\n      await story.tree2.current?.toggleItemSelectStatus(story.env.current?.viewState[treeId2]!.focusedItem!);\n      await story.wait(200);\n      await story.tree2.current?.moveFocusDown();\n      await story.wait(200);\n      await story.tree2.current?.toggleItemSelectStatus(story.env.current?.viewState[treeId2]!.focusedItem!);\n      await story.wait(1000);\n      await story.env.current?.startProgrammaticDrag();\n      await story.programmaticMove('down', 8);\n      await story.env.current?.completeProgrammaticDrag();\n      await story.wait(1000);\n      await story.tree.current?.focusTree(false);\n      await story.wait(200);\n      await story.searchFor(story.tree.current!, 'meals');\n      await story.wait(500);\n      await story.tree.current?.collapseItem(story.env.current?.viewState[treeId1]!.focusedItem!);\n      await story.wait(1000);\n      await story.tree2.current?.focusTree(false);\n      await story.wait(200);\n      await story.env.current?.startProgrammaticDrag();\n      await story.wait(1300);\n      await story.programmaticMove('down', 2);\n      await story.wait(1300);\n      await story.env.current?.completeProgrammaticDrag();\n      await story.wait(1500);\n      await story.searchFor(story.tree2.current!, 'drinks');\n      await story.wait(1000);\n      await story.tree2.current?.selectItems([story.env.current?.viewState[treeId2]!.focusedItem!]);\n      await story.wait(500);\n      await story.env.current?.startProgrammaticDrag();\n      await story.programmaticMove('up', 26);\n      await story.wait(1000);\n      await story.env.current?.completeProgrammaticDrag();\n      await story.wait(5000);\n    }}\n  >\n    {(environmentProps, environmentRef, treeRef, treeRef2) => (\n      <UncontrolledTreeEnvironment<string>\n        canDragAndDrop={true}\n        canDropOnItemWithChildren={true}\n        canReorderItems={true}\n        getItemTitle={item => item.data}\n        viewState={{\n          [treeId1]: {\n            expandedItems: ['Fruit', 'Meals'],\n          },\n        }}\n        ref={environmentRef}\n        {...environmentProps}\n      >\n        <Tree treeId={treeId1} rootItem=\"root\" treeLabel=\"Tree Example\" ref={treeRef} />\n        <Tree treeId={treeId2} rootItem=\"root\" treeLabel=\"Tree Example\" ref={treeRef2} />\n      </UncontrolledTreeEnvironment>\n    )}\n  </AutoDemo>\n)"}},AutoDemoComponent_stories_MultiTreeDemo.parameters),AutoDemoComponent_stories_SearchDemo.parameters=Object.assign({storySource:{source:"() => (\n  <AutoDemo\n    data={longTree}\n    restart={true}\n    storyScript={async story => {\n      await story.tree.current?.focusTree(false);\n      await story.searchFor(story.tree.current!, 'an');\n      await story.wait(1000);\n      await story.searchFor(story.tree.current!, 'banana');\n      await story.wait(1000);\n      await story.searchFor(story.tree.current!, 'burger');\n      await story.wait(1000);\n      await story.searchFor(story.tree.current!, 'ssert');\n      await story.wait(1000);\n      await story.searchFor(story.tree.current!, 'berries');\n      await story.wait(1000);\n      await story.searchFor(story.tree.current!, 'orange');\n      await story.wait(1000);\n      await story.searchFor(story.tree.current!, 'e');\n      await story.wait(1000);\n      await story.searchFor(story.tree.current!, 'drinks');\n      await story.wait(1000);\n      await story.searchFor(story.tree.current!, 'a');\n      await story.wait(1000);\n    }}\n  >\n    {(environmentProps, environmentRef, treeRef) => (\n      <UncontrolledTreeEnvironment<string>\n        canDragAndDrop={true}\n        canDropOnItemWithChildren={true}\n        canReorderItems={true}\n        getItemTitle={item => item.data}\n        viewState={{\n          [treeId1]: {\n            expandedItems: ['Fruit', 'Meals', 'America'],\n          },\n        }}\n        ref={environmentRef}\n        {...environmentProps}\n      >\n        <Tree treeId={treeId1} rootItem=\"root\" treeLabel=\"Tree Example\" ref={treeRef} />\n      </UncontrolledTreeEnvironment>\n    )}\n  </AutoDemo>\n)"}},AutoDemoComponent_stories_SearchDemo.parameters),AutoDemoComponent_stories_VisibleLiveDescriptors.parameters=Object.assign({storySource:{source:"() => (\n  <AutoDemo\n    data={longTree}\n    restart={true}\n    storyScript={async story => {\n      await story.tree.current?.focusTree(false);\n      await story.tree.current?.toggleItemSelectStatus(story.env.current?.viewState[treeId1]!.focusedItem!);\n      await story.wait(500);\n      await story.env.current?.startProgrammaticDrag();\n      await story.wait(500);\n      await story.programmaticMove('down', 10, 1000);\n      await story.wait(500);\n      await story.env.current?.completeProgrammaticDrag();\n    }}\n  >\n    {(environmentProps, environmentRef, treeRef) => (\n      <UncontrolledTreeEnvironment<string>\n        canDragAndDrop={true}\n        canDropOnItemWithChildren={true}\n        canReorderItems={true}\n        getItemTitle={item => item.data}\n        viewState={{\n          [treeId1]: {\n            expandedItems: ['Fruit', 'Meals'],\n          },\n        }}\n        ref={environmentRef}\n        renderLiveDescriptorContainer={VisibleLiveDescriptorContainer}\n        {...environmentProps}\n      >\n        <Tree treeId={treeId1} rootItem=\"root\" treeLabel=\"Tree Example\" ref={treeRef} />\n      </UncontrolledTreeEnvironment>\n    )}\n  </AutoDemo>\n)"}},AutoDemoComponent_stories_VisibleLiveDescriptors.parameters),AutoDemoComponent_stories_SingleTreeEmptyTemplate.parameters=Object.assign({storySource:{source:"() => (\n  <AutoDemo\n    data={longTree}\n    restart={true}\n    storyScript={async story => {\n      await story.tree.current?.focusTree(false);\n    }}\n  >\n    {(environmentProps, environmentRef, treeRef) => (\n      <UncontrolledTreeEnvironment<string>\n        canDragAndDrop={true}\n        canDropOnItemWithChildren={true}\n        canReorderItems={true}\n        getItemTitle={item => item.data}\n        viewState={{\n          [treeId1]: {\n            expandedItems: ['Fruit', 'Meals'],\n          },\n        }}\n        ref={environmentRef}\n        {...environmentProps}\n      >\n        <Tree treeId={treeId1} rootItem=\"root\" treeLabel=\"Tree Example\" ref={treeRef} />\n      </UncontrolledTreeEnvironment>\n    )}\n  </AutoDemo>\n)"}},AutoDemoComponent_stories_SingleTreeEmptyTemplate.parameters)},"./packages/autodemo/src/styles.css":function(module,exports,__webpack_require__){var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./packages/autodemo/src/styles.css");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./packages/blueprintjs-renderers/src/stories/BlueprintJsRenderers.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"BlueprintJsTree",(function(){return BlueprintJsRenderers_stories_BlueprintJsTree})),__webpack_require__.d(__webpack_exports__,"ShortBlueprintJsTree",(function(){return BlueprintJsRenderers_stories_ShortBlueprintJsTree})),__webpack_require__.d(__webpack_exports__,"BlueprintJsTreeWithClickArrowToExpand",(function(){return BlueprintJsRenderers_stories_BlueprintJsTreeWithClickArrowToExpand}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),UncontrolledTreeEnvironment=__webpack_require__("./packages/core/lib/esm/uncontrolledEnvironment/UncontrolledTreeEnvironment.js"),StaticTreeDataProvider=__webpack_require__("./packages/core/lib/esm/uncontrolledEnvironment/StaticTreeDataProvider.js"),Tree=__webpack_require__("./packages/core/lib/esm/tree/Tree.js"),types=__webpack_require__("./packages/core/lib/esm/types.js"),lib=__webpack_require__("./packages/demodata/lib/index.js"),common=(__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.string.search.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/@blueprintjs/core/lib/esm/common/index.js")),components=__webpack_require__("./node_modules/@blueprintjs/core/lib/esm/components/index.js"),colors_lib=__webpack_require__("./node_modules/@blueprintjs/colors/lib/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),cx=function cx(){for(var _len=arguments.length,classNames=new Array(_len),_key=0;_key<_len;_key++)classNames[_key]=arguments[_key];return classNames.filter((function(cn){return!!cn})).join(" ")},renderers={renderTreeContainer:function renderTreeContainer(props){return Object(jsx_runtime.jsx)("div",{className:cx(common.a.TREE),children:Object(jsx_runtime.jsx)("ul",Object.assign({className:cx(common.a.TREE_ROOT,common.a.TREE_NODE_LIST)},props.containerProps,{children:props.children}))})},renderItemsContainer:function renderItemsContainer(props){return Object(jsx_runtime.jsx)("ul",Object.assign({className:cx(common.a.TREE_NODE_LIST)},props.containerProps,{children:props.children}))},renderItem:function renderItem(props){return Object(jsx_runtime.jsxs)("li",Object.assign({className:cx(common.a.TREE_NODE,(props.context.isSelected||props.context.isDraggingOver)&&common.a.TREE_NODE_SELECTED)},props.context.itemContainerWithChildrenProps,{children:[Object(jsx_runtime.jsxs)("div",Object.assign({className:cx(common.a.TREE_NODE_CONTENT,common.a.TREE_NODE_CONTENT+"-"+props.depth)},props.context.itemContainerWithoutChildrenProps,props.context.interactiveElementProps,{children:[props.item.hasChildren?props.arrow:Object(jsx_runtime.jsx)("span",{className:common.a.TREE_NODE_CARET_NONE}),void 0!==props.item.data.icon?null===props.item.data.icon?null:Object(jsx_runtime.jsx)(components.c,{icon:props.item.data.icon,className:common.a.TREE_NODE_ICON}):(icon=props.item.hasChildren?props.context.isExpanded?"folder-open":"folder-close":"document",Object(jsx_runtime.jsx)(components.c,{icon:icon,className:common.a.TREE_NODE_ICON})),props.title]})),Object(jsx_runtime.jsx)("div",{className:cx(common.a.COLLAPSE),style:props.context.isExpanded?{height:"auto",overflowY:"visible",transition:"none 0s ease 0s"}:{},children:Object(jsx_runtime.jsx)(components.b,{isOpen:props.context.isExpanded,transitionDuration:0,children:props.children})})]}));var icon},renderItemArrow:function renderItemArrow(props){return Object(jsx_runtime.jsx)(components.c,Object.assign({icon:"chevron-right",className:cx(common.a.TREE_NODE_CARET,props.context.isExpanded?common.a.TREE_NODE_CARET_OPEN:common.a.TREE_NODE_CARET_CLOSED)},props.context.arrowProps))},renderItemTitle:function renderItemTitle(_ref){var title=_ref.title,context=_ref.context,info=_ref.info;if(info.isSearching&&context.isSearchMatching){var startIndex=title.toLowerCase().indexOf(info.search.toLowerCase());return Object(jsx_runtime.jsxs)(react_default.a.Fragment,{children:[startIndex>0&&Object(jsx_runtime.jsx)("span",{children:title.slice(0,startIndex)}),Object(jsx_runtime.jsx)("span",{className:"rct-tree-item-search-highlight",children:title.slice(startIndex,startIndex+info.search.length)}),startIndex+info.search.length<title.length&&Object(jsx_runtime.jsx)("span",{children:title.slice(startIndex+info.search.length,title.length)})]})}return Object(jsx_runtime.jsx)("span",{className:common.a.TREE_NODE_LABEL,children:title})},renderDragBetweenLine:function renderDragBetweenLine(_ref2){var draggingPosition=_ref2.draggingPosition,lineProps=_ref2.lineProps;return Object(jsx_runtime.jsx)("div",Object.assign({},lineProps,{style:{position:"absolute",right:"0",top:"between-items"===draggingPosition.targetType&&"top"===draggingPosition.linePosition?"0px":"between-items"===draggingPosition.targetType&&"bottom"===draggingPosition.linePosition?"-4px":"-2px",left:23*draggingPosition.depth+"px",height:"4px",backgroundColor:colors_lib.Colors.BLUE3}}))},renderRenameInput:function renderRenameInput(props){return Object(jsx_runtime.jsxs)("form",Object.assign({},props.formProps,{style:{display:"contents"},children:[Object(jsx_runtime.jsx)("span",{className:common.a.TREE_NODE_LABEL,children:Object(jsx_runtime.jsx)("input",Object.assign({},props.inputProps,{ref:props.inputRef,className:"rct-tree-item-renaming-input"}))}),Object(jsx_runtime.jsx)("span",{className:common.a.TREE_NODE_SECONDARY_LABEL,children:Object(jsx_runtime.jsx)(components.a,Object.assign({icon:"tick"},props.submitButtonProps,{type:"submit",minimal:!0,small:!0}))})]}))},renderSearchInput:function renderSearchInput(props){return Object(jsx_runtime.jsx)("div",{className:cx("rct-tree-search-input-container"),children:Object(jsx_runtime.jsx)(components.d,Object.assign({},props.inputProps,{placeholder:"Search..."}))})},renderDepthOffset:1},focusStyleManager=__webpack_require__("./node_modules/@blueprintjs/core/lib/esm/accessibility/focusStyleManager.js");focusStyleManager.a.onlyShowFocusOnTabs();__webpack_exports__.default={title:"BlueprintJs Renderers/BlueprintJs Renderers",decorators:[function(Story){return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("link",{href:"https://unpkg.com/normalize.css@^8.0.1",rel:"stylesheet"}),Object(jsx_runtime.jsx)("link",{href:"https://unpkg.com/@blueprintjs/core@^4.0.0/lib/css/blueprint.css",rel:"stylesheet"}),Object(jsx_runtime.jsx)(Story,{})]})}]};var BlueprintJsRenderers_stories_BlueprintJsTree=function BlueprintJsTree(){var _ref;return Object(jsx_runtime.jsx)("div",{style:{background:colors_lib.Colors.LIGHT_GRAY5},onMouseDown:function onMouseDown(){return focusStyleManager.a.onlyShowFocusOnTabs()},onKeyDown:function onKeyDown(){return focusStyleManager.a.alwaysShowFocus()},children:Object(jsx_runtime.jsx)(UncontrolledTreeEnvironment.a,Object.assign({canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new StaticTreeDataProvider.a(lib.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref={},_ref["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref)},renderers,{children:Object(jsx_runtime.jsx)(Tree.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})}))})};BlueprintJsRenderers_stories_BlueprintJsTree.displayName="BlueprintJsTree";var BlueprintJsRenderers_stories_ShortBlueprintJsTree=function ShortBlueprintJsTree(){var _ref2;return Object(jsx_runtime.jsx)("div",{style:{background:colors_lib.Colors.LIGHT_GRAY5},onMouseDown:function onMouseDown(){return focusStyleManager.a.onlyShowFocusOnTabs()},onKeyDown:function onKeyDown(){return focusStyleManager.a.alwaysShowFocus()},children:Object(jsx_runtime.jsx)(UncontrolledTreeEnvironment.a,Object.assign({canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new StaticTreeDataProvider.a(lib.shortTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref2={},_ref2["tree-1"]={expandedItems:["container"]},_ref2)},renderers,{children:Object(jsx_runtime.jsx)(Tree.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})}))})};BlueprintJsRenderers_stories_ShortBlueprintJsTree.displayName="ShortBlueprintJsTree";var BlueprintJsRenderers_stories_BlueprintJsTreeWithClickArrowToExpand=function BlueprintJsTreeWithClickArrowToExpand(){var _ref3;return Object(jsx_runtime.jsx)("div",{style:{background:colors_lib.Colors.LIGHT_GRAY5},onMouseDown:function onMouseDown(){return focusStyleManager.a.onlyShowFocusOnTabs()},onKeyDown:function onKeyDown(){return focusStyleManager.a.alwaysShowFocus()},children:Object(jsx_runtime.jsx)(UncontrolledTreeEnvironment.a,Object.assign({canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new StaticTreeDataProvider.a(lib.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},defaultInteractionMode:types.a.ClickArrowToExpand,viewState:(_ref3={},_ref3["tree-1"]={},_ref3)},renderers,{children:Object(jsx_runtime.jsx)(Tree.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})}))})};BlueprintJsRenderers_stories_BlueprintJsTreeWithClickArrowToExpand.displayName="BlueprintJsTreeWithClickArrowToExpand",BlueprintJsRenderers_stories_BlueprintJsTree.parameters=Object.assign({storySource:{source:"() => (\n  <div\n    style={{ background: Colors.LIGHT_GRAY5 }}\n    onMouseDown={() => FocusStyleManager.onlyShowFocusOnTabs()}\n    onKeyDown={() => FocusStyleManager.alwaysShowFocus()}\n  >\n    <UncontrolledTreeEnvironment<string>\n      canDragAndDrop={true}\n      canDropOnItemWithChildren={true}\n      canReorderItems={true}\n      dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n      getItemTitle={item => item.data}\n      viewState={{\n        ['tree-1']: {\n          expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n        },\n      }}\n      {...renderers}\n    >\n      <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n    </UncontrolledTreeEnvironment>\n  </div>\n)"}},BlueprintJsRenderers_stories_BlueprintJsTree.parameters),BlueprintJsRenderers_stories_ShortBlueprintJsTree.parameters=Object.assign({storySource:{source:'() => (\n  <div\n    style={{ background: Colors.LIGHT_GRAY5 }}\n    onMouseDown={() => FocusStyleManager.onlyShowFocusOnTabs()}\n    onKeyDown={() => FocusStyleManager.alwaysShowFocus()}\n  >\n    <UncontrolledTreeEnvironment<string>\n      canDragAndDrop={true}\n      canDropOnItemWithChildren={true}\n      canReorderItems={true}\n      dataProvider={new StaticTreeDataProvider(shortTree.items, (item, data) => ({ ...item, data }))}\n      getItemTitle={item => item.data}\n      viewState={{\n        [\'tree-1\']: {\n          expandedItems: [\'container\'],\n        },\n      }}\n      {...renderers}\n    >\n      <Tree treeId="tree-1" rootItem="root" treeLabel="Tree Example" />\n    </UncontrolledTreeEnvironment>\n  </div>\n)'}},BlueprintJsRenderers_stories_ShortBlueprintJsTree.parameters),BlueprintJsRenderers_stories_BlueprintJsTreeWithClickArrowToExpand.parameters=Object.assign({storySource:{source:'() => (\n  <div\n    style={{ background: Colors.LIGHT_GRAY5 }}\n    onMouseDown={() => FocusStyleManager.onlyShowFocusOnTabs()}\n    onKeyDown={() => FocusStyleManager.alwaysShowFocus()}\n  >\n    <UncontrolledTreeEnvironment<string>\n      canDragAndDrop={true}\n      canDropOnItemWithChildren={true}\n      canReorderItems={true}\n      dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n      getItemTitle={item => item.data}\n      defaultInteractionMode={InteractionMode.ClickArrowToExpand}\n      viewState={{\n        [\'tree-1\']: {},\n      }}\n      {...renderers}\n    >\n      <Tree treeId="tree-1" rootItem="root" treeLabel="Tree Example" />\n    </UncontrolledTreeEnvironment>\n  </div>\n)'}},BlueprintJsRenderers_stories_BlueprintJsTreeWithClickArrowToExpand.parameters)},"./packages/core/lib/esm/controlledEnvironment/ControlledTreeEnvironment.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return ControlledTreeEnvironment_useTreeEnvironment})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ControlledTreeEnvironment}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js");var react=__webpack_require__("./node_modules/react/index.js"),InteractionManagerProvider=__webpack_require__("./packages/core/lib/esm/controlledEnvironment/InteractionManagerProvider.js"),DragAndDropProvider=__webpack_require__("./packages/core/lib/esm/controlledEnvironment/DragAndDropProvider.js"),EnvironmentActionsProvider=__webpack_require__("./packages/core/lib/esm/environmentActions/EnvironmentActionsProvider.js"),createDefaultRenderers=(__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./packages/core/lib/esm/renderers/createDefaultRenderers.js")),utils=__webpack_require__("./packages/core/lib/esm/utils.js"),getItemsLinearly=__webpack_require__("./packages/core/lib/esm/tree/getItemsLinearly.js"),useRefCopy_useRefCopy=function useRefCopy(value){var ref=Object(react.useRef)(value);return ref.current=value,ref},__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},useControlledTreeEnvironmentProps_useControlledTreeEnvironmentProps=function useControlledTreeEnvironmentProps(_a){var onExpandItemProp=_a.onExpandItem,onCollapseProp=_a.onCollapseItem,onDropProp=_a.onDrop,props=__rest(_a,["onExpandItem","onCollapseItem","onDrop"]),_b=Object(react.useState)({}),trees=_b[0],setTrees=_b[1],_c=Object(react.useState)({}),linearItems=_c[0],setLinearItems=_c[1],_d=Object(react.useState)(),activeTreeId=_d[0],setActiveTreeId=_d[1],viewStateRef=useRefCopy_useRefCopy(props.viewState),treeIds=Object(react.useMemo)((function(){return Object.keys(trees)}),[trees]),onFocusItem=props.onFocusItem,autoFocus=props.autoFocus,onRegisterTree=props.onRegisterTree,onUnregisterTree=props.onUnregisterTree,items=props.items,onFocusItemRef=useRefCopy_useRefCopy(onFocusItem),updateLinearItems=function useStableHandler(handler){var handlerRef=useRefCopy_useRefCopy(handler);return Object(react.useCallback)((function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return handlerRef.current.apply(handlerRef,args)}),[handlerRef])}((function(){setTimeout((function(){setLinearItems(Object(utils.a)(treeIds,(function(treeId){var _a;return Object(getItemsLinearly.a)(trees[treeId].rootItem,null!==(_a=viewStateRef.current[treeId])&&void 0!==_a?_a:{},items)})))}))}));Object(react.useEffect)((function(){return updateLinearItems()}),[items,treeIds,updateLinearItems]);var onFocusItemHandler=Object(react.useCallback)((function(item,treeId){var _a,_b,_c,_d,_e,_f;if((null===(_a=viewStateRef.current[treeId])||void 0===_a?void 0:_a.focusedItem)!==item.index){null===(_b=onFocusItemRef.current)||void 0===_b||_b.call(onFocusItemRef,item,treeId);var newItem=document.querySelector('[data-rct-tree="'+treeId+'"] [data-rct-item-id="'+item.index+'"]');(null==autoFocus||autoFocus)&&("true"!==(null===(_d=null===(_c=document.activeElement)||void 0===_c?void 0:_c.attributes.getNamedItem("data-rct-search-input"))||void 0===_d?void 0:_d.value)?null===(_f=null===(_e=newItem)||void 0===_e?void 0:_e.focus)||void 0===_f||_f.call(_e):function scrollIntoView(element){if(element)if(element.scrollIntoViewIfNeeded)element.scrollIntoViewIfNeeded();else{var boundingBox=element.getBoundingClientRect();boundingBox.top>=0&&boundingBox.left>=0&&boundingBox.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&boundingBox.right<=(window.innerWidth||document.documentElement.clientWidth)||element.scrollIntoView()}}(newItem))}}),[autoFocus,onFocusItemRef,viewStateRef]),registerTree=Object(react.useCallback)((function(tree){setTrees((function(trees){var _a;return __assign(__assign({},trees),((_a={})[tree.treeId]=tree,_a))})),null==onRegisterTree||onRegisterTree(tree),updateLinearItems()}),[onRegisterTree,updateLinearItems]),unregisterTree=Object(react.useCallback)((function(treeId){null==onUnregisterTree||onUnregisterTree(trees[treeId]),delete trees[treeId],setTrees(trees)}),[onUnregisterTree,trees]),onCollapseItem=Object(react.useCallback)((function(item,treeId){null==onCollapseProp||onCollapseProp(item,treeId),updateLinearItems()}),[onCollapseProp,updateLinearItems]),onExpandItem=Object(react.useCallback)((function(item,treeId){null==onExpandItemProp||onExpandItemProp(item,treeId),updateLinearItems()}),[onExpandItemProp,updateLinearItems]),onDrop=Object(react.useCallback)((function(items,target){null==onDropProp||onDropProp(items,target),updateLinearItems()}),[onDropProp,updateLinearItems]),setActiveTree=Object(react.useCallback)((function(treeIdOrSetStateFunction,autoFocusTree){void 0===autoFocusTree&&(autoFocusTree=!0);var focusTree=function focusTree(treeId){var _a,_b,_c;autoFocusTree&&(null==autoFocus||autoFocus)&&treeId&&!(null===(_a=document.querySelector('[data-rct-tree="'+treeId+'"]'))||void 0===_a?void 0:_a.contains(document.activeElement))&&(null===(_c=null===(_b=document.querySelector('[data-rct-tree="'+treeId+'"] [data-rct-item-focus="true"]'))||void 0===_b?void 0:_b.focus)||void 0===_c||_c.call(_b))};if("function"==typeof treeIdOrSetStateFunction)setActiveTreeId((function(oldValue){var treeId=treeIdOrSetStateFunction(oldValue);return treeId!==oldValue&&focusTree(treeId),treeId}));else{var treeId=treeIdOrSetStateFunction;setActiveTreeId(treeId),focusTree(treeId)}}),[autoFocus]),renderers=function useRenderers(_a){var renderItem=_a.renderItem,renderItemTitle=_a.renderItemTitle,renderItemArrow=_a.renderItemArrow,renderRenameInput=_a.renderRenameInput,renderDraggingItem=_a.renderDraggingItem,renderDraggingItemTitle=_a.renderDraggingItemTitle,renderItemsContainer=_a.renderItemsContainer,renderTreeContainer=_a.renderTreeContainer,renderDragBetweenLine=_a.renderDragBetweenLine,renderSearchInput=_a.renderSearchInput,renderLiveDescriptorContainer=_a.renderLiveDescriptorContainer,renderDepthOffset=_a.renderDepthOffset,defaultRenderers=Object(react.useMemo)((function(){return Object(createDefaultRenderers.a)(null!=renderDepthOffset?renderDepthOffset:10)}),[renderDepthOffset]),customRenderers={renderItem:renderItem,renderItemTitle:renderItemTitle,renderItemArrow:renderItemArrow,renderRenameInput:renderRenameInput,renderDraggingItem:renderDraggingItem,renderDraggingItemTitle:renderDraggingItemTitle,renderItemsContainer:renderItemsContainer,renderTreeContainer:renderTreeContainer,renderDragBetweenLine:renderDragBetweenLine,renderSearchInput:renderSearchInput,renderLiveDescriptorContainer:renderLiveDescriptorContainer,renderDepthOffset:renderDepthOffset},renderers=Object.entries(defaultRenderers).reduce((function(acc,_a){var key=_a[0],value=_a[1],keyMapped=key;return acc[keyMapped]=customRenderers[keyMapped]?customRenderers[keyMapped]:value,acc}),{});return renderers.renderItem.displayName="RenderItem",renderers.renderItemTitle.displayName="RenderItemTitle",renderers.renderItemArrow.displayName="RenderItemArrow",renderers.renderRenameInput.displayName="RenderRenameInput",renderers.renderDraggingItem.displayName="RenderDraggingItem",renderers.renderDraggingItemTitle.displayName="RenderDraggingItemTitle",renderers.renderItemsContainer.displayName="RenderItemsContainer",renderers.renderTreeContainer.displayName="RenderTreeContainer",renderers.renderDragBetweenLine.displayName="RenderDragBetweenLine",renderers.renderSearchInput.displayName="RenderSearchInput",renderers}(props);return __assign(__assign(__assign({},renderers),props),{onFocusItem:onFocusItemHandler,registerTree:registerTree,unregisterTree:unregisterTree,onExpandItem:onExpandItem,onCollapseItem:onCollapseItem,onDrop:onDrop,setActiveTree:setActiveTree,treeIds:treeIds,trees:trees,activeTreeId:activeTreeId,linearItems:linearItems})},ControlledTreeEnvironment_assign=function(){return ControlledTreeEnvironment_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},ControlledTreeEnvironment_assign.apply(this,arguments)},TreeEnvironmentContext=react.createContext(null),ControlledTreeEnvironment_useTreeEnvironment=function useTreeEnvironment(){return Object(react.useContext)(TreeEnvironmentContext)},ControlledTreeEnvironment=react.forwardRef((function(props,ref){for(var _a,_b,_c,environmentContextProps=useControlledTreeEnvironmentProps_useControlledTreeEnvironmentProps(props),viewState=props.viewState,_i=0,_d=Object.keys(environmentContextProps.trees);_i<_d.length;_i++){var treeId=_d[_i];!(null===(_a=viewState[treeId])||void 0===_a?void 0:_a.focusedItem)&&environmentContextProps.trees[treeId]&&(viewState[treeId]=ControlledTreeEnvironment_assign(ControlledTreeEnvironment_assign({},viewState[treeId]),{focusedItem:null===(_c=null===(_b=props.items[environmentContextProps.trees[treeId].rootItem])||void 0===_b?void 0:_b.children)||void 0===_c?void 0:_c[0]}))}return react.createElement(TreeEnvironmentContext.Provider,{value:environmentContextProps},react.createElement(InteractionManagerProvider.a,null,react.createElement(DragAndDropProvider.a,null,react.createElement(EnvironmentActionsProvider.a,{ref:ref},props.children))))}));ControlledTreeEnvironment.__docgenInfo={description:"",methods:[],displayName:"ControlledTreeEnvironment"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/lib/esm/controlledEnvironment/ControlledTreeEnvironment.js"]={name:"ControlledTreeEnvironment",docgenInfo:ControlledTreeEnvironment.__docgenInfo,path:"packages/core/lib/esm/controlledEnvironment/ControlledTreeEnvironment.js"})},"./packages/core/lib/esm/controlledEnvironment/DragAndDropProvider.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return DragAndDropProvider_useDragAndDrop})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DragAndDropProvider_DragAndDropProvider}));__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js");var react=__webpack_require__("./node_modules/react/index.js"),ControlledTreeEnvironment=__webpack_require__("./packages/core/lib/esm/controlledEnvironment/ControlledTreeEnvironment.js"),useGetParentOfLinearItem_useGetGetParentOfLinearItem=(__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),function useGetGetParentOfLinearItem(){var environment=Object(ControlledTreeEnvironment.b)();return Object(react.useCallback)((function(itemLinearIndex,treeId){for(var linearItems=environment.linearItems[treeId],depth=linearItems[itemLinearIndex].depth,parentLinearIndex=itemLinearIndex;linearItems[parentLinearIndex]&&linearItems[parentLinearIndex].depth!==depth-1;parentLinearIndex--);var parent=linearItems[parentLinearIndex];return parent||(parent={item:environment.trees[treeId].rootItem,depth:0},parentLinearIndex=0),parent}),[environment.linearItems,environment.trees])}),useOnDragOverTreeHandler_useOnDragOverTreeHandler=function useOnDragOverTreeHandler(lastDragCode,setLastDragCode,itemHeight,onDragAtPosition,onPerformDrag){var _a=Object(ControlledTreeEnvironment.b)(),canDropOnItemWithChildren=_a.canDropOnItemWithChildren,canDropOnItemWithoutChildren=_a.canDropOnItemWithoutChildren,canDragAndDrop=_a.canDragAndDrop,linearItems=_a.linearItems,items=_a.items,canReorderItems=_a.canReorderItems,viewState=_a.viewState,getParentOfLinearItem=useGetParentOfLinearItem_useGetGetParentOfLinearItem();return Object(react.useCallback)((function(e,treeId,containerRef){var _a,_b,_c,_d;if(canDragAndDrop&&containerRef.current&&!(e.clientX<0||e.clientY<0)){var treeBb=containerRef.current.getBoundingClientRect(),outsideContainer=function isOutsideOfContainer(e,treeBb){return e.clientX<treeBb.left||e.clientX>treeBb.right||e.clientY<treeBb.top||e.clientY>treeBb.bottom}(e,treeBb),_e=function getHoveringPosition(clientY,treeTop,itemHeight,canDropOnItemWithChildren,canDropOnItemWithoutChildren){var hoveringPosition=(clientY-treeTop)/itemHeight,offset=void 0,lineThreshold=canDropOnItemWithChildren||canDropOnItemWithoutChildren?.2:.5;return hoveringPosition%1<lineThreshold?offset="top":hoveringPosition%1>1-lineThreshold&&(offset="bottom"),{linearIndex:Math.floor(hoveringPosition),offset:offset}}(e.clientY,treeBb.top,itemHeight,canDropOnItemWithChildren,canDropOnItemWithoutChildren),linearIndex=_e.linearIndex,offset=_e.offset,nextDragCode=outsideContainer?"outside":""+treeId+linearIndex+(null!=offset?offset:"");if(lastDragCode!==nextDragCode)if(setLastDragCode(nextDragCode),outsideContainer)onDragAtPosition(void 0);else if(linearIndex<0||linearIndex>=linearItems[treeId].length)onDragAtPosition(void 0);else{var targetItem=linearItems[treeId][linearIndex],depth=targetItem.depth,targetItemData=items[targetItem.item];if(offset||canDropOnItemWithoutChildren||targetItemData.hasChildren)if(offset||canDropOnItemWithChildren||!targetItemData.hasChildren)if(!offset||canReorderItems){var parent=getParentOfLinearItem(linearIndex,treeId);if(!(null===(_b=null===(_a=viewState[treeId])||void 0===_a?void 0:_a.selectedItems)||void 0===_b?void 0:_b.includes(targetItem.item))){var draggingPosition,newChildIndex=items[parent.item].children.indexOf(targetItem.item)+("top"===offset?0:1);"top"===offset&&depth===(null!==(_d=null===(_c=linearItems[treeId][linearIndex-1])||void 0===_c?void 0:_c.depth)&&void 0!==_d?_d:-1)&&(offset="bottom",linearIndex-=1),draggingPosition=offset?{targetType:"between-items",treeId:treeId,parentItem:parent.item,depth:targetItem.depth,linearIndex:linearIndex+("top"===offset?0:1),childIndex:newChildIndex,linePosition:offset}:{targetType:"item",treeId:treeId,parentItem:parent.item,targetItem:targetItem.item,depth:targetItem.depth,linearIndex:linearIndex},onPerformDrag(draggingPosition)}}else onDragAtPosition(void 0);else onDragAtPosition(void 0);else onDragAtPosition(void 0)}}}),[canDragAndDrop,canDropOnItemWithChildren,canDropOnItemWithoutChildren,canReorderItems,getParentOfLinearItem,itemHeight,items,lastDragCode,linearItems,onDragAtPosition,onPerformDrag,setLastDragCode,viewState])},useCanDropAt_useCanDropAt=function useCanDropAt(){var environment=Object(ControlledTreeEnvironment.b)();return Object(react.useCallback)((function(draggingPosition,draggingItems){if("between-items"===draggingPosition.targetType){if(!environment.canReorderItems)return!1}else{var resolvedItem=environment.items[draggingPosition.targetItem];if(!environment.canDropOnItemWithChildren&&resolvedItem.hasChildren||!environment.canDropOnItemWithoutChildren&&!resolvedItem.hasChildren)return!1}return!!(!environment.canDropAt||draggingItems&&environment.canDropAt(draggingItems,draggingPosition))}),[environment])},__spreadArray=(__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),function(to,from){for(var i=0,il=from.length,j=to.length;i<il;i++,j++)to[j]=from[i];return to}),useSideEffect=__webpack_require__("./packages/core/lib/esm/useSideEffect.js"),utils=__webpack_require__("./packages/core/lib/esm/utils.js"),useCallSoon=__webpack_require__("./packages/core/lib/esm/useCallSoon.js"),DragAndDropContext=react.createContext(null),DragAndDropProvider_useDragAndDrop=function useDragAndDrop(){return react.useContext(DragAndDropContext)},DragAndDropProvider_DragAndDropProvider=function DragAndDropProvider(props){var environment=Object(ControlledTreeEnvironment.b)(),_a=Object(react.useState)(!1),isProgrammaticallyDragging=_a[0],setIsProgrammaticallyDragging=_a[1],_b=Object(react.useState)(4),itemHeight=_b[0],setItemHeight=_b[1],_c=Object(react.useState)({}),viableDragPositions=_c[0],setViableDragPositions=_c[1],_d=Object(react.useState)(0),programmaticDragIndex=_d[0],setProgrammaticDragIndex=_d[1],_e=Object(react.useState)(),draggingItems=_e[0],setDraggingItems=_e[1],_f=Object(react.useState)(),draggingPosition=_f[0],setDraggingPosition=_f[1],_g=Object(react.useState)("_nodrag"),dragCode=_g[0],setDragCode=_g[1],getViableDragPositions=function useGetViableDragPositions(){var environment=Object(ControlledTreeEnvironment.b)(),getParentOfLinearItem=useGetParentOfLinearItem_useGetGetParentOfLinearItem(),canDropAt=useCanDropAt_useCanDropAt();return Object(react.useCallback)((function(treeId,draggingItems){var linearItems=environment.linearItems[treeId];return linearItems.map((function(_a,linearIndex){var _b,_c,item=_a.item,depth=_a.depth,parent=getParentOfLinearItem(linearIndex,treeId),childIndex=environment.items[parent.item].children.indexOf(item),itemPosition={targetType:"item",parentItem:parent.item,targetItem:item,linearIndex:linearIndex,depth:depth,treeId:treeId},topPosition={targetType:"between-items",parentItem:parent.item,linePosition:"top",childIndex:childIndex,depth:depth,treeId:treeId,linearIndex:linearIndex},bottomPosition={targetType:"between-items",parentItem:parent.item,linePosition:"bottom",linearIndex:linearIndex+1,childIndex:childIndex+1,depth:depth,treeId:treeId};return depth===(null!==(_c=null===(_b=linearItems[linearIndex-1])||void 0===_b?void 0:_b.depth)&&void 0!==_c?_c:-1)?[itemPosition,bottomPosition]:[topPosition,itemPosition,bottomPosition]})).reduce((function(a,b){return __spreadArray(__spreadArray([],a),b)}),[]).filter((function(position){return canDropAt(position,draggingItems)}))}),[canDropAt,environment.items,environment.linearItems,getParentOfLinearItem])}(),callSoon=Object(useCallSoon.a)(),resetProgrammaticDragIndexForCurrentTree=(Object(react.useRef)(!1),Object(react.useCallback)((function(viableDragPositions,draggingItems){var _a;if(environment.activeTreeId&&(null===(_a=environment.viewState[environment.activeTreeId])||void 0===_a?void 0:_a.focusedItem)&&environment.linearItems&&draggingItems){var focusItem_1=environment.viewState[environment.activeTreeId].focusedItem,treeDragPositions=getViableDragPositions(environment.activeTreeId,draggingItems),newPos=treeDragPositions.findIndex((function(pos){return"item"===pos.targetType?pos.targetItem===focusItem_1:"between-items"===pos.targetType?environment.items[pos.parentItem].children[pos.childIndex]===focusItem_1:void 0}));setProgrammaticDragIndex(newPos?Math.min(newPos+1,treeDragPositions.length-1):0)}else setProgrammaticDragIndex(0)}),[environment.activeTreeId,environment.items,environment.linearItems,environment.viewState,getViableDragPositions])),resetState=Object(react.useCallback)((function(){setIsProgrammaticallyDragging(!1),setItemHeight(4),setViableDragPositions({}),setProgrammaticDragIndex(0),setDraggingItems(void 0),setDraggingPosition(void 0),setDragCode("_nodrag")}),[]);Object(useSideEffect.a)((function(){environment.activeTreeId&&environment.linearItems[environment.activeTreeId]&&viableDragPositions[environment.activeTreeId]&&resetProgrammaticDragIndexForCurrentTree(viableDragPositions[environment.activeTreeId],draggingItems)}),[draggingItems,environment.activeTreeId,environment.linearItems,resetProgrammaticDragIndexForCurrentTree,viableDragPositions],[environment.activeTreeId]),Object(useSideEffect.a)((function(){isProgrammaticallyDragging&&environment.activeTreeId&&setDraggingPosition(viableDragPositions[environment.activeTreeId][programmaticDragIndex])}),[programmaticDragIndex,environment.activeTreeId,isProgrammaticallyDragging,viableDragPositions],[programmaticDragIndex,environment.activeTreeId]);var canDropAt=useCanDropAt_useCanDropAt(),onDragOverTreeHandler=useOnDragOverTreeHandler_useOnDragOverTreeHandler(dragCode,setDragCode,itemHeight,setDraggingPosition,(function performDrag(draggingPosition){var _a;draggingItems&&!canDropAt(draggingPosition,draggingItems)||(setDraggingPosition(draggingPosition),environment.setActiveTree(draggingPosition.treeId),draggingItems&&environment.activeTreeId!==draggingPosition.treeId&&(null===(_a=environment.onSelectItems)||void 0===_a||_a.call(environment,draggingItems.map((function(item){return item.index})),draggingPosition.treeId)))})),onDropHandler=Object(react.useCallback)((function(){draggingItems&&draggingPosition&&environment.onDrop&&(environment.onDrop(draggingItems,draggingPosition),callSoon((function(){var _a;null===(_a=environment.onFocusItem)||void 0===_a||_a.call(environment,draggingItems[0],draggingPosition.treeId),resetState()})))}),[draggingItems,draggingPosition,environment,resetState,callSoon]),onStartDraggingItems=Object(react.useCallback)((function(items,treeId){var _a,_b,treeViableDragPositions=Object(utils.a)(environment.treeIds,(function(treeId){return getViableDragPositions(treeId,items)})),height=null!==(_b=null===(_a=document.querySelector('[data-rct-tree="'+treeId+'"] [data-rct-item-container="true"]'))||void 0===_a?void 0:_a.offsetHeight)&&void 0!==_b?_b:5;setItemHeight(height),setDraggingItems(items),setViableDragPositions(treeViableDragPositions),environment.activeTreeId&&resetProgrammaticDragIndexForCurrentTree(treeViableDragPositions[environment.activeTreeId],items)}),[environment.activeTreeId,environment.treeIds,getViableDragPositions,resetProgrammaticDragIndexForCurrentTree]),startProgrammaticDrag=Object(react.useCallback)((function(){var _a,_b,_c;if(environment.canDragAndDrop&&environment.activeTreeId){var draggingItems_1=null!==(_b=null===(_a=environment.viewState[environment.activeTreeId])||void 0===_a?void 0:_a.selectedItems)&&void 0!==_b?_b:[null===(_c=environment.viewState[environment.activeTreeId])||void 0===_c?void 0:_c.focusedItem];if(0===draggingItems_1.length||void 0===draggingItems_1[0])return;var resolvedDraggingItems=draggingItems_1.map((function(id){return environment.items[id]}));if(environment.canDrag&&!environment.canDrag(resolvedDraggingItems))return;onStartDraggingItems(resolvedDraggingItems,environment.activeTreeId),setTimeout((function(){setIsProgrammaticallyDragging(!0)}))}}),[onStartDraggingItems,environment]),abortProgrammaticDrag=Object(react.useCallback)((function(){resetState()}),[resetState]),completeProgrammaticDrag=Object(react.useCallback)((function(){onDropHandler(),resetState()}),[onDropHandler,resetState]),programmaticDragUp=Object(react.useCallback)((function(){setProgrammaticDragIndex((function(oldIndex){return Math.max(0,oldIndex-1)}))}),[]),programmaticDragDown=Object(react.useCallback)((function(){environment.activeTreeId&&setProgrammaticDragIndex((function(oldIndex){return Math.min(viableDragPositions[environment.activeTreeId].length,oldIndex+1)}))}),[environment.activeTreeId,viableDragPositions]),dnd={onStartDraggingItems:onStartDraggingItems,startProgrammaticDrag:startProgrammaticDrag,abortProgrammaticDrag:abortProgrammaticDrag,completeProgrammaticDrag:completeProgrammaticDrag,programmaticDragUp:programmaticDragUp,programmaticDragDown:programmaticDragDown,draggingItems:draggingItems,draggingPosition:draggingPosition,itemHeight:itemHeight,isProgrammaticallyDragging:isProgrammaticallyDragging,onDragOverTreeHandler:onDragOverTreeHandler,viableDragPositions:viableDragPositions};return Object(react.useEffect)((function(){return window.addEventListener("dragend",resetState),window.addEventListener("drop",onDropHandler),function(){window.removeEventListener("dragend",resetState),window.removeEventListener("drop",onDropHandler)}}),[onDropHandler,resetState]),react.createElement(DragAndDropContext.Provider,{value:dnd},props.children)};DragAndDropProvider_DragAndDropProvider.__docgenInfo={description:"",methods:[],displayName:"DragAndDropProvider"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/lib/esm/controlledEnvironment/DragAndDropProvider.js"]={name:"DragAndDropProvider",docgenInfo:DragAndDropProvider_DragAndDropProvider.__docgenInfo,path:"packages/core/lib/esm/controlledEnvironment/DragAndDropProvider.js"})},"./packages/core/lib/esm/controlledEnvironment/InteractionManagerProvider.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return InteractionManagerProvider_useInteractionManager})),__webpack_require__.d(__webpack_exports__,"a",(function(){return InteractionManagerProvider_InteractionManagerProvider}));var react=__webpack_require__("./node_modules/react/index.js"),types=__webpack_require__("./packages/core/lib/esm/types.js"),ControlledTreeEnvironment=__webpack_require__("./packages/core/lib/esm/controlledEnvironment/ControlledTreeEnvironment.js"),__assign=(__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)}),isControlKey=(__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),function isControlKey(e){return e.ctrlKey||navigator.platform.toUpperCase().indexOf("MAC")>=0&&e.metaKey}),DoubleClickItemToExpandInteractionManager_DoubleClickItemToExpandInteractionManager=function(){function DoubleClickItemToExpandInteractionManager(environment){this.mode=types.a.DoubleClickItemToExpand,this.environment=environment}return DoubleClickItemToExpandInteractionManager.prototype.createInteractiveElementProps=function(item,treeId,actions,renderFlags){var _this=this;return{onClick:function onClick(e){actions.focusItem(),e.shiftKey?actions.selectUpTo():isControlKey(e)?renderFlags.isSelected?actions.unselectItem():actions.addToSelectedItems():actions.selectItem()},onDoubleClick:function onDoubleClick(){actions.focusItem(),actions.selectItem(),item.hasChildren&&actions.toggleExpandedState(),item.hasChildren&&!_this.environment.canInvokePrimaryActionOnItemContainer||actions.primaryAction()},onFocus:function onFocus(){actions.focusItem()},onDragStart:function onDragStart(e){e.dataTransfer.dropEffect="move",actions.startDragging()},onDragOver:function onDragOver(e){e.preventDefault()},draggable:renderFlags.canDrag&&!renderFlags.isRenaming,tabIndex:renderFlags.isRenaming?void 0:renderFlags.isFocused?0:-1}},DoubleClickItemToExpandInteractionManager}(),ClickItemToExpandInteractionManager_ClickItemToExpandInteractionManager=function(){function ClickItemToExpandInteractionManager(environment){this.mode=types.a.ClickItemToExpand,this.environment=environment}return ClickItemToExpandInteractionManager.prototype.createInteractiveElementProps=function(item,treeId,actions,renderFlags){var _this=this;return{onClick:function onClick(e){actions.focusItem(),e.shiftKey?actions.selectUpTo():isControlKey(e)?renderFlags.isSelected?actions.unselectItem():actions.addToSelectedItems():(item.hasChildren&&actions.toggleExpandedState(),actions.selectItem(),item.hasChildren&&!_this.environment.canInvokePrimaryActionOnItemContainer||actions.primaryAction())},onFocus:function onFocus(){actions.focusItem()},onDragStart:function onDragStart(e){e.dataTransfer.dropEffect="move",actions.startDragging()},onDragOver:function onDragOver(e){e.preventDefault()},draggable:renderFlags.canDrag&&!renderFlags.isRenaming,tabIndex:renderFlags.isRenaming?void 0:renderFlags.isFocused?0:-1}},ClickItemToExpandInteractionManager}(),ClickArrowToExpandInteractionManager_ClickArrowToExpandInteractionManager=function(){function ClickArrowToExpandInteractionManager(environment){this.mode=types.a.ClickItemToExpand,this.environment=environment}return ClickArrowToExpandInteractionManager.prototype.createInteractiveElementProps=function(item,treeId,actions,renderFlags){var _this=this;return{onClick:function onClick(e){actions.focusItem(),e.shiftKey?actions.selectUpTo():isControlKey(e)?renderFlags.isSelected?actions.unselectItem():actions.addToSelectedItems():(actions.selectItem(),item.hasChildren&&!_this.environment.canInvokePrimaryActionOnItemContainer||actions.primaryAction())},onFocus:function onFocus(){actions.focusItem()},onDragStart:function onDragStart(e){e.dataTransfer.dropEffect="move",actions.startDragging()},onDragOver:function onDragOver(e){e.preventDefault()},draggable:renderFlags.canDrag&&!renderFlags.isRenaming,tabIndex:renderFlags.isRenaming?void 0:renderFlags.isFocused?0:-1}},ClickArrowToExpandInteractionManager}(),buildInteractionMode_buildInteractionMode=function buildInteractionMode(mode,environment){switch(mode){case types.a.DoubleClickItemToExpand:return new DoubleClickItemToExpandInteractionManager_DoubleClickItemToExpandInteractionManager(environment);case types.a.ClickItemToExpand:return new ClickItemToExpandInteractionManager_ClickItemToExpandInteractionManager(environment);case types.a.ClickArrowToExpand:return new ClickArrowToExpandInteractionManager_ClickArrowToExpandInteractionManager(environment);default:throw Error("Unknown interaction mode "+mode)}},InteractionManagerContext=react.createContext(null),InteractionManagerProvider_useInteractionManager=function useInteractionManager(){return react.useContext(InteractionManagerContext)},InteractionManagerProvider_InteractionManagerProvider=function InteractionManagerProvider(props){var environment=Object(ControlledTreeEnvironment.b)(),defaultInteractionMode=environment.defaultInteractionMode,interactionManager=Object(react.useMemo)((function(){var _a;return defaultInteractionMode&&"string"!=typeof defaultInteractionMode?defaultInteractionMode.extends?function mergeInteractionManagers(main,fallback){return{mode:main.mode,createInteractiveElementProps:function createInteractiveElementProps(item,treeId,actions,renderFlags){return __assign(__assign({},fallback.createInteractiveElementProps(item,treeId,actions,renderFlags)),main.createInteractiveElementProps(item,treeId,actions,renderFlags))}}}(defaultInteractionMode,buildInteractionMode_buildInteractionMode(defaultInteractionMode.extends,environment)):defaultInteractionMode:buildInteractionMode_buildInteractionMode(null!==(_a=defaultInteractionMode)&&void 0!==_a?_a:types.a.ClickItemToExpand,environment)}),[]);return react.createElement(InteractionManagerContext.Provider,{value:interactionManager},props.children)};InteractionManagerProvider_InteractionManagerProvider.__docgenInfo={description:"",methods:[],displayName:"InteractionManagerProvider"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/lib/esm/controlledEnvironment/InteractionManagerProvider.js"]={name:"InteractionManagerProvider",docgenInfo:InteractionManagerProvider_InteractionManagerProvider.__docgenInfo,path:"packages/core/lib/esm/controlledEnvironment/InteractionManagerProvider.js"})},"./packages/core/lib/esm/environmentActions/EnvironmentActionsProvider.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return EnvironmentActionsProvider_useEnvironmentActions})),__webpack_require__.d(__webpack_exports__,"a",(function(){return EnvironmentActionsProvider}));__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js");var react=__webpack_require__("./node_modules/react/index.js"),DragAndDropProvider=__webpack_require__("./packages/core/lib/esm/controlledEnvironment/DragAndDropProvider.js"),ControlledTreeEnvironment=__webpack_require__("./packages/core/lib/esm/controlledEnvironment/ControlledTreeEnvironment.js"),__assign=(__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)}),__spreadArray=function(to,from){for(var i=0,il=from.length,j=to.length;i<il;i++,j++)to[j]=from[i];return to},EnvironmentActionsContext=react.createContext(null),EnvironmentActionsProvider_useEnvironmentActions=function useEnvironmentActions(){return react.useContext(EnvironmentActionsContext)},recursiveExpand=function recursiveExpand(itemId,items,onExpand){for(var _a,_b,_i=0,_c=null!==(_b=null===(_a=items[itemId])||void 0===_a?void 0:_a.children)&&void 0!==_b?_b:[];_i<_c.length;_i++){var childId=_c[_i],item=items[childId];(null==item?void 0:item.hasChildren)&&(onExpand(item),recursiveExpand(childId,items,onExpand))}},EnvironmentActionsProvider=react.forwardRef((function(props,ref){var _a=Object(ControlledTreeEnvironment.b)(),onCollapseItem=_a.onCollapseItem,items=_a.items,trees=_a.trees,viewState=_a.viewState,onExpandItem=_a.onExpandItem,onFocusItem=_a.onFocusItem,setActiveTree=_a.setActiveTree,onRenameItem=_a.onRenameItem,onSelectItems=_a.onSelectItems,onPrimaryAction=_a.onPrimaryAction,linearItems=_a.linearItems,_b=Object(DragAndDropProvider.b)(),abortProgrammaticDrag=_b.abortProgrammaticDrag,completeProgrammaticDrag=_b.completeProgrammaticDrag,programmaticDragDown=_b.programmaticDragDown,programmaticDragUp=_b.programmaticDragUp,startProgrammaticDrag=_b.startProgrammaticDrag,actions={abortProgrammaticDrag:Object(react.useCallback)((function(){abortProgrammaticDrag()}),[abortProgrammaticDrag]),collapseItem:Object(react.useCallback)((function(itemId,treeId){null==onCollapseItem||onCollapseItem(items[itemId],treeId)}),[items,onCollapseItem]),completeProgrammaticDrag:Object(react.useCallback)((function(){completeProgrammaticDrag()}),[completeProgrammaticDrag]),expandItem:Object(react.useCallback)((function(itemId,treeId){null==onExpandItem||onExpandItem(items[itemId],treeId)}),[items,onExpandItem]),focusItem:Object(react.useCallback)((function(itemId,treeId){null==onFocusItem||onFocusItem(items[itemId],treeId)}),[items,onFocusItem]),focusTree:Object(react.useCallback)((function(treeId,autoFocus){void 0===autoFocus&&(autoFocus=!0),setActiveTree(treeId,autoFocus)}),[setActiveTree]),moveFocusDown:Object(react.useCallback)((function(treeId){var treeLinearItems=linearItems[treeId],currentFocusIndex=treeLinearItems.findIndex((function(_a){var _b;return _a.item===(null===(_b=viewState[treeId])||void 0===_b?void 0:_b.focusedItem)})),newIndex=void 0!==currentFocusIndex?Math.min(treeLinearItems.length-1,currentFocusIndex+1):0,newItem=items[treeLinearItems[newIndex].item];null==onFocusItem||onFocusItem(newItem,treeId)}),[items,linearItems,onFocusItem,viewState]),moveFocusUp:Object(react.useCallback)((function(treeId){var treeLinearItems=linearItems[treeId],currentFocusIndex=treeLinearItems.findIndex((function(_a){var _b;return _a.item===(null===(_b=viewState[treeId])||void 0===_b?void 0:_b.focusedItem)})),newIndex=void 0!==currentFocusIndex?Math.max(0,currentFocusIndex-1):0,newItem=items[treeLinearItems[newIndex].item];null==onFocusItem||onFocusItem(newItem,treeId)}),[items,linearItems,onFocusItem,viewState]),moveProgrammaticDragPositionDown:Object(react.useCallback)((function(){programmaticDragDown()}),[programmaticDragDown]),moveProgrammaticDragPositionUp:Object(react.useCallback)((function(){programmaticDragUp()}),[programmaticDragUp]),renameItem:Object(react.useCallback)((function(itemId,name,treeId){null==onRenameItem||onRenameItem(items[itemId],name,treeId)}),[items,onRenameItem]),selectItems:Object(react.useCallback)((function(itemsIds,treeId){null==onSelectItems||onSelectItems(itemsIds,treeId)}),[onSelectItems]),startProgrammaticDrag:Object(react.useCallback)((function(){startProgrammaticDrag()}),[startProgrammaticDrag]),toggleItemExpandedState:Object(react.useCallback)((function(itemId,treeId){var _a,_b;(null===(_b=null===(_a=viewState[treeId])||void 0===_a?void 0:_a.expandedItems)||void 0===_b?void 0:_b.includes(itemId))?null==onCollapseItem||onCollapseItem(items[itemId],treeId):null==onExpandItem||onExpandItem(items[itemId],treeId)}),[items,onCollapseItem,onExpandItem,viewState]),toggleItemSelectStatus:Object(react.useCallback)((function(itemId,treeId){var _a,_b,_c,_d,_e;(null===(_b=null===(_a=viewState[treeId])||void 0===_a?void 0:_a.selectedItems)||void 0===_b?void 0:_b.includes(itemId))?null==onSelectItems||onSelectItems(null!==(_d=null===(_c=viewState[treeId].selectedItems)||void 0===_c?void 0:_c.filter((function(item){return item!==itemId})))&&void 0!==_d?_d:[],treeId):null==onSelectItems||onSelectItems(__spreadArray(__spreadArray([],null!==(_e=viewState[treeId].selectedItems)&&void 0!==_e?_e:[]),[itemId]),treeId)}),[onSelectItems,viewState]),invokePrimaryAction:Object(react.useCallback)((function(itemId,treeId){null==onPrimaryAction||onPrimaryAction(items[itemId],treeId)}),[items,onPrimaryAction]),expandAll:Object(react.useCallback)((function(treeId){recursiveExpand(trees[treeId].rootItem,items,(function(item){null==onExpandItem||onExpandItem(item,treeId)}))}),[items,onExpandItem,trees]),collapseAll:Object(react.useCallback)((function(treeId){for(var _a,_b,_i=0,_c=null!==(_b=null===(_a=viewState[treeId])||void 0===_a?void 0:_a.expandedItems)&&void 0!==_b?_b:[];_i<_c.length;_i++){var itemId=_c[_i];null==onCollapseItem||onCollapseItem(items[itemId],treeId)}}),[items,onCollapseItem,viewState])};return function useCreatedEnvironmentRef(ref,actions){var environment=Object(ControlledTreeEnvironment.b)(),dnd=Object(DragAndDropProvider.b)();Object(react.useImperativeHandle)(ref,(function(){return __assign(__assign(__assign({},actions),environment),{treeEnvironmentContext:environment,dragAndDropContext:dnd})}))}(ref,actions),react.createElement(EnvironmentActionsContext.Provider,{value:actions},props.children)}));EnvironmentActionsProvider.__docgenInfo={description:"",methods:[],displayName:"EnvironmentActionsProvider"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/lib/esm/environmentActions/EnvironmentActionsProvider.js"]={name:"EnvironmentActionsProvider",docgenInfo:EnvironmentActionsProvider.__docgenInfo,path:"packages/core/lib/esm/environmentActions/EnvironmentActionsProvider.js"})},"./packages/core/lib/esm/renderers/createDefaultRenderers.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createDefaultRenderers}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.string.search.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js");var react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/index.js"),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},cx=function cx(){for(var classNames=[],_i=0;_i<arguments.length;_i++)classNames[_i]=arguments[_i];return classNames.filter((function(cn){return!!cn})).join(" ")},createDefaultRenderers=function createDefaultRenderers(renderDepthOffset){return{renderItemTitle:function renderItemTitle(_a){var title=_a.title,context=_a.context,info=_a.info;if(info.isSearching&&context.isSearchMatching){var startIndex=title.toLowerCase().indexOf(info.search.toLowerCase());return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment,null,startIndex>0&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,title.slice(0,startIndex)),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"rct-tree-item-search-highlight"},title.slice(startIndex,startIndex+info.search.length)),startIndex+info.search.length<title.length&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",null,title.slice(startIndex+info.search.length,title.length)))}return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment,null,title)},renderItemArrow:function renderItemArrow(_a){var item=_a.item,context=_a.context;return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",__assign({className:cx(item.hasChildren&&"rct-tree-item-arrow-hasChildren","rct-tree-item-arrow")},context.arrowProps),item.hasChildren&&(context.isExpanded?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 16 16",enableBackground:"new 0 0 16 16",xmlSpace:"preserve"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("g",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("g",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12,5c-0.28,0-0.53,0.11-0.71,0.29L8,8.59L4.71,5.29C4.53,5.11,4.28,5,4,5\n                      C3.45,5,3,5.45,3,6c0,0.28,0.11,0.53,0.29,0.71l4,4C7.47,10.89,7.72,11,8,11s0.53-0.11,0.71-0.29l4-4C12.89,6.53,13,6.28,13,6\n                      C13,5.45,12.55,5,12,5z",className:"rct-tree-item-arrow-path"})))):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 16 16",enableBackground:"new 0 0 16 16",xmlSpace:"preserve"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("g",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("g",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.71,7.29l-4-4C6.53,3.11,6.28,3,6,3C5.45,3,5,3.45,5,4\n                      c0,0.28,0.11,0.53,0.29,0.71L8.59,8l-3.29,3.29C5.11,11.47,5,11.72,5,12c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29l4-4\n                      C10.89,8.53,11,8.28,11,8C11,7.72,10.89,7.47,10.71,7.29z",className:"rct-tree-item-arrow-path"}))))))},renderItem:function renderItem(_a){var item=_a.item,depth=_a.depth,children=_a.children,title=_a.title,context=_a.context,arrow=_a.arrow,InteractiveComponent=context.isRenaming?"div":"button",type=context.isRenaming?void 0:"button";return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("li",__assign({},context.itemContainerWithChildrenProps,{className:cx("rct-tree-item-li",item.hasChildren&&"rct-tree-item-li-hasChildren",context.isSelected&&"rct-tree-item-li-selected",context.isExpanded&&"rct-tree-item-li-expanded",context.isFocused&&"rct-tree-item-li-focused",context.isDraggingOver&&"rct-tree-item-li-dragging-over",context.isSearchMatching&&"rct-tree-item-li-search-match")}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",__assign({},context.itemContainerWithoutChildrenProps,{style:{paddingLeft:(depth+1)*renderDepthOffset+"px"},className:cx("rct-tree-item-title-container",item.hasChildren&&"rct-tree-item-title-container-hasChildren",context.isSelected&&"rct-tree-item-title-container-selected",context.isExpanded&&"rct-tree-item-title-container-expanded",context.isFocused&&"rct-tree-item-title-container-focused",context.isDraggingOver&&"rct-tree-item-title-container-dragging-over",context.isSearchMatching&&"rct-tree-item-title-container-search-match")}),arrow,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(InteractiveComponent,__assign({type:type},context.interactiveElementProps,{className:cx("rct-tree-item-button",item.hasChildren&&"rct-tree-item-button-hasChildren",context.isSelected&&"rct-tree-item-button-selected",context.isExpanded&&"rct-tree-item-button-expanded",context.isFocused&&"rct-tree-item-button-focused",context.isDraggingOver&&"rct-tree-item-button-dragging-over",context.isSearchMatching&&"rct-tree-item-button-search-match")}),title)),children)},renderRenameInput:function renderRenameInput(_a){var inputProps=_a.inputProps,inputRef=_a.inputRef,submitButtonProps=_a.submitButtonProps,submitButtonRef=_a.submitButtonRef,formProps=_a.formProps;return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("form",__assign({},formProps,{className:"rct-tree-item-renaming-form"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("input",__assign({},inputProps,{ref:inputRef,className:"rct-tree-item-renaming-input"})),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("input",__assign({},submitButtonProps,{ref:submitButtonRef,type:"submit",className:"rct-tree-item-renaming-submit-button",value:""})))},renderDraggingItem:function renderDraggingItem(){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null)},renderDraggingItemTitle:function renderDraggingItemTitle(){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null)},renderTreeContainer:function renderTreeContainer(_a){var children=_a.children,containerProps=_a.containerProps,info=_a.info;return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:cx("rct-tree-root",info.isFocused&&"rct-tree-root-focus",info.isRenaming&&"rct-tree-root-renaming",info.areItemsSelected&&"rct-tree-root-itemsselected")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",__assign({},containerProps),children))},renderItemsContainer:function renderItemsContainer(_a){var children=_a.children,containerProps=_a.containerProps;return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("ul",__assign({},containerProps,{className:"rct-tree-items-container"}),children)},renderDragBetweenLine:function renderDragBetweenLine(_a){var draggingPosition=_a.draggingPosition,lineProps=_a.lineProps;return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",__assign({},lineProps,{style:{left:draggingPosition.depth*renderDepthOffset+"px"},className:cx("rct-tree-drag-between-line","between-items"===draggingPosition.targetType&&"top"===draggingPosition.linePosition&&"rct-tree-drag-between-line-top","between-items"===draggingPosition.targetType&&"bottom"===draggingPosition.linePosition&&"rct-tree-drag-between-line-bottom")}))},renderSearchInput:function renderSearchInput(_a){var inputProps=_a.inputProps;return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:cx("rct-tree-search-input-container")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("input",__assign({},inputProps,{className:cx("rct-tree-search-input")})))},renderLiveDescriptorContainer:function renderLiveDescriptorContainer(_a){var tree=_a.tree,children=_a.children;return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{id:"rct-livedescription-"+tree.treeId,style:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"}},children)},renderDepthOffset:10}}},"./packages/core/lib/esm/tree/Tree.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return Tree_useTree})),__webpack_require__.d(__webpack_exports__,"a",(function(){return Tree}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),ControlledTreeEnvironment=__webpack_require__("./packages/core/lib/esm/controlledEnvironment/ControlledTreeEnvironment.js"),useViewState_useViewState=(__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),function useViewState(){var _a,treeId=Tree_useTree().treeId;return null!==(_a=Object(ControlledTreeEnvironment.b)().viewState[treeId])&&void 0!==_a?_a:{}}),defaultMatcher=(__webpack_require__("./node_modules/core-js/modules/es.string.search.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),function defaultMatcher(search,item,itemTitle){return itemTitle.toLowerCase().includes(search.toLowerCase())}),InteractionManagerProvider=__webpack_require__("./packages/core/lib/esm/controlledEnvironment/InteractionManagerProvider.js"),DragAndDropProvider=__webpack_require__("./packages/core/lib/esm/controlledEnvironment/DragAndDropProvider.js"),useLinearItems_useLinearItems=(__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),function useLinearItems(treeId){return Object(ControlledTreeEnvironment.b)().linearItems[treeId]}),__spreadArray=function(to,from){for(var i=0,il=from.length,j=to.length;i<il;i++,j++)to[j]=from[i];return to},useSelectUpTo_useSelectUpTo=function useSelectUpTo(){var viewState=useViewState_useViewState(),treeId=Tree_useTree().treeId,linearItems=useLinearItems_useLinearItems(treeId),onSelectItems=Object(ControlledTreeEnvironment.b)().onSelectItems;return Object(react.useCallback)((function(item){var _a,_b;if(viewState&&viewState.selectedItems&&viewState.selectedItems.length>0){var selectionStart=linearItems.findIndex((function(linearItem){var _a;return null===(_a=viewState.selectedItems)||void 0===_a?void 0:_a.includes(linearItem.item)})),selectionEnd=linearItems.findIndex((function(linearItem){return linearItem.item===item.index}));if(selectionStart<selectionEnd){var selection=linearItems.slice(selectionStart,selectionEnd+1).map((function(_a){return _a.item}));null==onSelectItems||onSelectItems(__spreadArray(__spreadArray([],null!==(_a=null==viewState?void 0:viewState.selectedItems)&&void 0!==_a?_a:[]),selection),treeId)}else{selection=linearItems.slice(selectionEnd,selectionStart).map((function(_a){return _a.item}));null==onSelectItems||onSelectItems(__spreadArray(__spreadArray([],null!==(_b=null==viewState?void 0:viewState.selectedItems)&&void 0!==_b?_b:[]),selection),treeId)}}else null==onSelectItems||onSelectItems([item.index],treeId)}),[onSelectItems,linearItems,treeId,viewState])},__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},useTreeItemRenderContext_spreadArray=function(to,from){for(var i=0,il=from.length,j=to.length;i<il;i++,j++)to[j]=from[i];return to},useHtmlElementEventListener_spreadArray=(__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),function(to,from){for(var i=0,il=from.length,j=to.length;i<il;i++,j++)to[j]=from[i];return to}),useHtmlElementEventListener_useHtmlElementEventListener=function useHtmlElementEventListener(element,type,listener,deps){void 0===deps&&(deps=[]),Object(react.useEffect)((function(){if(element)return element.addEventListener(type,listener),function(){return element.removeEventListener(type,listener)}}),useHtmlElementEventListener_spreadArray([element,listener,type],deps))},defaultKeyboardBindings={expandSiblings:["control+*"],moveFocusToFirstItem:["home"],moveFocusToLastItem:["end"],primaryAction:["enter"],renameItem:["f2"],abortRenameItem:["escape"],toggleSelectItem:["control+space"],abortSearch:["escape","enter"],startSearch:[],selectAll:["control+a"],startProgrammaticDnd:["control+d"],completeProgrammaticDnd:["enter"],abortProgrammaticDnd:["escape"]},useKeyboardBindings_assign=function(){return useKeyboardBindings_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},useKeyboardBindings_assign.apply(this,arguments)},useKeyboardBindings_useKeyboardBindings=function useKeyboardBindings(){var environment=Object(ControlledTreeEnvironment.b)();return Object(react.useMemo)((function(){return environment.keyboardBindings?useKeyboardBindings_assign(useKeyboardBindings_assign({},defaultKeyboardBindings),environment.keyboardBindings):defaultKeyboardBindings}),[environment.keyboardBindings])},useCallSoon=__webpack_require__("./packages/core/lib/esm/useCallSoon.js"),useHotkey_spreadArray=function(to,from){for(var i=0,il=from.length,j=to.length;i<il;i++,j++)to[j]=from[i];return to},elementsThatCanTakeText=["input","textarea"],useHotkey_useHotkey=function useHotkey(combinationName,onHit,active,activatableWhileFocusingInput,deps){void 0===activatableWhileFocusingInput&&(activatableWhileFocusingInput=!1);var pressedKeys=Object(react.useRef)([]),keyboardBindings=useKeyboardBindings_useKeyboardBindings(),callSoon=Object(useCallSoon.a)(),possibleCombinations=Object(react.useMemo)((function(){return keyboardBindings[combinationName].map((function(combination){return combination.split("+")}))}),[combinationName,keyboardBindings]);useHtmlElementEventListener_useHtmlElementEventListener(document,"keydown",(function(e){if(!1!==active&&(!elementsThatCanTakeText.includes(e.target.tagName.toLowerCase())&&!e.target.isContentEditable||activatableWhileFocusingInput)&&!pressedKeys.current.includes(e.key)){pressedKeys.current.push(e.key);var pressedKeysLowercase_1=pressedKeys.current.map((function(key){return key.toLowerCase()}));possibleCombinations.map((function(combination){return pressedKeysLowercase_1.map((function(key){return combination.includes(key.toLowerCase())})).reduce((function(a,b){return a&&b}),!0)})).reduce((function(a,b){return a||b}),!1)&&(pressedKeys.current.length>1||!/^[a-zA-Z]$/.test(e.key))&&e.preventDefault()}}),[active]),useHtmlElementEventListener_useHtmlElementEventListener(document,"keyup",(function(e){if(!1!==active){var pressedKeysLowercase=pressedKeys.current.map((function(key){return key.toLowerCase()}));possibleCombinations.map((function(combination){return combination.map((function(key){return pressedKeysLowercase.includes(key.toLowerCase())})).reduce((function(a,b){return a&&b}),!0)})).reduce((function(a,b){return a||b}),!1)&&callSoon((function(){return onHit(e)})),pressedKeys.current=pressedKeys.current.filter((function(key){return key!==e.key}))}}),useHotkey_spreadArray([possibleCombinations,onHit,active,callSoon],null!=deps?deps:[]))},useSideEffect=__webpack_require__("./packages/core/lib/esm/useSideEffect.js"),TreeItemRenamingInput_TreeItemRenamingInput=function TreeItemRenamingInput(props){var _a=Tree_useTree(),renderers=_a.renderers,treeInformation=_a.treeInformation,setRenamingItem=_a.setRenamingItem,treeId=_a.treeId,environment=Object(ControlledTreeEnvironment.b)(),inputRef=Object(react.useRef)(null),submitButtonRef=Object(react.useRef)(null),item=environment.items[props.itemIndex],_b=Object(react.useState)(environment.getItemTitle(item)),title=_b[0],setTitle=_b[1],callSoon=Object(useCallSoon.a)(),abort=function abort(){var _a;null===(_a=environment.onAbortRenamingItem)||void 0===_a||_a.call(environment,item,treeInformation.treeId),setRenamingItem(null),callSoon((function(){environment.setActiveTree(treeId)}))},confirm=function confirm(){var _a;null===(_a=environment.onRenameItem)||void 0===_a||_a.call(environment,item,title,treeInformation.treeId),setRenamingItem(null),callSoon((function(){environment.setActiveTree(treeId)}))};Object(useSideEffect.a)((function(){var _a,_b,_c;environment.setActiveTree(treeId),(null===(_a=environment.autoFocus)||void 0===_a||_a)&&(null===(_b=inputRef.current)||void 0===_b||_b.select(),null===(_c=inputRef.current)||void 0===_c||_c.focus())}),[environment,treeId],[]),useHotkey_useHotkey("abortRenameItem",(function(){abort()}),!0,!0);var inputProps={value:title,onChange:function onChange(e){setTitle(e.target.value)},onBlur:function onBlur(e){e.relatedTarget!==submitButtonRef.current&&abort()},"aria-label":"New item name",tabIndex:0},submitButtonProps={onClick:function onClick(e){e.stopPropagation(),confirm()}},formProps={onSubmit:function onSubmit(e){e.preventDefault(),confirm()}};return renderers.renderRenameInput({item:item,inputRef:inputRef,submitButtonProps:submitButtonProps,submitButtonRef:submitButtonRef,formProps:formProps,inputProps:inputProps})},TreeItem_TreeItem=function TreeItem(props){var _a,_b,_c=Object(react.useState)(!1),hasBeenRequested=_c[0],setHasBeenRequested=_c[1],_d=Tree_useTree(),renderers=_d.renderers,treeInformation=_d.treeInformation,renamingItem=_d.renamingItem,environment=Object(ControlledTreeEnvironment.b)(),viewState=useViewState_useViewState(),item=environment.items[props.itemIndex],isExpanded=Object(react.useMemo)((function(){var _a;return null===(_a=viewState.expandedItems)||void 0===_a?void 0:_a.includes(props.itemIndex)}),[props.itemIndex,viewState.expandedItems]),renderContext=function useTreeItemRenderContext(item){var _a,_b,_c,_d,_e=Tree_useTree(),treeId=_e.treeId,search=_e.search,renamingItem=_e.renamingItem,environment=Object(ControlledTreeEnvironment.b)(),interactionManager=Object(InteractionManagerProvider.b)(),dnd=Object(DragAndDropProvider.b)(),_selectUpTo=useSelectUpTo_useSelectUpTo(),itemTitle=item&&environment.getItemTitle(item),isSearchMatching=Object(react.useMemo)((function(){var _a;return!(null===search||0===search.length||!item||!itemTitle)&&(null!==(_a=environment.doesSearchMatchItem)&&void 0!==_a?_a:defaultMatcher)(search,item,itemTitle)}),[search,item,itemTitle,environment.doesSearchMatchItem]),isSelected=item&&(null===(_b=null===(_a=environment.viewState[treeId])||void 0===_a?void 0:_a.selectedItems)||void 0===_b?void 0:_b.includes(item.index)),isExpanded=item&&(null===(_d=null===(_c=environment.viewState[treeId])||void 0===_c?void 0:_c.expandedItems)||void 0===_d?void 0:_d.includes(item.index)),isRenaming=item&&renamingItem===item.index;return Object(react.useMemo)((function(){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k,_l;if(item){var viewState=environment.viewState[treeId],currentlySelectedItems=(null!==(_d=null===(_c=null==viewState?void 0:viewState.selectedItems)||void 0===_c?void 0:_c.map((function(item){return environment.items[item]})))&&void 0!==_d?_d:(null==viewState?void 0:viewState.focusedItem)?[environment.items[null==viewState?void 0:viewState.focusedItem]]:[]).filter((function(item){return!!item})),isItemPartOfSelectedItems=!!currentlySelectedItems.find((function(selectedItem){return selectedItem.index===item.index})),canDragCurrentlySelectedItems=currentlySelectedItems&&(null===(_f=null===(_e=environment.canDrag)||void 0===_e?void 0:_e.call(environment,currentlySelectedItems))||void 0===_f||_f)&&currentlySelectedItems.map((function(item){var _a;return null===(_a=item.canMove)||void 0===_a||_a})).reduce((function(a,b){return a&&b}),!0),canDragThisItem=(null===(_h=null===(_g=environment.canDrag)||void 0===_g?void 0:_g.call(environment,[item]))||void 0===_h||_h)&&(null===(_j=item.canMove)||void 0===_j||_j),canDrag=environment.canDragAndDrop&&(isItemPartOfSelectedItems&&canDragCurrentlySelectedItems||!isItemPartOfSelectedItems&&canDragThisItem),canDropOn=environment.canDragAndDrop&&!!(null===(_l=null===(_k=dnd.viableDragPositions)||void 0===_k?void 0:_k[treeId])||void 0===_l?void 0:_l.find((function(position){return"item"===position.targetType&&position.targetItem===item.index}))),actions={primaryAction:function primaryAction(){var _a;null===(_a=environment.onPrimaryAction)||void 0===_a||_a.call(environment,environment.items[item.index],treeId)},collapseItem:function collapseItem(){var _a;null===(_a=environment.onCollapseItem)||void 0===_a||_a.call(environment,item,treeId)},expandItem:function expandItem(){var _a;null===(_a=environment.onExpandItem)||void 0===_a||_a.call(environment,item,treeId)},toggleExpandedState:function toggleExpandedState(){var _a,_b;isExpanded?null===(_a=environment.onCollapseItem)||void 0===_a||_a.call(environment,item,treeId):null===(_b=environment.onExpandItem)||void 0===_b||_b.call(environment,item,treeId)},selectItem:function selectItem(){var _a;null===(_a=environment.onSelectItems)||void 0===_a||_a.call(environment,[item.index],treeId)},addToSelectedItems:function addToSelectedItems(){var _a,_b;null===(_a=environment.onSelectItems)||void 0===_a||_a.call(environment,useTreeItemRenderContext_spreadArray(useTreeItemRenderContext_spreadArray([],null!==(_b=null==viewState?void 0:viewState.selectedItems)&&void 0!==_b?_b:[]),[item.index]),treeId)},unselectItem:function unselectItem(){var _a,_b,_c;null===(_a=environment.onSelectItems)||void 0===_a||_a.call(environment,null!==(_c=null===(_b=null==viewState?void 0:viewState.selectedItems)||void 0===_b?void 0:_b.filter((function(id){return id!==item.index})))&&void 0!==_c?_c:[],treeId)},selectUpTo:function selectUpTo(){_selectUpTo(item)},startRenamingItem:function startRenamingItem(){var _a;null===(_a=environment.onStartRenamingItem)||void 0===_a||_a.call(environment,item,treeId)},focusItem:function focusItem(){var _a;null===(_a=environment.onFocusItem)||void 0===_a||_a.call(environment,item,treeId)},startDragging:function startDragging(){var _a,_b,selectedItems=null!==(_a=null==viewState?void 0:viewState.selectedItems)&&void 0!==_a?_a:[];selectedItems.includes(item.index)||(selectedItems=[item.index],null===(_b=environment.onSelectItems)||void 0===_b||_b.call(environment,selectedItems,treeId)),canDrag&&dnd.onStartDraggingItems(selectedItems.map((function(id){return environment.items[id]})),treeId)}},renderFlags={isSelected:isSelected,isExpanded:isExpanded,isFocused:(null==viewState?void 0:viewState.focusedItem)===item.index,isRenaming:isRenaming,isDraggingOver:dnd.draggingPosition&&"item"===dnd.draggingPosition.targetType&&dnd.draggingPosition.targetItem===item.index&&dnd.draggingPosition.treeId===treeId,isDraggingOverParent:!1,isSearchMatching:isSearchMatching,canDrag:canDrag,canDropOn:canDropOn},interactiveElementProps=__assign(__assign({},interactionManager.createInteractiveElementProps(item,treeId,actions,renderFlags,viewState)),((_a={})["data-rct-item-interactive"]=!0,_a["data-rct-item-focus"]=renderFlags.isFocused?"true":"false",_a["data-rct-item-id"]=item.index,_a)),itemContainerWithoutChildrenProps=__assign({},((_b={})["data-rct-item-container"]="true",_b)),itemContainerWithChildrenProps={role:"treeitem","aria-selected":renderFlags.isSelected,"aria-expanded":item.hasChildren?renderFlags.isExpanded?"true":"false":void 0},arrowProps={onClick:function onClick(){item.hasChildren&&actions.toggleExpandedState(),actions.selectItem()},onFocus:function onFocus(){actions.focusItem()},onDragOver:function onDragOver(e){e.preventDefault()},"aria-hidden":!0,tabIndex:-1},viewStateFlags=viewState?Object.entries(viewState).reduce((function(acc,_a){var key=_a[0],value=_a[1];return acc[key]=Array.isArray(value)?value.includes(item.index):value===item.index,acc}),{}):{};return __assign(__assign(__assign({},actions),renderFlags),{interactiveElementProps:interactiveElementProps,itemContainerWithChildrenProps:itemContainerWithChildrenProps,itemContainerWithoutChildrenProps:itemContainerWithoutChildrenProps,arrowProps:arrowProps,viewStateFlags:viewStateFlags})}}),[item,environment,treeId,dnd,isSelected,isExpanded,isRenaming,isSearchMatching,interactionManager,_selectUpTo])}(item);if(void 0===item)return hasBeenRequested||(setHasBeenRequested(!0),null===(_a=environment.onMissingItems)||void 0===_a||_a.call(environment,[props.itemIndex])),null;var children=item.hasChildren&&isExpanded&&item.children&&react_default.a.createElement(TreeItemChildren_TreeItemChildren,{depth:props.depth+1,parentId:props.itemIndex},item.children),title=environment.getItemTitle(item),titleComponent=renamingItem===props.itemIndex?react_default.a.createElement(TreeItemRenamingInput_TreeItemRenamingInput,{itemIndex:props.itemIndex}):renderers.renderItemTitle({info:treeInformation,context:renderContext,title:title,item:item}),arrowComponent=renderers.renderItemArrow({info:treeInformation,context:renderContext,item:environment.items[props.itemIndex]});return null!==(_b=renderers.renderItem({item:environment.items[props.itemIndex],depth:props.depth,title:titleComponent,arrow:arrowComponent,context:renderContext,info:treeInformation,children:children}))&&void 0!==_b?_b:null},TreeItemChildren_TreeItemChildren=function TreeItemChildren(props){for(var _a=Tree_useTree(),renderers=_a.renderers,treeInformation=_a.treeInformation,childElements=[],_i=0,_b=props.children;_i<_b.length;_i++){var child=_b[_i];childElements.push(react_default.a.createElement(TreeItem_TreeItem,{key:child,itemIndex:child,depth:props.depth}))}if(0===childElements.length)return null;var containerProps={role:0!==props.depth?"group":void 0};return renderers.renderItemsContainer({children:childElements,info:treeInformation,containerProps:containerProps})},DragBetweenLine_DragBetweenLine=function DragBetweenLine(props){var _a,_b=Object(DragAndDropProvider.b)(),draggingPosition=_b.draggingPosition,itemHeight=_b.itemHeight,renderers=Tree_useTree().renderers;if(!(draggingPosition&&"between-items"===draggingPosition.targetType&&draggingPosition.treeId===props.treeId))return null;return react.createElement("div",{style:{position:"absolute",left:"0",right:"0",top:(null!==(_a=null==draggingPosition?void 0:draggingPosition.linearIndex)&&void 0!==_a?_a:0)*itemHeight+"px"}},renderers.renderDragBetweenLine({draggingPosition:draggingPosition,lineProps:{onDragOver:function onDragOver(e){return e.preventDefault()}}}))};DragBetweenLine_DragBetweenLine.__docgenInfo={description:"",methods:[],displayName:"DragBetweenLine"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/lib/esm/tree/DragBetweenLine.js"]={name:"DragBetweenLine",docgenInfo:DragBetweenLine_DragBetweenLine.__docgenInfo,path:"packages/core/lib/esm/tree/DragBetweenLine.js"});var useFocusWithin_spreadArray=function(to,from){for(var i=0,il=from.length,j=to.length;i<il;i++,j++)to[j]=from[i];return to},useKey_spreadArray=function(to,from){for(var i=0,il=from.length,j=to.length;i<il;i++,j++)to[j]=from[i];return to},useKey_useKey=function useKey(key,onHit,active,deps){useHtmlElementEventListener_useHtmlElementEventListener(document,"keydown",(function(e){active&&active&&key.toLowerCase()===e.key.toLowerCase()&&onHit(e)}),useKey_spreadArray([active,key],null!=deps?deps:[]))},useTreeKeyboardBindings_spreadArray=function(to,from){for(var i=0,il=from.length,j=to.length;i<il;i++,j++)to[j]=from[i];return to},useTreeKeyboardBindings_useTreeKeyboardBindings=function useTreeKeyboardBindings(){var _a,environment=Object(ControlledTreeEnvironment.b)(),_b=Tree_useTree(),treeId=_b.treeId,setRenamingItem=_b.setRenamingItem,setSearch=_b.setSearch,renamingItem=_b.renamingItem,linearItems=useLinearItems_useLinearItems(treeId),dnd=Object(DragAndDropProvider.b)(),viewState=useViewState_useViewState(),moveFocusToIndex=function useMoveFocusToIndex(){var treeId=Tree_useTree().treeId,_a=Object(ControlledTreeEnvironment.b)(),onFocusItem=_a.onFocusItem,items=_a.items,linearItems=useLinearItems_useLinearItems(treeId),viewState=useViewState_useViewState();return Object(react.useCallback)((function(computeNewIndex){var _a,newIndex=computeNewIndex(null!==(_a=linearItems.findIndex((function(item){return item.item===viewState.focusedItem})))&&void 0!==_a?_a:0,linearItems),newIndexBounded=Math.max(0,Math.min(linearItems.length-1,newIndex)),newFocusItem=items[linearItems[newIndexBounded].item];return null==onFocusItem||onFocusItem(newFocusItem,treeId),newFocusItem}),[onFocusItem,items,linearItems,treeId,viewState.focusedItem])}(),selectUpTo=useSelectUpTo_useSelectUpTo(),isActiveTree=environment.activeTreeId===treeId,isRenaming=!!renamingItem;useKey_useKey("arrowdown",Object(react.useCallback)((function(e){if(e.preventDefault(),dnd.isProgrammaticallyDragging)dnd.programmaticDragDown();else{var newFocusItem=moveFocusToIndex((function(currentIndex){return currentIndex+1}));e.shiftKey&&selectUpTo(newFocusItem)}}),[dnd,moveFocusToIndex,selectUpTo]),isActiveTree&&!isRenaming),useKey_useKey("arrowup",Object(react.useCallback)((function(e){if(e.preventDefault(),dnd.isProgrammaticallyDragging)dnd.programmaticDragUp();else{var newFocusItem=moveFocusToIndex((function(currentIndex){return currentIndex-1}));e.shiftKey&&selectUpTo(newFocusItem)}}),[dnd,moveFocusToIndex,selectUpTo]),isActiveTree&&!isRenaming),useHotkey_useHotkey("moveFocusToFirstItem",Object(react.useCallback)((function(e){e.preventDefault(),moveFocusToIndex((function(){return 0}))}),[moveFocusToIndex]),isActiveTree&&!dnd.isProgrammaticallyDragging&&!isRenaming),useHotkey_useHotkey("moveFocusToLastItem",Object(react.useCallback)((function(e){e.preventDefault(),moveFocusToIndex((function(currentIndex,linearItems){return linearItems.length-1}))}),[moveFocusToIndex]),isActiveTree&&!dnd.isProgrammaticallyDragging&&!isRenaming),useKey_useKey("arrowright",Object(react.useCallback)((function(e){e.preventDefault(),moveFocusToIndex((function(currentIndex,linearItems){var _a,_b,item=environment.items[linearItems[currentIndex].item];if(item.hasChildren){if(null===(_a=viewState.expandedItems)||void 0===_a?void 0:_a.includes(item.index))return currentIndex+1;null===(_b=environment.onExpandItem)||void 0===_b||_b.call(environment,item,treeId)}return currentIndex}))}),[environment,moveFocusToIndex,treeId,viewState.expandedItems]),isActiveTree&&!dnd.isProgrammaticallyDragging&&!isRenaming),useKey_useKey("arrowleft",Object(react.useCallback)((function(e){e.preventDefault(),moveFocusToIndex((function(currentIndex,linearItems){var _a,_b,item=environment.items[linearItems[currentIndex].item],itemDepth=linearItems[currentIndex].depth;if(item.hasChildren&&(null===(_a=viewState.expandedItems)||void 0===_a?void 0:_a.includes(item.index)))null===(_b=environment.onCollapseItem)||void 0===_b||_b.call(environment,item,treeId);else if(itemDepth>0){for(var parentIndex=currentIndex;linearItems[parentIndex].depth!==itemDepth-1;parentIndex--);return parentIndex}return currentIndex}))}),[environment,moveFocusToIndex,treeId,viewState.expandedItems]),isActiveTree&&!dnd.isProgrammaticallyDragging&&!isRenaming),useHotkey_useHotkey("primaryAction",Object(react.useCallback)((function(e){var _a,_b;e.preventDefault(),void 0!==viewState.focusedItem&&(null===(_a=environment.onSelectItems)||void 0===_a||_a.call(environment,[viewState.focusedItem],treeId),null===(_b=environment.onPrimaryAction)||void 0===_b||_b.call(environment,environment.items[viewState.focusedItem],treeId))}),[environment,treeId,viewState.focusedItem]),isActiveTree&&!dnd.isProgrammaticallyDragging&&!isRenaming),useHotkey_useHotkey("toggleSelectItem",Object(react.useCallback)((function(e){var _a,_b,_c;e.preventDefault(),void 0!==viewState.focusedItem&&(viewState.selectedItems&&viewState.selectedItems.includes(viewState.focusedItem)?null===(_a=environment.onSelectItems)||void 0===_a||_a.call(environment,viewState.selectedItems.filter((function(item){return item!==viewState.focusedItem})),treeId):null===(_b=environment.onSelectItems)||void 0===_b||_b.call(environment,useTreeKeyboardBindings_spreadArray(useTreeKeyboardBindings_spreadArray([],null!==(_c=viewState.selectedItems)&&void 0!==_c?_c:[]),[viewState.focusedItem]),treeId))}),[environment,treeId,viewState.focusedItem,viewState.selectedItems]),isActiveTree&&!dnd.isProgrammaticallyDragging&&!isRenaming),useHotkey_useHotkey("selectAll",Object(react.useCallback)((function(e){var _a;e.preventDefault(),null===(_a=environment.onSelectItems)||void 0===_a||_a.call(environment,linearItems.map((function(_a){return _a.item})),treeId)}),[environment,linearItems,treeId]),isActiveTree&&!dnd.isProgrammaticallyDragging&&!isRenaming),useHotkey_useHotkey("renameItem",Object(react.useCallback)((function(e){var _a;if(void 0!==viewState.focusedItem){e.preventDefault();var item=environment.items[viewState.focusedItem];null===(_a=environment.onStartRenamingItem)||void 0===_a||_a.call(environment,item,treeId),setRenamingItem(item.index)}}),[environment,setRenamingItem,treeId,viewState.focusedItem]),isActiveTree&&(null===(_a=environment.canRename)||void 0===_a||_a)&&!isRenaming),useHotkey_useHotkey("startSearch",Object(react.useCallback)((function(e){var _a,_b;e.preventDefault(),setSearch(""),null===(_b=null===(_a=document.querySelector('[data-rct-search-input="true"]'))||void 0===_a?void 0:_a.focus)||void 0===_b||_b.call(_a)}),[setSearch]),isActiveTree&&!dnd.isProgrammaticallyDragging&&!isRenaming),useHotkey_useHotkey("startProgrammaticDnd",Object(react.useCallback)((function(e){e.preventDefault(),dnd.startProgrammaticDrag()}),[dnd]),isActiveTree&&!isRenaming),useHotkey_useHotkey("completeProgrammaticDnd",Object(react.useCallback)((function(e){e.preventDefault(),dnd.completeProgrammaticDrag()}),[dnd]),isActiveTree&&dnd.isProgrammaticallyDragging&&!isRenaming),useHotkey_useHotkey("abortProgrammaticDnd",Object(react.useCallback)((function(e){e.preventDefault(),dnd.abortProgrammaticDrag()}),[dnd]),isActiveTree&&dnd.isProgrammaticallyDragging&&!isRenaming)},SearchInput_assign=function(){return SearchInput_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},SearchInput_assign.apply(this,arguments)},SearchInput_SearchInput=function SearchInput(props){var _a,_b,_c=Tree_useTree(),search=_c.search,setSearch=_c.setSearch,treeId=_c.treeId,renderers=_c.renderers,renamingItem=_c.renamingItem,environment=Object(ControlledTreeEnvironment.b)();useViewState_useViewState();var isActiveTree=environment.activeTreeId===treeId,callSoon=Object(useCallSoon.a)();!function useSearchMatchFocus(){var _a=Object(ControlledTreeEnvironment.b)(),doesSearchMatchItem=_a.doesSearchMatchItem,items=_a.items,getItemTitle=_a.getItemTitle,onFocusItem=_a.onFocusItem,_b=Tree_useTree(),search=_b.search,treeId=_b.treeId,linearItems=useLinearItems_useLinearItems(treeId),callSoon=Object(useCallSoon.a)();Object(useSideEffect.a)((function(){search&&search.length>0&&callSoon((function(){var focusItem=linearItems.find((function(_a){var item=_a.item;return(null!=doesSearchMatchItem?doesSearchMatchItem:defaultMatcher)(search,items[item],getItemTitle(items[item]))}));focusItem&&(null==onFocusItem||onFocusItem(items[focusItem.item],treeId))}))}),[doesSearchMatchItem,getItemTitle,linearItems,items,onFocusItem,search,treeId,callSoon],[search])}();var clearSearch=function clearSearch(){var _a,_b,_c;(setSearch(null),null===(_a=environment.autoFocus)||void 0===_a||_a)&&(null===(_c=null===(_b=document.querySelector('[data-rct-tree="'+treeId+'"] [data-rct-item-focus="true"]'))||void 0===_b?void 0:_b.focus)||void 0===_c||_c.call(_b))};return useHotkey_useHotkey("abortSearch",(function(){callSoon((function(){clearSearch()}))}),isActiveTree&&null!==search,!0,[search,isActiveTree,callSoon]),useHtmlElementEventListener_useHtmlElementEventListener(props.containerRef,"keydown",(function(e){var _a,_b,_c,_d,unicode=e.key.charCodeAt(0);null!==(_a=environment.canSearch)&&void 0!==_a&&!_a||null!==(_b=environment.canSearchByStartingTyping)&&void 0!==_b&&!_b||!isActiveTree||null!==search||renamingItem||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||!(unicode>=48&&unicode<=57||unicode>=97&&unicode<=122)||(setSearch(""),null===(_d=null===(_c=document.querySelector('[data-rct-search-input="true"]'))||void 0===_c?void 0:_c.focus)||void 0===_d||_d.call(_c))}),[isActiveTree,search,renamingItem,environment.canSearchByStartingTyping,environment.canSearch]),null!==(_b=environment.canSearch)&&void 0!==_b&&!_b||null===search?null:renderers.renderSearchInput({inputProps:SearchInput_assign({value:search,onChange:function onChange(e){return setSearch(e.target.value)},onBlur:function onBlur(){clearSearch()},"aria-label":"Search for items"},(_a={},_a["data-rct-search-input"]="true",_a))})},defaultLiveDescriptors={introduction:"\n    <p>Accessibility guide for tree {treeLabel}.</p>\n    <p>\n      Navigate the tree with the arrow keys. Common tree hotkeys apply. Further keybindings are available:\n    </p>\n    <ul>\n      <li>{keybinding:primaryAction} to execute primary action on focused item</li>\n      <li>{keybinding:renameItem} to start renaming the focused item</li>\n      <li>{keybinding:abortRenameItem} to abort renaming an item</li>\n      <li>{keybinding:startProgrammaticDnd} to start dragging selected items</li>\n    </ul>\n  ",renamingItem:"\n    <p>Renaming the item {renamingItem}.</p>\n    <p>Use the keybinding {keybinding:abortRenameItem} to abort renaming.</p>\n  ",searching:"\n    <p>Searching</p>\n  ",programmaticallyDragging:"\n    <p>Dragging items {dragItems}.</p>\n    <p>Press the arrow keys to move the drag target.</p>\n    <p>Press {keybinding:completeProgrammaticDnd} to drop or {keybinding:abortProgrammaticDnd} to abort.</p>\n  ",programmaticallyDraggingTarget:"\n    <p>Drop target is {dropTarget}.</p>\n  "},resolveLiveDescriptor=(__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),function resolveLiveDescriptor(descriptor,environment,dnd,tree,keyboardBindings){var getItemTitle=function getItemTitle(index){return environment.getItemTitle(environment.items[index])};return descriptor.replace(/({[^\s}]+)}/g,(function(variableNameWithBrackets){var _a,_b,_c,variableName=variableNameWithBrackets.slice(1,-1);switch(variableName){case"treeLabel":return null!==(_a=tree.treeLabel)&&void 0!==_a?_a:"";case"renamingItem":return tree.renamingItem?getItemTitle(tree.renamingItem):"None";case"dragItems":return null!==(_c=null===(_b=dnd.draggingItems)||void 0===_b?void 0:_b.map((function(item){return environment.getItemTitle(item)})).join(", "))&&void 0!==_c?_c:"None";case"dropTarget":if(dnd.draggingPosition){if("item"===dnd.draggingPosition.targetType)return"within "+getItemTitle(dnd.draggingPosition.targetItem);var parentItem=environment.items[dnd.draggingPosition.parentItem],parentTitle=environment.getItemTitle(parentItem);return 0===dnd.draggingPosition.childIndex?"within "+parentTitle+" at the start":"within "+parentTitle+" after "+getItemTitle(parentItem.children[dnd.draggingPosition.childIndex-1])}return"None";default:if(variableName.startsWith("keybinding:"))return keyboardBindings[variableName.slice(11)][0];throw Error("Unknown live descriptor variable {"+variableName+"}")}}))}),LiveDescription_LiveDescription=function LiveDescription(){var env=Object(ControlledTreeEnvironment.b)(),tree=Tree_useTree(),dnd=Object(DragAndDropProvider.b)(),keys=useKeyboardBindings_useKeyboardBindings(),descriptors=Object(react.useMemo)((function(){var _a;return null!==(_a=env.liveDescriptors)&&void 0!==_a?_a:defaultLiveDescriptors}),[env.liveDescriptors]),LiveWrapper=Object(react.useMemo)((function(){return function(_a){var children=_a.children,live=_a.live;return react.createElement("div",{"aria-live":live,dangerouslySetInnerHTML:{__html:children}})}}),[]),MainWrapper=tree.renderers.renderLiveDescriptorContainer;return tree.treeInformation.isRenaming?react.createElement(MainWrapper,{tree:tree},react.createElement(LiveWrapper,{live:"polite"},resolveLiveDescriptor(descriptors.renamingItem,env,dnd,tree,keys))):tree.treeInformation.isSearching?react.createElement(MainWrapper,{tree:tree},react.createElement(LiveWrapper,{live:"polite"},resolveLiveDescriptor(descriptors.searching,env,dnd,tree,keys))):tree.treeInformation.isProgrammaticallyDragging?react.createElement(MainWrapper,{tree:tree},react.createElement(LiveWrapper,{live:"polite"},resolveLiveDescriptor(descriptors.programmaticallyDragging,env,dnd,tree,keys)),react.createElement(LiveWrapper,{live:"assertive"},resolveLiveDescriptor(descriptors.programmaticallyDraggingTarget,env,dnd,tree,keys))):react.createElement(MainWrapper,{tree:tree},react.createElement(LiveWrapper,{live:"off"},resolveLiveDescriptor(descriptors.introduction,env,dnd,tree,keys)))};LiveDescription_LiveDescription.__docgenInfo={description:"",methods:[],displayName:"LiveDescription"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/lib/esm/tree/LiveDescription.js"]={name:"LiveDescription",docgenInfo:LiveDescription_LiveDescription.__docgenInfo,path:"packages/core/lib/esm/tree/LiveDescription.js"});var MaybeLiveDescription_MaybeLiveDescription=function MaybeLiveDescription(){var _a;return null===(_a=Object(ControlledTreeEnvironment.b)().showLiveDescription)||void 0===_a||_a?react.createElement(LiveDescription_LiveDescription,null):null};MaybeLiveDescription_MaybeLiveDescription.__docgenInfo={description:"",methods:[],displayName:"MaybeLiveDescription"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/lib/esm/tree/MaybeLiveDescription.js"]={name:"MaybeLiveDescription",docgenInfo:MaybeLiveDescription_MaybeLiveDescription.__docgenInfo,path:"packages/core/lib/esm/tree/MaybeLiveDescription.js"});var TreeManager_assign=function(){return TreeManager_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},TreeManager_assign.apply(this,arguments)},TreeManager_TreeManager=function TreeManager(){var _a,_b=Tree_useTree(),treeId=_b.treeId,rootItem=_b.rootItem,renderers=_b.renderers,treeInformation=_b.treeInformation,environment=Object(ControlledTreeEnvironment.b)(),containerRef=Object(react.useRef)(),dnd=Object(DragAndDropProvider.b)(),isActiveTree=environment.activeTreeId===treeId;useTreeKeyboardBindings_useTreeKeyboardBindings(),function useFocusWithin(element,onFocusIn,onFocusOut,deps){void 0===deps&&(deps=[]);var _a=Object(react.useState)(!1),focusWithin=_a[0],setFocusWithin=_a[1],isLoosingFocusFlag=Object(react.useRef)(!1),callSoon=Object(useCallSoon.a)();useHtmlElementEventListener_useHtmlElementEventListener(element,"focusin",(function(){focusWithin||(setFocusWithin(!0),null==onFocusIn||onFocusIn()),isLoosingFocusFlag.current&&(isLoosingFocusFlag.current=!1)}),useFocusWithin_spreadArray([focusWithin,onFocusIn],deps)),useHtmlElementEventListener_useHtmlElementEventListener(element,"focusout",(function(){isLoosingFocusFlag.current=!0,callSoon((function(){isLoosingFocusFlag.current&&!(null==element?void 0:element.contains(document.activeElement))&&(null==onFocusOut||onFocusOut(),isLoosingFocusFlag.current=!1,setFocusWithin(!1))}))}),useFocusWithin_spreadArray([element,onFocusOut,callSoon],deps))}(containerRef.current,(function(){environment.setActiveTree(treeId)}),(function(){environment.setActiveTree((function(oldTreeId){return oldTreeId===treeId?void 0:oldTreeId}))}),[environment.activeTreeId,treeId,isActiveTree]);var rootChildren=environment.items[rootItem].children;if(!rootChildren)throw Error("Root "+rootItem+" does not contain any children");var treeChildren=react.createElement(react.Fragment,null,react.createElement(MaybeLiveDescription_MaybeLiveDescription,null),react.createElement(TreeItemChildren_TreeItemChildren,{depth:0,parentId:treeId},rootChildren),react.createElement(DragBetweenLine_DragBetweenLine,{treeId:treeId}),react.createElement(SearchInput_SearchInput,{containerRef:containerRef.current})),containerProps=TreeManager_assign({onDragOver:function onDragOver(e){return dnd.onDragOverTreeHandler(e,treeId,containerRef)},onMouseDown:function onMouseDown(){return dnd.abortProgrammaticDrag()},ref:containerRef,style:{position:"relative"},role:"tree","aria-label":treeInformation.treeLabelledBy?void 0:treeInformation.treeLabel,"aria-labelledby":treeInformation.treeLabelledBy},((_a={})["data-rct-tree"]=treeId,_a));return renderers.renderTreeContainer({children:treeChildren,info:treeInformation,containerProps:containerProps})},tree_getItemsLinearly=__webpack_require__("./packages/core/lib/esm/tree/getItemsLinearly.js"),useCreatedTreeRef_assign=function(){return useCreatedTreeRef_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},useCreatedTreeRef_assign.apply(this,arguments)},EnvironmentActionsProvider=__webpack_require__("./packages/core/lib/esm/environmentActions/EnvironmentActionsProvider.js"),EnvironmentActionsContext=react.createContext(null),TreeActionsProvider=react.forwardRef((function(props,ref){Object(ControlledTreeEnvironment.b)();var tree=Tree_useTree();Object(DragAndDropProvider.b)();var envActions=Object(EnvironmentActionsProvider.b)(),actions={abortRenamingItem:function abortRenamingItem(){tree.setRenamingItem(null)},abortSearch:function abortSearch(){tree.setSearch(null)},collapseItem:function collapseItem(itemId){envActions.collapseItem(itemId,tree.treeId)},completeRenamingItem:function completeRenamingItem(){},expandItem:function expandItem(itemId){envActions.expandItem(itemId,tree.treeId)},focusItem:function focusItem(itemId){envActions.focusItem(itemId,tree.treeId)},focusTree:function focusTree(autoFocus){void 0===autoFocus&&(autoFocus=!0),envActions.focusTree(tree.treeId,autoFocus)},invokePrimaryAction:function invokePrimaryAction(itemId){envActions.invokePrimaryAction(itemId,tree.treeId)},moveFocusDown:function moveFocusDown(){envActions.moveFocusDown(tree.treeId)},moveFocusUp:function moveFocusUp(){envActions.moveFocusUp(tree.treeId)},renameItem:function renameItem(itemId,name){envActions.renameItem(itemId,name,tree.treeId)},selectItems:function selectItems(itemsIds){envActions.selectItems(itemsIds,tree.treeId)},setSearch:function setSearch(search){tree.setSearch(search)},startRenamingItem:function startRenamingItem(itemId){tree.setRenamingItem(itemId)},stopRenamingItem:function stopRenamingItem(){tree.setRenamingItem(null)},toggleItemExpandedState:function toggleItemExpandedState(itemId){envActions.toggleItemExpandedState(itemId,tree.treeId)},toggleItemSelectStatus:function toggleItemSelectStatus(itemId){envActions.toggleItemSelectStatus(itemId,tree.treeId)},expandAll:function expandAll(){console.log("!!"),envActions.expandAll(tree.treeId)},collapseAll:function collapseAll(){envActions.collapseAll(tree.treeId)}};return function useCreatedTreeRef(ref,actions){var environment=Object(ControlledTreeEnvironment.b)(),tree=Tree_useTree(),dnd=Object(DragAndDropProvider.b)();Object(react.useImperativeHandle)(ref,(function(){return useCreatedTreeRef_assign(useCreatedTreeRef_assign(useCreatedTreeRef_assign({},actions),{treeEnvironmentContext:environment,dragAndDropContext:dnd,treeContext:tree}),tree.treeInformation)}))}(ref,actions),react.createElement(EnvironmentActionsContext.Provider,{value:actions},props.children)}));TreeActionsProvider.__docgenInfo={description:"",methods:[],displayName:"TreeActionsProvider"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/lib/esm/treeActions/TreeActionsProvider.js"]={name:"TreeActionsProvider",docgenInfo:TreeActionsProvider.__docgenInfo,path:"packages/core/lib/esm/treeActions/TreeActionsProvider.js"});var Tree_assign=function(){return Tree_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},Tree_assign.apply(this,arguments)},TreeContext=react.createContext(null),Tree_useTree=function useTree(){return Object(react.useContext)(TreeContext)},Tree=react.forwardRef((function(props,ref){var _a,_b,environment=Object(ControlledTreeEnvironment.b)(),renderers=Object(react.useMemo)((function(){return Tree_assign(Tree_assign({},environment),props)}),[props,environment]),_c=Object(react.useState)(null),search=_c[0],setSearch=_c[1],_d=Object(react.useState)(null),renamingItem=_d[0],setRenamingItem=_d[1],rootItem=environment.items[props.rootItem],viewState=null!==(_a=environment.viewState[props.treeId])&&void 0!==_a?_a:{};Object(react.useEffect)((function(){return environment.registerTree({treeId:props.treeId,rootItem:props.rootItem}),function(){return environment.unregisterTree(props.treeId)}}),[props.treeId,props.rootItem]);var treeInformation=function useCreatedTreeInformation(tree,renamingItem,search){var _a,environment=Object(ControlledTreeEnvironment.b)(),dnd=Object(DragAndDropProvider.b)(),selectedItems=null===(_a=environment.viewState[tree.treeId])||void 0===_a?void 0:_a.selectedItems;return Object(react.useMemo)((function(){var _a,_b;return{isFocused:environment.activeTreeId===tree.treeId,isRenaming:!!renamingItem,areItemsSelected:(null!==(_a=null==selectedItems?void 0:selectedItems.length)&&void 0!==_a?_a:0)>0,isSearching:null!==search,search:search,isProgrammaticallyDragging:null!==(_b=dnd.isProgrammaticallyDragging)&&void 0!==_b&&_b,treeId:tree.treeId,rootItem:tree.rootItem}}),[environment.activeTreeId,tree.treeId,tree.rootItem,renamingItem,null==selectedItems?void 0:selectedItems.length,search,dnd.isProgrammaticallyDragging])}(props,renamingItem,search),treeContextProps={treeId:props.treeId,rootItem:props.rootItem,treeLabel:props.treeLabel,treeLabelledBy:props.treeLabelledBy,getItemsLinearly:function getItemsLinearly(){return Object(tree_getItemsLinearly.a)(props.rootItem,viewState,environment.items)},treeInformation:treeInformation,search:search,setSearch:setSearch,renamingItem:renamingItem,setRenamingItem:setRenamingItem,renderers:renderers};return void 0===rootItem?(null===(_b=environment.onMissingItems)||void 0===_b||_b.call(environment,[props.rootItem]),null):react.createElement(TreeContext.Provider,{value:treeContextProps},react.createElement(TreeActionsProvider,{ref:ref},react.createElement(TreeManager_TreeManager,null)))}));Tree.__docgenInfo={description:"",methods:[],displayName:"Tree"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/lib/esm/tree/Tree.js"]={name:"Tree",docgenInfo:Tree.__docgenInfo,path:"packages/core/lib/esm/tree/Tree.js"})},"./packages/core/lib/esm/tree/getItemsLinearly.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getItemsLinearly}));__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js");var getItemsLinearly=function getItemsLinearly(rootItem,viewState,items,depth){var _a,_b,_c;void 0===depth&&(depth=0);for(var itemIds=[],_i=0,_d=null!==(_b=null===(_a=items[rootItem])||void 0===_a?void 0:_a.children)&&void 0!==_b?_b:[];_i<_d.length;_i++){var itemId=_d[_i],item=items[itemId];itemIds.push({item:itemId,depth:depth}),item&&item.hasChildren&&item.children&&(null===(_c=viewState.expandedItems)||void 0===_c?void 0:_c.includes(itemId))&&itemIds.push.apply(itemIds,getItemsLinearly(itemId,viewState,items,depth+1))}return itemIds}},"./packages/core/lib/esm/types.js":function(module,__webpack_exports__,__webpack_require__){"use strict";var InteractionMode;__webpack_require__.d(__webpack_exports__,"a",(function(){return InteractionMode})),function(InteractionMode){InteractionMode.DoubleClickItemToExpand="double-click-item-to-expand",InteractionMode.ClickItemToExpand="click-item-to-expand",InteractionMode.ClickArrowToExpand="click-arrow-to-expand"}(InteractionMode||(InteractionMode={}))},"./packages/core/lib/esm/uncontrolledEnvironment/StaticTreeDataProvider.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return StaticTreeDataProvider_StaticTreeDataProvider}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js");var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},EventEmitter=function(){function EventEmitter(options){this.options=options,this.handlerCount=0,this.handlers=[]}return Object.defineProperty(EventEmitter.prototype,"numberOfHandlers",{get:function get(){return this.handlers.filter((function(h){return!!h})).length},enumerable:!1,configurable:!0}),EventEmitter.prototype.emit=function(payload){var _a,_b;return __awaiter(this,void 0,void 0,(function(){var promises,_i,_c,handler,res;return __generator(this,(function(_d){switch(_d.label){case 0:for(promises=[],null===(_b=null===(_a=this.options)||void 0===_a?void 0:_a.logger)||void 0===_b||_b.call(_a,"emit",payload),_i=0,_c=this.handlers;_i<_c.length;_i++)(handler=_c[_i])&&"function"==typeof(null==(res=handler(payload))?void 0:res.then)&&promises.push(res);return[4,Promise.all(promises)];case 1:return _d.sent(),[2]}}))}))},EventEmitter.prototype.on=function(handler){var _a,_b;return null===(_b=null===(_a=this.options)||void 0===_a?void 0:_a.logger)||void 0===_b||_b.call(_a,"on"),this.handlers.push(handler),this.handlerCount++},EventEmitter.prototype.off=function(handlerId){this.delete(handlerId)},EventEmitter.prototype.delete=function(handlerId){var _a,_b;null===(_b=null===(_a=this.options)||void 0===_a?void 0:_a.logger)||void 0===_b||_b.call(_a,"off"),this.handlers[handlerId]=null},EventEmitter}(),StaticTreeDataProvider_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},StaticTreeDataProvider_generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},StaticTreeDataProvider_StaticTreeDataProvider=function(){function StaticTreeDataProvider(items,setItemName){this.onDidChangeTreeDataEmitter=new EventEmitter,this.data={items:items},this.setItemName=setItemName}return StaticTreeDataProvider.prototype.getTreeItem=function(itemId){return StaticTreeDataProvider_awaiter(this,void 0,void 0,(function(){return StaticTreeDataProvider_generator(this,(function(_a){return[2,this.data.items[itemId]]}))}))},StaticTreeDataProvider.prototype.onChangeItemChildren=function(itemId,newChildren){return StaticTreeDataProvider_awaiter(this,void 0,void 0,(function(){return StaticTreeDataProvider_generator(this,(function(_a){return this.data.items[itemId].children=newChildren,this.onDidChangeTreeDataEmitter.emit([itemId]),[2]}))}))},StaticTreeDataProvider.prototype.onDidChangeTreeData=function(listener){var _this=this,handlerId=this.onDidChangeTreeDataEmitter.on((function(payload){return listener(payload)}));return{dispose:function dispose(){return _this.onDidChangeTreeDataEmitter.off(handlerId)}}},StaticTreeDataProvider.prototype.onRenameItem=function(item,name){return StaticTreeDataProvider_awaiter(this,void 0,void 0,(function(){return StaticTreeDataProvider_generator(this,(function(_a){return this.setItemName&&(this.data.items[item.index]=this.setItemName(item,name)),[2]}))}))},StaticTreeDataProvider}()},"./packages/core/lib/esm/uncontrolledEnvironment/UncontrolledTreeEnvironment.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return UncontrolledTreeEnvironment}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.object.values.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js");var react=__webpack_require__("./node_modules/react/index.js"),ControlledTreeEnvironment=__webpack_require__("./packages/core/lib/esm/controlledEnvironment/ControlledTreeEnvironment.js"),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},CompleteTreeDataProvider=function(){function CompleteTreeDataProvider(provider){this.provider=provider}return CompleteTreeDataProvider.prototype.getTreeItem=function(itemId){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_a){return[2,this.provider.getTreeItem(itemId)]}))}))},CompleteTreeDataProvider.prototype.getTreeItems=function(itemIds){return __awaiter(this,void 0,void 0,(function(){var _this=this;return __generator(this,(function(_a){return[2,this.provider.getTreeItems?this.provider.getTreeItems(itemIds):Promise.all(itemIds.map((function(id){return _this.provider.getTreeItem(id)})))]}))}))},CompleteTreeDataProvider.prototype.onChangeItemChildren=function(itemId,newChildren){var _a,_b;return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_c){return[2,null===(_b=(_a=this.provider).onChangeItemChildren)||void 0===_b?void 0:_b.call(_a,itemId,newChildren)]}))}))},CompleteTreeDataProvider.prototype.onDidChangeTreeData=function(listener){return this.provider.onDidChangeTreeData?this.provider.onDidChangeTreeData(listener):{dispose:function dispose(){}}},CompleteTreeDataProvider.prototype.onRenameItem=function(item,name){var _a,_b;return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(_c){return[2,null===(_b=(_a=this.provider).onRenameItem)||void 0===_b?void 0:_b.call(_a,item,name)]}))}))},CompleteTreeDataProvider}(),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},UncontrolledTreeEnvironment_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},UncontrolledTreeEnvironment_generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function sent(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__spreadArray=function(to,from){for(var i=0,il=from.length,j=to.length;i<il;i++,j++)to[j]=from[i];return to},UncontrolledTreeEnvironment=react.forwardRef((function(props,ref){var _a=Object(react.useState)({}),currentItems=_a[0],setCurrentItems=_a[1],_b=Object(react.useState)(props.viewState),viewState=_b[0],setViewState=_b[1],missingItemIds=Object(react.useRef)([]),dataProvider=Object(react.useMemo)((function(){return new CompleteTreeDataProvider(props.dataProvider)}),[props.dataProvider]),writeItems=Object(react.useMemo)((function(){return function(newItems){setCurrentItems((function(oldItems){return __assign(__assign({},oldItems),newItems)}))}}),[]),amendViewState=Object(react.useCallback)((function(treeId,constructNewState){setViewState((function(oldState){var _a,_b;return __assign(__assign({},oldState),((_a={})[treeId]=__assign(__assign({},oldState[treeId]),constructNewState(null!==(_b=oldState[treeId])&&void 0!==_b?_b:{})),_a))}))}),[]);return Object(react.useEffect)((function(){var dispose=dataProvider.onDidChangeTreeData((function(changedItemIds){dataProvider.getTreeItems(changedItemIds).then((function(items){writeItems(items.map((function(item){var _a;return(_a={})[item.index]=item,_a})).reduce((function(a,b){return __assign(__assign({},a),b)}),{}))}))})).dispose;return dispose}),[dataProvider,writeItems]),react.createElement(ControlledTreeEnvironment.a,__assign({},props,{ref:ref,viewState:viewState,items:currentItems,onExpandItem:function onExpandItem(item,treeId){var _a;amendViewState(treeId,(function(old){var _a;return __assign(__assign({},old),{expandedItems:__spreadArray(__spreadArray([],null!==(_a=old.expandedItems)&&void 0!==_a?_a:[]),[item.index])})})),null===(_a=props.onExpandItem)||void 0===_a||_a.call(props,item,treeId)},onCollapseItem:function onCollapseItem(item,treeId){var _a;amendViewState(treeId,(function(old){var _a;return __assign(__assign({},old),{expandedItems:null===(_a=old.expandedItems)||void 0===_a?void 0:_a.filter((function(id){return id!==item.index}))})})),null===(_a=props.onCollapseItem)||void 0===_a||_a.call(props,item,treeId)},onSelectItems:function onSelectItems(items,treeId){var _a;amendViewState(treeId,(function(old){return __assign(__assign({},old),{selectedItems:items})})),null===(_a=props.onSelectItems)||void 0===_a||_a.call(props,items,treeId)},onFocusItem:function onFocusItem(item,treeId){var _a;amendViewState(treeId,(function(old){return __assign(__assign({},old),{focusedItem:item.index})})),null===(_a=props.onFocusItem)||void 0===_a||_a.call(props,item,treeId)},onStartRenamingItem:function onStartRenamingItem(item,treeId){var _a;amendViewState(treeId,(function(old){return __assign(__assign({},old),{renamingItem:item.index})})),null===(_a=props.onStartRenamingItem)||void 0===_a||_a.call(props,item,treeId)},onAbortRenamingItem:function onAbortRenamingItem(item,treeId){var _a;amendViewState(treeId,(function(old){return __assign(__assign({},old),{renamingItem:void 0})})),null===(_a=props.onAbortRenamingItem)||void 0===_a||_a.call(props,item,treeId)},onRenameItem:function onRenameItem(item,name,treeId){return UncontrolledTreeEnvironment_awaiter(void 0,void 0,void 0,(function(){var newItem,_a,_b;return UncontrolledTreeEnvironment_generator(this,(function(_c){switch(_c.label){case 0:return[4,dataProvider.onRenameItem(item,name)];case 1:return _c.sent(),amendViewState(treeId,(function(old){return __assign(__assign({},old),{renamingItem:void 0})})),[4,dataProvider.getTreeItem(item.index)];case 2:return newItem=_c.sent(),writeItems(((_a={})[item.index]=newItem,_a)),null===(_b=props.onRenameItem)||void 0===_b||_b.call(props,item,name,treeId),[2]}}))}))},onDrop:function onDrop(items,target){return UncontrolledTreeEnvironment_awaiter(void 0,void 0,void 0,(function(){var _loop_1,_i,items_1,item,_a,_b,_c,_d,_e;return UncontrolledTreeEnvironment_generator(this,(function(_f){switch(_f.label){case 0:_loop_1=function _loop_1(item){var parent_1,newParent,newParentChildren,isOldItemPriorToNewItem;return UncontrolledTreeEnvironment_generator(this,(function(_g){switch(_g.label){case 0:if(parent_1=Object.values(currentItems).find((function(potentialParent){var _a;return null===(_a=potentialParent.children)||void 0===_a?void 0:_a.includes(item.index)})),newParent=currentItems[target.parentItem],!parent_1)throw Error('Could not find parent of item "'+item.index+'"');if(!parent_1.children)throw Error('Parent "'+parent_1.index+'" of item "'+item.index+'" did not have any children');return"item"!==target.targetType?[3,5]:target.targetItem!==parent_1.index?[3,1]:[3,4];case 1:return[4,dataProvider.onChangeItemChildren(parent_1.index,parent_1.children.filter((function(child){return child!==item.index})))];case 2:return _g.sent(),[4,dataProvider.onChangeItemChildren(target.targetItem,__spreadArray(__spreadArray([],null!==(_a=currentItems[target.targetItem].children)&&void 0!==_a?_a:[]),[item.index]))];case 3:_g.sent(),_g.label=4;case 4:return[3,10];case 5:return newParentChildren=__spreadArray([],null!==(_b=newParent.children)&&void 0!==_b?_b:[]).filter((function(child){return child!==item.index})),target.parentItem!==parent_1.index?[3,7]:(isOldItemPriorToNewItem=(null!==(_d=(null!==(_c=newParent.children)&&void 0!==_c?_c:[]).findIndex((function(child){return child===item.index})))&&void 0!==_d?_d:1/0)<target.childIndex,newParentChildren.splice(target.childIndex-(isOldItemPriorToNewItem?1:0),0,item.index),[4,dataProvider.onChangeItemChildren(target.parentItem,newParentChildren)]);case 6:return _g.sent(),[3,10];case 7:return newParentChildren.splice(target.childIndex,0,item.index),[4,dataProvider.onChangeItemChildren(parent_1.index,parent_1.children.filter((function(child){return child!==item.index})))];case 8:return _g.sent(),[4,dataProvider.onChangeItemChildren(target.parentItem,newParentChildren)];case 9:_g.sent(),_g.label=10;case 10:return[2]}}))},_i=0,items_1=items,_f.label=1;case 1:return _i<items_1.length?(item=items_1[_i],[5,_loop_1(item)]):[3,4];case 2:_f.sent(),_f.label=3;case 3:return _i++,[3,1];case 4:return null===(_e=props.onDrop)||void 0===_e||_e.call(props,items,target),[2]}}))}))},onMissingItems:function onMissingItems(itemIds){var _a,_b;0===missingItemIds.current.length&&setTimeout((function(){dataProvider.getTreeItems(missingItemIds.current).then((function(items){writeItems(items.map((function(item){var _a;return(_a={})[item.index]=item,_a})).reduce((function(a,b){return __assign(__assign({},a),b)}),{}))})),missingItemIds.current=[]})),(_a=missingItemIds.current).push.apply(_a,itemIds),null===(_b=props.onMissingItems)||void 0===_b||_b.call(props,itemIds)}}),props.children)}));UncontrolledTreeEnvironment.__docgenInfo={description:"",methods:[],displayName:"UncontrolledTreeEnvironment"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/lib/esm/uncontrolledEnvironment/UncontrolledTreeEnvironment.js"]={name:"UncontrolledTreeEnvironment",docgenInfo:UncontrolledTreeEnvironment.__docgenInfo,path:"packages/core/lib/esm/uncontrolledEnvironment/UncontrolledTreeEnvironment.js"})},"./packages/core/lib/esm/useCallSoon.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useCallSoon}));__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js");var react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js");function useCallSoon(){var handleRef=Object(react__WEBPACK_IMPORTED_MODULE_4__.useRef)(new Array);return Object(react__WEBPACK_IMPORTED_MODULE_4__.useEffect)((function(){var handles=handleRef.current;return function(){return handles.forEach((function(handle){return cancelAnimationFrame(handle)}))}}),[handleRef]),Object(react__WEBPACK_IMPORTED_MODULE_4__.useCallback)((function(callback){var handle=requestAnimationFrame((function(){handleRef.current.splice(handleRef.current.indexOf(handle),1),callback()}));handleRef.current.push(handle)}),[handleRef])}},"./packages/core/lib/esm/useSideEffect.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useSideEffect}));__webpack_require__("./node_modules/core-js/modules/es.array.some.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),__spreadArray=function(to,from){for(var i=0,il=from.length,j=to.length;i<il;i++,j++)to[j]=from[i];return to},useSideEffect=function useSideEffect(effect,deps,changeOn){var previousRef=Object(react__WEBPACK_IMPORTED_MODULE_1__.useRef)();Object(react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function(){previousRef.current?previousRef.current.some((function(v,i){return v!==changeOn[i]}))&&(previousRef.current=__spreadArray([],changeOn),effect()):(previousRef.current=__spreadArray([],changeOn),effect())}),__spreadArray(__spreadArray([],deps),changeOn))}},"./packages/core/lib/esm/utils.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return buildMapForTrees}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js");var __assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},buildMapForTrees=function buildMapForTrees(treeIds,build){return treeIds.map((function(id){return[id,build(id)]})).reduce((function(a,_a){var _b,id=_a[0],obj=_a[1];return __assign(__assign({},a),((_b={})[id]=obj,_b))}),{})}},"./packages/core/src/controlledEnvironment/ControlledTreeEnvironment.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return ControlledTreeEnvironment_useTreeEnvironment})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ControlledTreeEnvironment}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),react_default=__webpack_require__.n(react),InteractionManagerProvider=__webpack_require__("./packages/core/src/controlledEnvironment/InteractionManagerProvider.tsx"),DragAndDropProvider=__webpack_require__("./packages/core/src/controlledEnvironment/DragAndDropProvider.tsx"),EnvironmentActionsProvider=__webpack_require__("./packages/core/src/environmentActions/EnvironmentActionsProvider.tsx"),jsx_runtime=(__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.string.search.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/react/jsx-runtime.js")),cx=function cx(){for(var _len=arguments.length,classNames=new Array(_len),_key=0;_key<_len;_key++)classNames[_key]=arguments[_key];return classNames.filter((function(cn){return!!cn})).join(" ")},createDefaultRenderers_createDefaultRenderers=function createDefaultRenderers(renderDepthOffset){return{renderItemTitle:function renderItemTitle(_ref){var title=_ref.title,context=_ref.context,info=_ref.info;if(info.isSearching&&context.isSearchMatching){var startIndex=title.toLowerCase().indexOf(info.search.toLowerCase());return Object(jsx_runtime.jsxs)(react_default.a.Fragment,{children:[startIndex>0&&Object(jsx_runtime.jsx)("span",{children:title.slice(0,startIndex)}),Object(jsx_runtime.jsx)("span",{className:"rct-tree-item-search-highlight",children:title.slice(startIndex,startIndex+info.search.length)}),startIndex+info.search.length<title.length&&Object(jsx_runtime.jsx)("span",{children:title.slice(startIndex+info.search.length,title.length)})]})}return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:title})},renderItemArrow:function renderItemArrow(_ref2){var item=_ref2.item,context=_ref2.context;return Object(jsx_runtime.jsx)("div",Object.assign({className:cx(item.hasChildren&&"rct-tree-item-arrow-hasChildren","rct-tree-item-arrow")},context.arrowProps,{children:item.hasChildren&&(context.isExpanded?Object(jsx_runtime.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 16 16",enableBackground:"new 0 0 16 16",xmlSpace:"preserve",children:Object(jsx_runtime.jsx)("g",{children:Object(jsx_runtime.jsx)("g",{children:Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12,5c-0.28,0-0.53,0.11-0.71,0.29L8,8.59L4.71,5.29C4.53,5.11,4.28,5,4,5 C3.45,5,3,5.45,3,6c0,0.28,0.11,0.53,0.29,0.71l4,4C7.47,10.89,7.72,11,8,11s0.53-0.11,0.71-0.29l4-4C12.89,6.53,13,6.28,13,6 C13,5.45,12.55,5,12,5z",className:"rct-tree-item-arrow-path"})})})}):Object(jsx_runtime.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 16 16",enableBackground:"new 0 0 16 16",xmlSpace:"preserve",children:Object(jsx_runtime.jsx)("g",{children:Object(jsx_runtime.jsx)("g",{children:Object(jsx_runtime.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.71,7.29l-4-4C6.53,3.11,6.28,3,6,3C5.45,3,5,3.45,5,4 c0,0.28,0.11,0.53,0.29,0.71L8.59,8l-3.29,3.29C5.11,11.47,5,11.72,5,12c0,0.55,0.45,1,1,1c0.28,0,0.53-0.11,0.71-0.29l4-4 C10.89,8.53,11,8.28,11,8C11,7.72,10.89,7.47,10.71,7.29z",className:"rct-tree-item-arrow-path"})})})}))}))},renderItem:function renderItem(_ref3){var item=_ref3.item,depth=_ref3.depth,children=_ref3.children,title=_ref3.title,context=_ref3.context,arrow=_ref3.arrow,InteractiveComponent=context.isRenaming?"div":"button",type=context.isRenaming?void 0:"button";return Object(jsx_runtime.jsxs)("li",Object.assign({},context.itemContainerWithChildrenProps,{className:cx("rct-tree-item-li",item.hasChildren&&"rct-tree-item-li-hasChildren",context.isSelected&&"rct-tree-item-li-selected",context.isExpanded&&"rct-tree-item-li-expanded",context.isFocused&&"rct-tree-item-li-focused",context.isDraggingOver&&"rct-tree-item-li-dragging-over",context.isSearchMatching&&"rct-tree-item-li-search-match"),children:[Object(jsx_runtime.jsxs)("div",Object.assign({},context.itemContainerWithoutChildrenProps,{style:{paddingLeft:(depth+1)*renderDepthOffset+"px"},className:cx("rct-tree-item-title-container",item.hasChildren&&"rct-tree-item-title-container-hasChildren",context.isSelected&&"rct-tree-item-title-container-selected",context.isExpanded&&"rct-tree-item-title-container-expanded",context.isFocused&&"rct-tree-item-title-container-focused",context.isDraggingOver&&"rct-tree-item-title-container-dragging-over",context.isSearchMatching&&"rct-tree-item-title-container-search-match"),children:[arrow,Object(jsx_runtime.jsx)(InteractiveComponent,Object.assign({type:type},context.interactiveElementProps,{className:cx("rct-tree-item-button",item.hasChildren&&"rct-tree-item-button-hasChildren",context.isSelected&&"rct-tree-item-button-selected",context.isExpanded&&"rct-tree-item-button-expanded",context.isFocused&&"rct-tree-item-button-focused",context.isDraggingOver&&"rct-tree-item-button-dragging-over",context.isSearchMatching&&"rct-tree-item-button-search-match"),children:title}))]})),children]}))},renderRenameInput:function renderRenameInput(_ref4){var inputProps=_ref4.inputProps,inputRef=_ref4.inputRef,submitButtonProps=_ref4.submitButtonProps,submitButtonRef=_ref4.submitButtonRef,formProps=_ref4.formProps;return Object(jsx_runtime.jsxs)("form",Object.assign({},formProps,{className:"rct-tree-item-renaming-form",children:[Object(jsx_runtime.jsx)("input",Object.assign({},inputProps,{ref:inputRef,className:"rct-tree-item-renaming-input"})),Object(jsx_runtime.jsx)("input",Object.assign({},submitButtonProps,{ref:submitButtonRef,type:"submit",className:"rct-tree-item-renaming-submit-button",value:""}))]}))},renderDraggingItem:function renderDraggingItem(){return Object(jsx_runtime.jsx)("div",{})},renderDraggingItemTitle:function renderDraggingItemTitle(){return Object(jsx_runtime.jsx)("div",{})},renderTreeContainer:function renderTreeContainer(_ref5){var children=_ref5.children,containerProps=_ref5.containerProps,info=_ref5.info;return Object(jsx_runtime.jsx)("div",{className:cx("rct-tree-root",info.isFocused&&"rct-tree-root-focus",info.isRenaming&&"rct-tree-root-renaming",info.areItemsSelected&&"rct-tree-root-itemsselected"),children:Object(jsx_runtime.jsx)("div",Object.assign({},containerProps,{children:children}))})},renderItemsContainer:function renderItemsContainer(_ref6){var children=_ref6.children,containerProps=_ref6.containerProps;return Object(jsx_runtime.jsx)("ul",Object.assign({},containerProps,{className:"rct-tree-items-container",children:children}))},renderDragBetweenLine:function renderDragBetweenLine(_ref7){var draggingPosition=_ref7.draggingPosition,lineProps=_ref7.lineProps;return Object(jsx_runtime.jsx)("div",Object.assign({},lineProps,{style:{left:draggingPosition.depth*renderDepthOffset+"px"},className:cx("rct-tree-drag-between-line","between-items"===draggingPosition.targetType&&"top"===draggingPosition.linePosition&&"rct-tree-drag-between-line-top","between-items"===draggingPosition.targetType&&"bottom"===draggingPosition.linePosition&&"rct-tree-drag-between-line-bottom")}))},renderSearchInput:function renderSearchInput(_ref8){var inputProps=_ref8.inputProps;return Object(jsx_runtime.jsx)("div",{className:cx("rct-tree-search-input-container"),children:Object(jsx_runtime.jsx)("input",Object.assign({},inputProps,{className:cx("rct-tree-search-input")}))})},renderLiveDescriptorContainer:function renderLiveDescriptorContainer(_ref9){var tree=_ref9.tree,children=_ref9.children;return Object(jsx_runtime.jsx)("div",{id:"rct-livedescription-"+tree.treeId,style:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"},children:children})},renderDepthOffset:10}};try{createDefaultRenderers_createDefaultRenderers.displayName="createDefaultRenderers",createDefaultRenderers_createDefaultRenderers.__docgenInfo={description:"",displayName:"createDefaultRenderers",props:{toString:{defaultValue:null,description:"Returns a string representation of an object.\n@param",name:"toString",required:!1,type:{name:"(radix?: number) => string"}},toFixed:{defaultValue:null,description:"Returns a string representing a number in fixed-point notation.\n@param",name:"toFixed",required:!0,type:{name:"(fractionDigits?: number) => string"}},toExponential:{defaultValue:null,description:"Returns a string containing a number represented in exponential notation.\n@param",name:"toExponential",required:!0,type:{name:"(fractionDigits?: number) => string"}},toPrecision:{defaultValue:null,description:"Returns a string containing a number represented either in exponential or fixed-point notation with a specified number of digits.\n@param",name:"toPrecision",required:!0,type:{name:"(precision?: number) => string"}},valueOf:{defaultValue:null,description:"Returns the primitive value of the specified object.",name:"valueOf",required:!1,type:{name:"() => number"}},toLocaleString:{defaultValue:null,description:"Converts a number to a string by using the current or specified locale.\n@param \n@param",name:"toLocaleString",required:!1,type:{name:"(locales?: string | string[], options?: NumberFormatOptions) => string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/renderers/createDefaultRenderers.tsx#createDefaultRenderers"]={docgenInfo:createDefaultRenderers_createDefaultRenderers.__docgenInfo,name:"createDefaultRenderers",path:"packages/core/src/renderers/createDefaultRenderers.tsx#createDefaultRenderers"})}catch(__react_docgen_typescript_loader_error){}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var utils=__webpack_require__("./packages/core/src/utils.ts"),getItemsLinearly=__webpack_require__("./packages/core/src/tree/getItemsLinearly.ts"),useRefCopy_useRefCopy=function useRefCopy(value){var ref=Object(react.useRef)(value);return ref.current=value,ref},_excluded=["onExpandItem","onCollapseItem","onDrop"];function useControlledTreeEnvironmentProps_slicedToArray(arr,i){return function useControlledTreeEnvironmentProps_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useControlledTreeEnvironmentProps_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function useControlledTreeEnvironmentProps_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useControlledTreeEnvironmentProps_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useControlledTreeEnvironmentProps_arrayLikeToArray(o,minLen)}(arr,i)||function useControlledTreeEnvironmentProps_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useControlledTreeEnvironmentProps_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var useControlledTreeEnvironmentProps_useControlledTreeEnvironmentProps=function useControlledTreeEnvironmentProps(_ref){var onExpandItemProp=_ref.onExpandItem,onCollapseProp=_ref.onCollapseItem,onDropProp=_ref.onDrop,props=_objectWithoutProperties(_ref,_excluded),_useState2=useControlledTreeEnvironmentProps_slicedToArray(Object(react.useState)({}),2),trees=_useState2[0],setTrees=_useState2[1],_useState4=useControlledTreeEnvironmentProps_slicedToArray(Object(react.useState)({}),2),linearItems=_useState4[0],setLinearItems=_useState4[1],_useState6=useControlledTreeEnvironmentProps_slicedToArray(Object(react.useState)(),2),activeTreeId=_useState6[0],setActiveTreeId=_useState6[1],viewStateRef=useRefCopy_useRefCopy(props.viewState),treeIds=Object(react.useMemo)((function(){return Object.keys(trees)}),[trees]),onFocusItem=props.onFocusItem,autoFocus=props.autoFocus,onRegisterTree=props.onRegisterTree,onUnregisterTree=props.onUnregisterTree,items=props.items,onFocusItemRef=useRefCopy_useRefCopy(onFocusItem),updateLinearItems=function useStableHandler(handler){var handlerRef=useRefCopy_useRefCopy(handler);return Object(react.useCallback)((function(){return handlerRef.current.apply(handlerRef,arguments)}),[handlerRef])}((function(){setTimeout((function(){setLinearItems(Object(utils.a)(treeIds,(function(treeId){var _viewStateRef$current;return Object(getItemsLinearly.a)(trees[treeId].rootItem,null!==(_viewStateRef$current=viewStateRef.current[treeId])&&void 0!==_viewStateRef$current?_viewStateRef$current:{},items)})))}))}));Object(react.useEffect)((function(){return updateLinearItems()}),[items,treeIds,updateLinearItems]);var onFocusItemHandler=Object(react.useCallback)((function(item,treeId){var _viewStateRef$current2,_onFocusItemRef$curre;if((null===(_viewStateRef$current2=viewStateRef.current[treeId])||void 0===_viewStateRef$current2?void 0:_viewStateRef$current2.focusedItem)!==item.index){null===(_onFocusItemRef$curre=onFocusItemRef.current)||void 0===_onFocusItemRef$curre||_onFocusItemRef$curre.call(onFocusItemRef,item,treeId);var _document$activeEleme,_document$activeEleme2,_focus,_ref2,newItem=document.querySelector('[data-rct-tree="'+treeId+'"] [data-rct-item-id="'+item.index+'"]');if(null==autoFocus||autoFocus)if("true"!==(null===(_document$activeEleme=document.activeElement)||void 0===_document$activeEleme||null===(_document$activeEleme2=_document$activeEleme.attributes.getNamedItem("data-rct-search-input"))||void 0===_document$activeEleme2?void 0:_document$activeEleme2.value))null==newItem||null===(_focus=(_ref2=newItem).focus)||void 0===_focus||_focus.call(_ref2);else!function scrollIntoView(element){if(element)if(element.scrollIntoViewIfNeeded)element.scrollIntoViewIfNeeded();else{var boundingBox=element.getBoundingClientRect();boundingBox.top>=0&&boundingBox.left>=0&&boundingBox.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&boundingBox.right<=(window.innerWidth||document.documentElement.clientWidth)||element.scrollIntoView()}}(newItem)}}),[autoFocus,onFocusItemRef,viewStateRef]),registerTree=Object(react.useCallback)((function(tree){setTrees((function(trees){var _Object$assign;return Object.assign({},trees,((_Object$assign={})[tree.treeId]=tree,_Object$assign))})),null==onRegisterTree||onRegisterTree(tree),updateLinearItems()}),[onRegisterTree,updateLinearItems]),unregisterTree=Object(react.useCallback)((function(treeId){null==onUnregisterTree||onUnregisterTree(trees[treeId]),delete trees[treeId],setTrees(trees)}),[onUnregisterTree,trees]),onCollapseItem=Object(react.useCallback)((function(item,treeId){null==onCollapseProp||onCollapseProp(item,treeId),updateLinearItems()}),[onCollapseProp,updateLinearItems]),onExpandItem=Object(react.useCallback)((function(item,treeId){null==onExpandItemProp||onExpandItemProp(item,treeId),updateLinearItems()}),[onExpandItemProp,updateLinearItems]),onDrop=Object(react.useCallback)((function(items,target){null==onDropProp||onDropProp(items,target),updateLinearItems()}),[onDropProp,updateLinearItems]),setActiveTree=Object(react.useCallback)((function(treeIdOrSetStateFunction){var autoFocusTree=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],focusTree=function focusTree(treeId){var _document$querySelect;if(autoFocusTree&&(null==autoFocus||autoFocus)&&treeId&&(null===(_document$querySelect=document.querySelector('[data-rct-tree="'+treeId+'"]'))||void 0===_document$querySelect||!_document$querySelect.contains(document.activeElement))){var _focus2,_ref3,focusItem=document.querySelector('[data-rct-tree="'+treeId+'"] [data-rct-item-focus="true"]');null==focusItem||null===(_focus2=(_ref3=focusItem).focus)||void 0===_focus2||_focus2.call(_ref3)}};if("function"==typeof treeIdOrSetStateFunction)setActiveTreeId((function(oldValue){var treeId=treeIdOrSetStateFunction(oldValue);return treeId!==oldValue&&focusTree(treeId),treeId}));else{var treeId=treeIdOrSetStateFunction;setActiveTreeId(treeId),focusTree(treeId)}}),[autoFocus]),renderers=function useRenderers(_ref){var renderItem=_ref.renderItem,renderItemTitle=_ref.renderItemTitle,renderItemArrow=_ref.renderItemArrow,renderRenameInput=_ref.renderRenameInput,renderDraggingItem=_ref.renderDraggingItem,renderDraggingItemTitle=_ref.renderDraggingItemTitle,renderItemsContainer=_ref.renderItemsContainer,renderTreeContainer=_ref.renderTreeContainer,renderDragBetweenLine=_ref.renderDragBetweenLine,renderSearchInput=_ref.renderSearchInput,renderLiveDescriptorContainer=_ref.renderLiveDescriptorContainer,renderDepthOffset=_ref.renderDepthOffset,defaultRenderers=Object(react.useMemo)((function(){return createDefaultRenderers_createDefaultRenderers(null!=renderDepthOffset?renderDepthOffset:10)}),[renderDepthOffset]),customRenderers={renderItem:renderItem,renderItemTitle:renderItemTitle,renderItemArrow:renderItemArrow,renderRenameInput:renderRenameInput,renderDraggingItem:renderDraggingItem,renderDraggingItemTitle:renderDraggingItemTitle,renderItemsContainer:renderItemsContainer,renderTreeContainer:renderTreeContainer,renderDragBetweenLine:renderDragBetweenLine,renderSearchInput:renderSearchInput,renderLiveDescriptorContainer:renderLiveDescriptorContainer,renderDepthOffset:renderDepthOffset},renderers=Object.entries(defaultRenderers).reduce((function(acc,_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],value=_ref3[1],keyMapped=key;return acc[keyMapped]=customRenderers[keyMapped]?customRenderers[keyMapped]:value,acc}),{});return renderers.renderItem.displayName="RenderItem",renderers.renderItemTitle.displayName="RenderItemTitle",renderers.renderItemArrow.displayName="RenderItemArrow",renderers.renderRenameInput.displayName="RenderRenameInput",renderers.renderDraggingItem.displayName="RenderDraggingItem",renderers.renderDraggingItemTitle.displayName="RenderDraggingItemTitle",renderers.renderItemsContainer.displayName="RenderItemsContainer",renderers.renderTreeContainer.displayName="RenderTreeContainer",renderers.renderDragBetweenLine.displayName="RenderDragBetweenLine",renderers.renderSearchInput.displayName="RenderSearchInput",renderers}(props);return Object.assign({},renderers,props,{onFocusItem:onFocusItemHandler,registerTree:registerTree,unregisterTree:unregisterTree,onExpandItem:onExpandItem,onCollapseItem:onCollapseItem,onDrop:onDrop,setActiveTree:setActiveTree,treeIds:treeIds,trees:trees,activeTreeId:activeTreeId,linearItems:linearItems})},TreeEnvironmentContext=react.createContext(null),ControlledTreeEnvironment_useTreeEnvironment=function useTreeEnvironment(){return Object(react.useContext)(TreeEnvironmentContext)},ControlledTreeEnvironment=react.forwardRef((function(props,ref){for(var environmentContextProps=useControlledTreeEnvironmentProps_useControlledTreeEnvironmentProps(props),viewState=props.viewState,_i=0,_Object$keys=Object.keys(environmentContextProps.trees);_i<_Object$keys.length;_i++){var _viewState$treeId,_props$items$environm,_props$items$environm2,treeId=_Object$keys[_i];if((null===(_viewState$treeId=viewState[treeId])||void 0===_viewState$treeId||!_viewState$treeId.focusedItem)&&environmentContextProps.trees[treeId])viewState[treeId]=Object.assign({},viewState[treeId],{focusedItem:null===(_props$items$environm=props.items[environmentContextProps.trees[treeId].rootItem])||void 0===_props$items$environm||null===(_props$items$environm2=_props$items$environm.children)||void 0===_props$items$environm2?void 0:_props$items$environm2[0]})}return Object(jsx_runtime.jsx)(TreeEnvironmentContext.Provider,{value:environmentContextProps,children:Object(jsx_runtime.jsx)(InteractionManagerProvider.a,{children:Object(jsx_runtime.jsx)(DragAndDropProvider.a,{children:Object(jsx_runtime.jsx)(EnvironmentActionsProvider.a,{ref:ref,children:props.children})})})})}));try{ControlledTreeEnvironment.displayName="ControlledTreeEnvironment",ControlledTreeEnvironment.__docgenInfo={description:"",displayName:"ControlledTreeEnvironment",props:{viewState:{defaultValue:null,description:"",name:"viewState",required:!0,type:{name:"TreeViewState<C>"}},keyboardBindings:{defaultValue:null,description:"",name:"keyboardBindings",required:!1,type:{name:"KeyboardBindings"}},liveDescriptors:{defaultValue:null,description:"",name:"liveDescriptors",required:!1,type:{name:"LiveDescriptors"}},getItemTitle:{defaultValue:null,description:"",name:"getItemTitle",required:!0,type:{name:"(item: TreeItem<T>) => string"}},renderItem:{defaultValue:null,description:"",name:"renderItem",required:!1,type:{name:"(props: { item: TreeItem<T>; depth: number; children: any; title: any; arrow: any; context: TreeItemRenderContext<C>; info: TreeInformation; }) => any"}},renderItemTitle:{defaultValue:null,description:"",name:"renderItemTitle",required:!1,type:{name:"(props: { title: string; item: TreeItem<T>; context: TreeItemRenderContext<C>; info: TreeInformation; }) => any"}},renderItemArrow:{defaultValue:null,description:"",name:"renderItemArrow",required:!1,type:{name:"(props: { item: TreeItem<T>; context: TreeItemRenderContext<C>; info: TreeInformation; }) => any"}},renderRenameInput:{defaultValue:null,description:"",name:"renderRenameInput",required:!1,type:{name:"(props: { item: TreeItem<T>; inputProps: InputHTMLAttributes<HTMLInputElement>; inputRef: Ref<HTMLInputElement>; submitButtonProps: HTMLProps<...>; submitButtonRef: Ref<...>; formProps: FormHTMLAttributes<...>; }) => any"}},renderDraggingItem:{defaultValue:null,description:"",name:"renderDraggingItem",required:!1,type:{name:"(props: { items: TreeItem<T>[]; }) => any"}},renderDraggingItemTitle:{defaultValue:null,description:"",name:"renderDraggingItemTitle",required:!1,type:{name:"(props: { items: TreeItem<T>[]; }) => any"}},renderItemsContainer:{defaultValue:null,description:"",name:"renderItemsContainer",required:!1,type:{name:"(props: { children: any; containerProps: HTMLProps<any>; info: TreeInformation; }) => any"}},renderTreeContainer:{defaultValue:null,description:"",name:"renderTreeContainer",required:!1,type:{name:"(props: { children: any; containerProps: HTMLProps<any>; info: TreeInformation; }) => any"}},renderDragBetweenLine:{defaultValue:null,description:"",name:"renderDragBetweenLine",required:!1,type:{name:"(props: { draggingPosition: DraggingPosition; lineProps: HTMLProps<any>; }) => any"}},renderSearchInput:{defaultValue:null,description:"",name:"renderSearchInput",required:!1,type:{name:"(props: { inputProps: HTMLProps<HTMLInputElement>; }) => any"}},renderLiveDescriptorContainer:{defaultValue:null,description:"",name:"renderLiveDescriptorContainer",required:!1,type:{name:"(props: { children: any; tree: TreeConfiguration; }) => any"}},renderDepthOffset:{defaultValue:null,description:"",name:"renderDepthOffset",required:!1,type:{name:"number"}},defaultInteractionMode:{defaultValue:null,description:"",name:"defaultInteractionMode",required:!1,type:{name:"InteractionMode | InteractionManager<never>"}},canDragAndDrop:{defaultValue:null,description:"",name:"canDragAndDrop",required:!1,type:{name:"boolean"}},canDropOnItemWithChildren:{defaultValue:null,description:"",name:"canDropOnItemWithChildren",required:!1,type:{name:"boolean"}},canDropOnItemWithoutChildren:{defaultValue:null,description:"",name:"canDropOnItemWithoutChildren",required:!1,type:{name:"boolean"}},canReorderItems:{defaultValue:null,description:"",name:"canReorderItems",required:!1,type:{name:"boolean"}},canDrag:{defaultValue:null,description:"",name:"canDrag",required:!1,type:{name:"(items: TreeItem<T>[]) => boolean"}},canDropAt:{defaultValue:null,description:"",name:"canDropAt",required:!1,type:{name:"(items: TreeItem<T>[], target: DraggingPosition) => boolean"}},canInvokePrimaryActionOnItemContainer:{defaultValue:null,description:"",name:"canInvokePrimaryActionOnItemContainer",required:!1,type:{name:"boolean"}},canSearch:{defaultValue:null,description:"",name:"canSearch",required:!1,type:{name:"boolean"}},canSearchByStartingTyping:{defaultValue:null,description:"",name:"canSearchByStartingTyping",required:!1,type:{name:"boolean"}},canRename:{defaultValue:null,description:"",name:"canRename",required:!1,type:{name:"boolean"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},doesSearchMatchItem:{defaultValue:null,description:"",name:"doesSearchMatchItem",required:!1,type:{name:"(search: string, item: TreeItem<T>, itemTitle: string) => boolean"}},showLiveDescription:{defaultValue:null,description:"",name:"showLiveDescription",required:!1,type:{name:"boolean"}},onStartRenamingItem:{defaultValue:null,description:"",name:"onStartRenamingItem",required:!1,type:{name:"(item: TreeItem<T>, treeId: string) => void"}},onRenameItem:{defaultValue:null,description:"",name:"onRenameItem",required:!1,type:{name:"(item: TreeItem<T>, name: string, treeId: string) => void"}},onAbortRenamingItem:{defaultValue:null,description:"",name:"onAbortRenamingItem",required:!1,type:{name:"(item: TreeItem<T>, treeId: string) => void"}},onCollapseItem:{defaultValue:null,description:"",name:"onCollapseItem",required:!1,type:{name:"(item: TreeItem<T>, treeId: string) => void"}},onExpandItem:{defaultValue:null,description:"",name:"onExpandItem",required:!1,type:{name:"(item: TreeItem<T>, treeId: string) => void"}},onSelectItems:{defaultValue:null,description:"",name:"onSelectItems",required:!1,type:{name:"(items: TreeItemIndex[], treeId: string) => void"}},onFocusItem:{defaultValue:null,description:"",name:"onFocusItem",required:!1,type:{name:"(item: TreeItem<T>, treeId: string) => void"}},onDrop:{defaultValue:null,description:"",name:"onDrop",required:!1,type:{name:"(items: TreeItem<T>[], target: DraggingPosition) => void"}},onPrimaryAction:{defaultValue:null,description:"",name:"onPrimaryAction",required:!1,type:{name:"(items: TreeItem<T>, treeId: string) => void"}},onRegisterTree:{defaultValue:null,description:"",name:"onRegisterTree",required:!1,type:{name:"(tree: TreeConfiguration) => void"}},onUnregisterTree:{defaultValue:null,description:"",name:"onUnregisterTree",required:!1,type:{name:"(tree: TreeConfiguration) => void"}},onMissingItems:{defaultValue:null,description:"",name:"onMissingItems",required:!1,type:{name:"(itemIds: TreeItemIndex[]) => void"}},onMissingChildren:{defaultValue:null,description:"",name:"onMissingChildren",required:!1,type:{name:"(itemIds: TreeItemIndex[]) => void"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"Record<TreeItemIndex, TreeItem<T>>"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<TreeEnvironmentRef<T, C>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/controlledEnvironment/ControlledTreeEnvironment.tsx#ControlledTreeEnvironment"]={docgenInfo:ControlledTreeEnvironment.__docgenInfo,name:"ControlledTreeEnvironment",path:"packages/core/src/controlledEnvironment/ControlledTreeEnvironment.tsx#ControlledTreeEnvironment"})}catch(__react_docgen_typescript_loader_error){}},"./packages/core/src/controlledEnvironment/DragAndDropProvider.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return DragAndDropProvider_useDragAndDrop})),__webpack_require__.d(__webpack_exports__,"a",(function(){return DragAndDropProvider_DragAndDropProvider}));__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js"),ControlledTreeEnvironment=__webpack_require__("./packages/core/src/controlledEnvironment/ControlledTreeEnvironment.tsx"),useGetParentOfLinearItem_useGetGetParentOfLinearItem=(__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),function useGetGetParentOfLinearItem(){var environment=Object(ControlledTreeEnvironment.b)();return Object(react.useCallback)((function(itemLinearIndex,treeId){for(var linearItems=environment.linearItems[treeId],depth=linearItems[itemLinearIndex].depth,parentLinearIndex=itemLinearIndex;linearItems[parentLinearIndex]&&linearItems[parentLinearIndex].depth!==depth-1;parentLinearIndex--);var parent=linearItems[parentLinearIndex];return parent||(parent={item:environment.trees[treeId].rootItem,depth:0},parentLinearIndex=0),parent}),[environment.linearItems,environment.trees])}),useOnDragOverTreeHandler_useOnDragOverTreeHandler=function useOnDragOverTreeHandler(lastDragCode,setLastDragCode,itemHeight,onDragAtPosition,onPerformDrag){var _useTreeEnvironment=Object(ControlledTreeEnvironment.b)(),canDropOnItemWithChildren=_useTreeEnvironment.canDropOnItemWithChildren,canDropOnItemWithoutChildren=_useTreeEnvironment.canDropOnItemWithoutChildren,canDragAndDrop=_useTreeEnvironment.canDragAndDrop,linearItems=_useTreeEnvironment.linearItems,items=_useTreeEnvironment.items,canReorderItems=_useTreeEnvironment.canReorderItems,viewState=_useTreeEnvironment.viewState,getParentOfLinearItem=useGetParentOfLinearItem_useGetGetParentOfLinearItem();return Object(react.useCallback)((function(e,treeId,containerRef){var _offset,_viewState$treeId,_viewState$treeId$sel,_linearItems$treeId$d,_linearItems$treeId;if(canDragAndDrop&&containerRef.current&&!(e.clientX<0||e.clientY<0)){var treeBb=containerRef.current.getBoundingClientRect(),outsideContainer=function isOutsideOfContainer(e,treeBb){return e.clientX<treeBb.left||e.clientX>treeBb.right||e.clientY<treeBb.top||e.clientY>treeBb.bottom}(e,treeBb),_getHoveringPosition=function getHoveringPosition(clientY,treeTop,itemHeight,canDropOnItemWithChildren,canDropOnItemWithoutChildren){var hoveringPosition=(clientY-treeTop)/itemHeight,offset=void 0,lineThreshold=canDropOnItemWithChildren||canDropOnItemWithoutChildren?.2:.5;return hoveringPosition%1<lineThreshold?offset="top":hoveringPosition%1>1-lineThreshold&&(offset="bottom"),{linearIndex:Math.floor(hoveringPosition),offset:offset}}(e.clientY,treeBb.top,itemHeight,canDropOnItemWithChildren,canDropOnItemWithoutChildren),linearIndex=_getHoveringPosition.linearIndex,offset=_getHoveringPosition.offset,nextDragCode=outsideContainer?"outside":""+treeId+linearIndex+(null!==(_offset=offset)&&void 0!==_offset?_offset:"");if(lastDragCode!==nextDragCode)if(setLastDragCode(nextDragCode),outsideContainer)onDragAtPosition(void 0);else if(linearIndex<0||linearIndex>=linearItems[treeId].length)onDragAtPosition(void 0);else{var targetItem=linearItems[treeId][linearIndex],depth=targetItem.depth,targetItemData=items[targetItem.item];if(offset||canDropOnItemWithoutChildren||targetItemData.hasChildren)if(offset||canDropOnItemWithChildren||!targetItemData.hasChildren)if(!offset||canReorderItems){var parent=getParentOfLinearItem(linearIndex,treeId);if(null===(_viewState$treeId=viewState[treeId])||void 0===_viewState$treeId||null===(_viewState$treeId$sel=_viewState$treeId.selectedItems)||void 0===_viewState$treeId$sel||!_viewState$treeId$sel.includes(targetItem.item)){var draggingPosition,newChildIndex=items[parent.item].children.indexOf(targetItem.item)+("top"===offset?0:1);"top"===offset&&depth===(null!==(_linearItems$treeId$d=null===(_linearItems$treeId=linearItems[treeId][linearIndex-1])||void 0===_linearItems$treeId?void 0:_linearItems$treeId.depth)&&void 0!==_linearItems$treeId$d?_linearItems$treeId$d:-1)&&(offset="bottom",linearIndex-=1),draggingPosition=offset?{targetType:"between-items",treeId:treeId,parentItem:parent.item,depth:targetItem.depth,linearIndex:linearIndex+("top"===offset?0:1),childIndex:newChildIndex,linePosition:offset}:{targetType:"item",treeId:treeId,parentItem:parent.item,targetItem:targetItem.item,depth:targetItem.depth,linearIndex:linearIndex},onPerformDrag(draggingPosition)}}else onDragAtPosition(void 0);else onDragAtPosition(void 0);else onDragAtPosition(void 0)}}}),[canDragAndDrop,canDropOnItemWithChildren,canDropOnItemWithoutChildren,canReorderItems,getParentOfLinearItem,itemHeight,items,lastDragCode,linearItems,onDragAtPosition,onPerformDrag,setLastDragCode,viewState])},useCanDropAt_useCanDropAt=function useCanDropAt(){var environment=Object(ControlledTreeEnvironment.b)();return Object(react.useCallback)((function(draggingPosition,draggingItems){if("between-items"===draggingPosition.targetType){if(!environment.canReorderItems)return!1}else{var resolvedItem=environment.items[draggingPosition.targetItem];if(!environment.canDropOnItemWithChildren&&resolvedItem.hasChildren||!environment.canDropOnItemWithoutChildren&&!resolvedItem.hasChildren)return!1}return!!(!environment.canDropAt||draggingItems&&environment.canDropAt(draggingItems,draggingPosition))}),[environment])};__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useSideEffect=__webpack_require__("./packages/core/src/useSideEffect.ts"),utils=__webpack_require__("./packages/core/src/utils.ts"),useCallSoon=__webpack_require__("./packages/core/src/useCallSoon.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function DragAndDropProvider_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return DragAndDropProvider_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DragAndDropProvider_arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DragAndDropProvider_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var DragAndDropContext=react.createContext(null),DragAndDropProvider_useDragAndDrop=function useDragAndDrop(){return react.useContext(DragAndDropContext)},DragAndDropProvider_DragAndDropProvider=function DragAndDropProvider(props){var environment=Object(ControlledTreeEnvironment.b)(),_useState2=_slicedToArray(Object(react.useState)(!1),2),isProgrammaticallyDragging=_useState2[0],setIsProgrammaticallyDragging=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(4),2),itemHeight=_useState4[0],setItemHeight=_useState4[1],_useState6=_slicedToArray(Object(react.useState)({}),2),viableDragPositions=_useState6[0],setViableDragPositions=_useState6[1],_useState8=_slicedToArray(Object(react.useState)(0),2),programmaticDragIndex=_useState8[0],setProgrammaticDragIndex=_useState8[1],_useState10=_slicedToArray(Object(react.useState)(),2),draggingItems=_useState10[0],setDraggingItems=_useState10[1],_useState12=_slicedToArray(Object(react.useState)(),2),draggingPosition=_useState12[0],setDraggingPosition=_useState12[1],_useState14=_slicedToArray(Object(react.useState)("_nodrag"),2),dragCode=_useState14[0],setDragCode=_useState14[1],getViableDragPositions=function useGetViableDragPositions(){var environment=Object(ControlledTreeEnvironment.b)(),getParentOfLinearItem=useGetParentOfLinearItem_useGetGetParentOfLinearItem(),canDropAt=useCanDropAt_useCanDropAt();return Object(react.useCallback)((function(treeId,draggingItems){var linearItems=environment.linearItems[treeId];return linearItems.map((function(_ref,linearIndex){var _linearItems$depth,_linearItems,item=_ref.item,depth=_ref.depth,parent=getParentOfLinearItem(linearIndex,treeId),childIndex=environment.items[parent.item].children.indexOf(item),itemPosition={targetType:"item",parentItem:parent.item,targetItem:item,linearIndex:linearIndex,depth:depth,treeId:treeId},topPosition={targetType:"between-items",parentItem:parent.item,linePosition:"top",childIndex:childIndex,depth:depth,treeId:treeId,linearIndex:linearIndex},bottomPosition={targetType:"between-items",parentItem:parent.item,linePosition:"bottom",linearIndex:linearIndex+1,childIndex:childIndex+1,depth:depth,treeId:treeId};return depth===(null!==(_linearItems$depth=null===(_linearItems=linearItems[linearIndex-1])||void 0===_linearItems?void 0:_linearItems.depth)&&void 0!==_linearItems$depth?_linearItems$depth:-1)?[itemPosition,bottomPosition]:[topPosition,itemPosition,bottomPosition]})).reduce((function(a,b){return[].concat(_toConsumableArray(a),_toConsumableArray(b))}),[]).filter((function(position){return canDropAt(position,draggingItems)}))}),[canDropAt,environment.items,environment.linearItems,getParentOfLinearItem])}(),callSoon=Object(useCallSoon.a)(),resetProgrammaticDragIndexForCurrentTree=(Object(react.useRef)(!1),Object(react.useCallback)((function(viableDragPositions,draggingItems){var _environment$viewStat;if(environment.activeTreeId&&null!==(_environment$viewStat=environment.viewState[environment.activeTreeId])&&void 0!==_environment$viewStat&&_environment$viewStat.focusedItem&&environment.linearItems&&draggingItems){var focusItem=environment.viewState[environment.activeTreeId].focusedItem,treeDragPositions=getViableDragPositions(environment.activeTreeId,draggingItems),newPos=treeDragPositions.findIndex((function(pos){return"item"===pos.targetType?pos.targetItem===focusItem:"between-items"===pos.targetType?environment.items[pos.parentItem].children[pos.childIndex]===focusItem:void 0}));setProgrammaticDragIndex(newPos?Math.min(newPos+1,treeDragPositions.length-1):0)}else setProgrammaticDragIndex(0)}),[environment.activeTreeId,environment.items,environment.linearItems,environment.viewState,getViableDragPositions])),resetState=Object(react.useCallback)((function(){setIsProgrammaticallyDragging(!1),setItemHeight(4),setViableDragPositions({}),setProgrammaticDragIndex(0),setDraggingItems(void 0),setDraggingPosition(void 0),setDragCode("_nodrag")}),[]);Object(useSideEffect.a)((function(){environment.activeTreeId&&environment.linearItems[environment.activeTreeId]&&viableDragPositions[environment.activeTreeId]&&resetProgrammaticDragIndexForCurrentTree(viableDragPositions[environment.activeTreeId],draggingItems)}),[draggingItems,environment.activeTreeId,environment.linearItems,resetProgrammaticDragIndexForCurrentTree,viableDragPositions],[environment.activeTreeId]),Object(useSideEffect.a)((function(){isProgrammaticallyDragging&&environment.activeTreeId&&setDraggingPosition(viableDragPositions[environment.activeTreeId][programmaticDragIndex])}),[programmaticDragIndex,environment.activeTreeId,isProgrammaticallyDragging,viableDragPositions],[programmaticDragIndex,environment.activeTreeId]);var canDropAt=useCanDropAt_useCanDropAt(),onDragOverTreeHandler=useOnDragOverTreeHandler_useOnDragOverTreeHandler(dragCode,setDragCode,itemHeight,setDraggingPosition,(function performDrag(draggingPosition){var _environment$onSelect;draggingItems&&!canDropAt(draggingPosition,draggingItems)||(setDraggingPosition(draggingPosition),environment.setActiveTree(draggingPosition.treeId),draggingItems&&environment.activeTreeId!==draggingPosition.treeId&&(null===(_environment$onSelect=environment.onSelectItems)||void 0===_environment$onSelect||_environment$onSelect.call(environment,draggingItems.map((function(item){return item.index})),draggingPosition.treeId)))})),onDropHandler=Object(react.useCallback)((function(){draggingItems&&draggingPosition&&environment.onDrop&&(environment.onDrop(draggingItems,draggingPosition),callSoon((function(){var _environment$onFocusI;null===(_environment$onFocusI=environment.onFocusItem)||void 0===_environment$onFocusI||_environment$onFocusI.call(environment,draggingItems[0],draggingPosition.treeId),resetState()})))}),[draggingItems,draggingPosition,environment,resetState,callSoon]),onStartDraggingItems=Object(react.useCallback)((function(items,treeId){var _document$querySelect,_document$querySelect2,treeViableDragPositions=Object(utils.a)(environment.treeIds,(function(treeId){return getViableDragPositions(treeId,items)})),height=null!==(_document$querySelect=null===(_document$querySelect2=document.querySelector('[data-rct-tree="'+treeId+'"] [data-rct-item-container="true"]'))||void 0===_document$querySelect2?void 0:_document$querySelect2.offsetHeight)&&void 0!==_document$querySelect?_document$querySelect:5;setItemHeight(height),setDraggingItems(items),setViableDragPositions(treeViableDragPositions),environment.activeTreeId&&resetProgrammaticDragIndexForCurrentTree(treeViableDragPositions[environment.activeTreeId],items)}),[environment.activeTreeId,environment.treeIds,getViableDragPositions,resetProgrammaticDragIndexForCurrentTree]),startProgrammaticDrag=Object(react.useCallback)((function(){if(environment.canDragAndDrop&&environment.activeTreeId){var _environment$viewStat2,_environment$viewStat3,_environment$viewStat4,_draggingItems=null!==(_environment$viewStat2=null===(_environment$viewStat3=environment.viewState[environment.activeTreeId])||void 0===_environment$viewStat3?void 0:_environment$viewStat3.selectedItems)&&void 0!==_environment$viewStat2?_environment$viewStat2:[null===(_environment$viewStat4=environment.viewState[environment.activeTreeId])||void 0===_environment$viewStat4?void 0:_environment$viewStat4.focusedItem];if(0===_draggingItems.length||void 0===_draggingItems[0])return;var resolvedDraggingItems=_draggingItems.map((function(id){return environment.items[id]}));if(environment.canDrag&&!environment.canDrag(resolvedDraggingItems))return;onStartDraggingItems(resolvedDraggingItems,environment.activeTreeId),setTimeout((function(){setIsProgrammaticallyDragging(!0)}))}}),[onStartDraggingItems,environment]),abortProgrammaticDrag=Object(react.useCallback)((function(){resetState()}),[resetState]),completeProgrammaticDrag=Object(react.useCallback)((function(){onDropHandler(),resetState()}),[onDropHandler,resetState]),programmaticDragUp=Object(react.useCallback)((function(){setProgrammaticDragIndex((function(oldIndex){return Math.max(0,oldIndex-1)}))}),[]),programmaticDragDown=Object(react.useCallback)((function(){environment.activeTreeId&&setProgrammaticDragIndex((function(oldIndex){return Math.min(viableDragPositions[environment.activeTreeId].length,oldIndex+1)}))}),[environment.activeTreeId,viableDragPositions]),dnd={onStartDraggingItems:onStartDraggingItems,startProgrammaticDrag:startProgrammaticDrag,abortProgrammaticDrag:abortProgrammaticDrag,completeProgrammaticDrag:completeProgrammaticDrag,programmaticDragUp:programmaticDragUp,programmaticDragDown:programmaticDragDown,draggingItems:draggingItems,draggingPosition:draggingPosition,itemHeight:itemHeight,isProgrammaticallyDragging:isProgrammaticallyDragging,onDragOverTreeHandler:onDragOverTreeHandler,viableDragPositions:viableDragPositions};return Object(react.useEffect)((function(){return window.addEventListener("dragend",resetState),window.addEventListener("drop",onDropHandler),function(){window.removeEventListener("dragend",resetState),window.removeEventListener("drop",onDropHandler)}}),[onDropHandler,resetState]),Object(jsx_runtime.jsx)(DragAndDropContext.Provider,{value:dnd,children:props.children})};DragAndDropProvider_DragAndDropProvider.displayName="DragAndDropProvider";try{DragAndDropProvider_DragAndDropProvider.displayName="DragAndDropProvider",DragAndDropProvider_DragAndDropProvider.__docgenInfo={description:"",displayName:"DragAndDropProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/controlledEnvironment/DragAndDropProvider.tsx#DragAndDropProvider"]={docgenInfo:DragAndDropProvider_DragAndDropProvider.__docgenInfo,name:"DragAndDropProvider",path:"packages/core/src/controlledEnvironment/DragAndDropProvider.tsx#DragAndDropProvider"})}catch(__react_docgen_typescript_loader_error){}},"./packages/core/src/controlledEnvironment/InteractionManagerProvider.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return InteractionManagerProvider_useInteractionManager})),__webpack_require__.d(__webpack_exports__,"a",(function(){return InteractionManagerProvider_InteractionManagerProvider}));var react=__webpack_require__("./node_modules/react/index.js"),types=__webpack_require__("./packages/core/src/types.ts"),ControlledTreeEnvironment=__webpack_require__("./packages/core/src/controlledEnvironment/ControlledTreeEnvironment.tsx"),isControlKey=(__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),function isControlKey(e){return e.ctrlKey||navigator.platform.toUpperCase().indexOf("MAC")>=0&&e.metaKey});function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var DoubleClickItemToExpandInteractionManager_DoubleClickItemToExpandInteractionManager=function(){function DoubleClickItemToExpandInteractionManager(environment){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DoubleClickItemToExpandInteractionManager),this.mode=types.a.DoubleClickItemToExpand,this.environment=void 0,this.environment=environment}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(DoubleClickItemToExpandInteractionManager,[{key:"createInteractiveElementProps",value:function createInteractiveElementProps(item,treeId,actions,renderFlags){var _this=this;return{onClick:function onClick(e){actions.focusItem(),e.shiftKey?actions.selectUpTo():isControlKey(e)?renderFlags.isSelected?actions.unselectItem():actions.addToSelectedItems():actions.selectItem()},onDoubleClick:function onDoubleClick(){actions.focusItem(),actions.selectItem(),item.hasChildren&&actions.toggleExpandedState(),item.hasChildren&&!_this.environment.canInvokePrimaryActionOnItemContainer||actions.primaryAction()},onFocus:function onFocus(){actions.focusItem()},onDragStart:function onDragStart(e){e.dataTransfer.dropEffect="move",actions.startDragging()},onDragOver:function onDragOver(e){e.preventDefault()},draggable:renderFlags.canDrag&&!renderFlags.isRenaming,tabIndex:renderFlags.isRenaming?void 0:renderFlags.isFocused?0:-1}}}]),DoubleClickItemToExpandInteractionManager}();function ClickItemToExpandInteractionManager_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var ClickItemToExpandInteractionManager_ClickItemToExpandInteractionManager=function(){function ClickItemToExpandInteractionManager(environment){!function ClickItemToExpandInteractionManager_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ClickItemToExpandInteractionManager),this.mode=types.a.ClickItemToExpand,this.environment=void 0,this.environment=environment}return function ClickItemToExpandInteractionManager_createClass(Constructor,protoProps,staticProps){return protoProps&&ClickItemToExpandInteractionManager_defineProperties(Constructor.prototype,protoProps),staticProps&&ClickItemToExpandInteractionManager_defineProperties(Constructor,staticProps),Constructor}(ClickItemToExpandInteractionManager,[{key:"createInteractiveElementProps",value:function createInteractiveElementProps(item,treeId,actions,renderFlags){var _this=this;return{onClick:function onClick(e){actions.focusItem(),e.shiftKey?actions.selectUpTo():isControlKey(e)?renderFlags.isSelected?actions.unselectItem():actions.addToSelectedItems():(item.hasChildren&&actions.toggleExpandedState(),actions.selectItem(),item.hasChildren&&!_this.environment.canInvokePrimaryActionOnItemContainer||actions.primaryAction())},onFocus:function onFocus(){actions.focusItem()},onDragStart:function onDragStart(e){e.dataTransfer.dropEffect="move",actions.startDragging()},onDragOver:function onDragOver(e){e.preventDefault()},draggable:renderFlags.canDrag&&!renderFlags.isRenaming,tabIndex:renderFlags.isRenaming?void 0:renderFlags.isFocused?0:-1}}}]),ClickItemToExpandInteractionManager}();function ClickArrowToExpandInteractionManager_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var ClickArrowToExpandInteractionManager_ClickArrowToExpandInteractionManager=function(){function ClickArrowToExpandInteractionManager(environment){!function ClickArrowToExpandInteractionManager_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ClickArrowToExpandInteractionManager),this.mode=types.a.ClickItemToExpand,this.environment=void 0,this.environment=environment}return function ClickArrowToExpandInteractionManager_createClass(Constructor,protoProps,staticProps){return protoProps&&ClickArrowToExpandInteractionManager_defineProperties(Constructor.prototype,protoProps),staticProps&&ClickArrowToExpandInteractionManager_defineProperties(Constructor,staticProps),Constructor}(ClickArrowToExpandInteractionManager,[{key:"createInteractiveElementProps",value:function createInteractiveElementProps(item,treeId,actions,renderFlags){var _this=this;return{onClick:function onClick(e){actions.focusItem(),e.shiftKey?actions.selectUpTo():isControlKey(e)?renderFlags.isSelected?actions.unselectItem():actions.addToSelectedItems():(actions.selectItem(),item.hasChildren&&!_this.environment.canInvokePrimaryActionOnItemContainer||actions.primaryAction())},onFocus:function onFocus(){actions.focusItem()},onDragStart:function onDragStart(e){e.dataTransfer.dropEffect="move",actions.startDragging()},onDragOver:function onDragOver(e){e.preventDefault()},draggable:renderFlags.canDrag&&!renderFlags.isRenaming,tabIndex:renderFlags.isRenaming?void 0:renderFlags.isFocused?0:-1}}}]),ClickArrowToExpandInteractionManager}(),buildInteractionMode_buildInteractionMode=function buildInteractionMode(mode,environment){switch(mode){case types.a.DoubleClickItemToExpand:return new DoubleClickItemToExpandInteractionManager_DoubleClickItemToExpandInteractionManager(environment);case types.a.ClickItemToExpand:return new ClickItemToExpandInteractionManager_ClickItemToExpandInteractionManager(environment);case types.a.ClickArrowToExpand:return new ClickArrowToExpandInteractionManager_ClickArrowToExpandInteractionManager(environment);default:throw Error("Unknown interaction mode "+mode)}},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),InteractionManagerContext=react.createContext(null),InteractionManagerProvider_useInteractionManager=function useInteractionManager(){return react.useContext(InteractionManagerContext)},InteractionManagerProvider_InteractionManagerProvider=function InteractionManagerProvider(props){var environment=Object(ControlledTreeEnvironment.b)(),defaultInteractionMode=environment.defaultInteractionMode,interactionManager=Object(react.useMemo)((function(){var _ref;return defaultInteractionMode&&"string"!=typeof defaultInteractionMode?defaultInteractionMode.extends?function mergeInteractionManagers(main,fallback){return{mode:main.mode,createInteractiveElementProps:function createInteractiveElementProps(item,treeId,actions,renderFlags){return Object.assign({},fallback.createInteractiveElementProps(item,treeId,actions,renderFlags),main.createInteractiveElementProps(item,treeId,actions,renderFlags))}}}(defaultInteractionMode,buildInteractionMode_buildInteractionMode(defaultInteractionMode.extends,environment)):defaultInteractionMode:buildInteractionMode_buildInteractionMode(null!==(_ref=defaultInteractionMode)&&void 0!==_ref?_ref:types.a.ClickItemToExpand,environment)}),[]);return Object(jsx_runtime.jsx)(InteractionManagerContext.Provider,{value:interactionManager,children:props.children})};InteractionManagerProvider_InteractionManagerProvider.displayName="InteractionManagerProvider";try{InteractionManagerProvider_InteractionManagerProvider.displayName="InteractionManagerProvider",InteractionManagerProvider_InteractionManagerProvider.__docgenInfo={description:"",displayName:"InteractionManagerProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/controlledEnvironment/InteractionManagerProvider.tsx#InteractionManagerProvider"]={docgenInfo:InteractionManagerProvider_InteractionManagerProvider.__docgenInfo,name:"InteractionManagerProvider",path:"packages/core/src/controlledEnvironment/InteractionManagerProvider.tsx#InteractionManagerProvider"})}catch(__react_docgen_typescript_loader_error){}},"./packages/core/src/environmentActions/EnvironmentActionsProvider.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return EnvironmentActionsProvider_useEnvironmentActions})),__webpack_require__.d(__webpack_exports__,"a",(function(){return EnvironmentActionsProvider}));__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js");var react=__webpack_require__("./node_modules/react/index.js"),DragAndDropProvider=__webpack_require__("./packages/core/src/controlledEnvironment/DragAndDropProvider.tsx"),ControlledTreeEnvironment=__webpack_require__("./packages/core/src/controlledEnvironment/ControlledTreeEnvironment.tsx"),jsx_runtime=(__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/jsx-runtime.js"));function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var EnvironmentActionsContext=react.createContext(null),EnvironmentActionsProvider_useEnvironmentActions=function useEnvironmentActions(){return react.useContext(EnvironmentActionsContext)},recursiveExpand=function recursiveExpand(itemId,items,onExpand){var _items$itemId$childre,_items$itemId,_step,_iterator=_createForOfIteratorHelper(null!==(_items$itemId$childre=null===(_items$itemId=items[itemId])||void 0===_items$itemId?void 0:_items$itemId.children)&&void 0!==_items$itemId$childre?_items$itemId$childre:[]);try{for(_iterator.s();!(_step=_iterator.n()).done;){var childId=_step.value,_item=items[childId];null!=_item&&_item.hasChildren&&(onExpand(_item),recursiveExpand(childId,items,onExpand))}}catch(err){_iterator.e(err)}finally{_iterator.f()}},EnvironmentActionsProvider=react.forwardRef((function(props,ref){var _useTreeEnvironment=Object(ControlledTreeEnvironment.b)(),onCollapseItem=_useTreeEnvironment.onCollapseItem,items=_useTreeEnvironment.items,trees=_useTreeEnvironment.trees,viewState=_useTreeEnvironment.viewState,onExpandItem=_useTreeEnvironment.onExpandItem,onFocusItem=_useTreeEnvironment.onFocusItem,setActiveTree=_useTreeEnvironment.setActiveTree,onRenameItem=_useTreeEnvironment.onRenameItem,onSelectItems=_useTreeEnvironment.onSelectItems,onPrimaryAction=_useTreeEnvironment.onPrimaryAction,linearItems=_useTreeEnvironment.linearItems,_useDragAndDrop=Object(DragAndDropProvider.b)(),abortProgrammaticDrag=_useDragAndDrop.abortProgrammaticDrag,completeProgrammaticDrag=_useDragAndDrop.completeProgrammaticDrag,programmaticDragDown=_useDragAndDrop.programmaticDragDown,programmaticDragUp=_useDragAndDrop.programmaticDragUp,startProgrammaticDrag=_useDragAndDrop.startProgrammaticDrag,actions={abortProgrammaticDrag:Object(react.useCallback)((function(){abortProgrammaticDrag()}),[abortProgrammaticDrag]),collapseItem:Object(react.useCallback)((function(itemId,treeId){null==onCollapseItem||onCollapseItem(items[itemId],treeId)}),[items,onCollapseItem]),completeProgrammaticDrag:Object(react.useCallback)((function(){completeProgrammaticDrag()}),[completeProgrammaticDrag]),expandItem:Object(react.useCallback)((function(itemId,treeId){null==onExpandItem||onExpandItem(items[itemId],treeId)}),[items,onExpandItem]),focusItem:Object(react.useCallback)((function(itemId,treeId){null==onFocusItem||onFocusItem(items[itemId],treeId)}),[items,onFocusItem]),focusTree:Object(react.useCallback)((function(treeId){var autoFocus=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];setActiveTree(treeId,autoFocus)}),[setActiveTree]),moveFocusDown:Object(react.useCallback)((function(treeId){var treeLinearItems=linearItems[treeId],currentFocusIndex=treeLinearItems.findIndex((function(_ref){var _viewState$treeId;return _ref.item===(null===(_viewState$treeId=viewState[treeId])||void 0===_viewState$treeId?void 0:_viewState$treeId.focusedItem)})),newIndex=void 0!==currentFocusIndex?Math.min(treeLinearItems.length-1,currentFocusIndex+1):0,newItem=items[treeLinearItems[newIndex].item];null==onFocusItem||onFocusItem(newItem,treeId)}),[items,linearItems,onFocusItem,viewState]),moveFocusUp:Object(react.useCallback)((function(treeId){var treeLinearItems=linearItems[treeId],currentFocusIndex=treeLinearItems.findIndex((function(_ref2){var _viewState$treeId2;return _ref2.item===(null===(_viewState$treeId2=viewState[treeId])||void 0===_viewState$treeId2?void 0:_viewState$treeId2.focusedItem)})),newIndex=void 0!==currentFocusIndex?Math.max(0,currentFocusIndex-1):0,newItem=items[treeLinearItems[newIndex].item];null==onFocusItem||onFocusItem(newItem,treeId)}),[items,linearItems,onFocusItem,viewState]),moveProgrammaticDragPositionDown:Object(react.useCallback)((function(){programmaticDragDown()}),[programmaticDragDown]),moveProgrammaticDragPositionUp:Object(react.useCallback)((function(){programmaticDragUp()}),[programmaticDragUp]),renameItem:Object(react.useCallback)((function(itemId,name,treeId){null==onRenameItem||onRenameItem(items[itemId],name,treeId)}),[items,onRenameItem]),selectItems:Object(react.useCallback)((function(itemsIds,treeId){null==onSelectItems||onSelectItems(itemsIds,treeId)}),[onSelectItems]),startProgrammaticDrag:Object(react.useCallback)((function(){startProgrammaticDrag()}),[startProgrammaticDrag]),toggleItemExpandedState:Object(react.useCallback)((function(itemId,treeId){var _viewState$treeId3,_viewState$treeId3$ex;null!==(_viewState$treeId3=viewState[treeId])&&void 0!==_viewState$treeId3&&null!==(_viewState$treeId3$ex=_viewState$treeId3.expandedItems)&&void 0!==_viewState$treeId3$ex&&_viewState$treeId3$ex.includes(itemId)?null==onCollapseItem||onCollapseItem(items[itemId],treeId):null==onExpandItem||onExpandItem(items[itemId],treeId)}),[items,onCollapseItem,onExpandItem,viewState]),toggleItemSelectStatus:Object(react.useCallback)((function(itemId,treeId){var _viewState$treeId4,_viewState$treeId4$se,_selectedItems$filter,_selectedItems,_selectedItems2;null!==(_viewState$treeId4=viewState[treeId])&&void 0!==_viewState$treeId4&&null!==(_viewState$treeId4$se=_viewState$treeId4.selectedItems)&&void 0!==_viewState$treeId4$se&&_viewState$treeId4$se.includes(itemId)?null==onSelectItems||onSelectItems(null!==(_selectedItems$filter=null===(_selectedItems=viewState[treeId].selectedItems)||void 0===_selectedItems?void 0:_selectedItems.filter((function(item){return item!==itemId})))&&void 0!==_selectedItems$filter?_selectedItems$filter:[],treeId):null==onSelectItems||onSelectItems([].concat(_toConsumableArray(null!==(_selectedItems2=viewState[treeId].selectedItems)&&void 0!==_selectedItems2?_selectedItems2:[]),[itemId]),treeId)}),[onSelectItems,viewState]),invokePrimaryAction:Object(react.useCallback)((function(itemId,treeId){null==onPrimaryAction||onPrimaryAction(items[itemId],treeId)}),[items,onPrimaryAction]),expandAll:Object(react.useCallback)((function(treeId){recursiveExpand(trees[treeId].rootItem,items,(function(item){null==onExpandItem||onExpandItem(item,treeId)}))}),[items,onExpandItem,trees]),collapseAll:Object(react.useCallback)((function(treeId){var _viewState$treeId$exp,_viewState$treeId5,_step2,_iterator2=_createForOfIteratorHelper(null!==(_viewState$treeId$exp=null===(_viewState$treeId5=viewState[treeId])||void 0===_viewState$treeId5?void 0:_viewState$treeId5.expandedItems)&&void 0!==_viewState$treeId$exp?_viewState$treeId$exp:[]);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var itemId=_step2.value;null==onCollapseItem||onCollapseItem(items[itemId],treeId)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}),[items,onCollapseItem,viewState])};return function useCreatedEnvironmentRef(ref,actions){var environment=Object(ControlledTreeEnvironment.b)(),dnd=Object(DragAndDropProvider.b)();Object(react.useImperativeHandle)(ref,(function(){return Object.assign({},actions,environment,{treeEnvironmentContext:environment,dragAndDropContext:dnd})}))}(ref,actions),Object(jsx_runtime.jsx)(EnvironmentActionsContext.Provider,{value:actions,children:props.children})}));try{EnvironmentActionsProvider.displayName="EnvironmentActionsProvider",EnvironmentActionsProvider.__docgenInfo={description:"",displayName:"EnvironmentActionsProvider",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<TreeEnvironmentRef<any, never>>"}},key:{defaultValue:null,description:"",name:"key",required:!1,type:{name:"Key"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/environmentActions/EnvironmentActionsProvider.tsx#EnvironmentActionsProvider"]={docgenInfo:EnvironmentActionsProvider.__docgenInfo,name:"EnvironmentActionsProvider",path:"packages/core/src/environmentActions/EnvironmentActionsProvider.tsx#EnvironmentActionsProvider"})}catch(__react_docgen_typescript_loader_error){}},"./packages/core/src/stories/Accessibility.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"VisibleLiveDescriptors",(function(){return VisibleLiveDescriptors})),__webpack_require__.d(__webpack_exports__,"CustomHotkeys",(function(){return CustomHotkeys})),__webpack_require__.d(__webpack_exports__,"CustomDescriptors",(function(){return CustomDescriptors})),__webpack_require__.d(__webpack_exports__,"NoDescriptors",(function(){return NoDescriptors}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/core/src/uncontrolledEnvironment/UncontrolledTreeEnvironment.tsx"),_uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/core/src/uncontrolledEnvironment/StaticTreeDataProvider.ts"),_tree_Tree__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/core/src/tree/Tree.tsx"),demodata__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./packages/demodata/lib/index.js")),_tree_defaultLiveDescriptors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/core/src/tree/defaultLiveDescriptors.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Core/Accessibility"};var VisibleLiveDescriptorContainer=function VisibleLiveDescriptorContainer(_ref){var children=_ref.children,tree=_ref.tree;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("div",{id:"rct-livedescription-"+tree.treeId,style:{position:"absolute",top:"10px",right:"10px",width:"250px",fontSize:"10px",backgroundColor:"rgba(255, 255, 255, .5)"},children:children})};VisibleLiveDescriptorContainer.displayName="VisibleLiveDescriptorContainer";var VisibleLiveDescriptors=function VisibleLiveDescriptors(){var _ref2;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_1__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_2__.a(demodata__WEBPACK_IMPORTED_MODULE_5__.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref2={},_ref2["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref2),renderLiveDescriptorContainer:VisibleLiveDescriptorContainer,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_3__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};VisibleLiveDescriptors.displayName="VisibleLiveDescriptors";var CustomHotkeys=function CustomHotkeys(){var _ref3;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_1__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_2__.a(demodata__WEBPACK_IMPORTED_MODULE_5__.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref3={},_ref3["tree-1"]={expandedItems:["Fruit","Meals","Desserts"]},_ref3),keyboardBindings:{primaryAction:["f3"],renameItem:["control+e"],abortRenameItem:["control"],startProgrammaticDnd:["f2"],completeProgrammaticDnd:["control"],abortProgrammaticDnd:["enter"]},renderLiveDescriptorContainer:VisibleLiveDescriptorContainer,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_3__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};CustomHotkeys.displayName="CustomHotkeys";var CustomDescriptors=function CustomDescriptors(){var _ref4;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_1__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_2__.a(demodata__WEBPACK_IMPORTED_MODULE_5__.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref4={},_ref4["tree-1"]={expandedItems:["Fruit","Meals","Desserts"]},_ref4),liveDescriptors:Object.assign({},_tree_defaultLiveDescriptors__WEBPACK_IMPORTED_MODULE_6__.a,{introduction:"<em>Custom live descriptor for tree {treeLabel}</em>",renamingItem:"<em>Renaming {renamingItem}",programmaticallyDragging:"<em>Dragging {dragItems}</em>",programmaticallyDraggingTarget:"<em>Target is {dropTarget}</em>"}),renderLiveDescriptorContainer:VisibleLiveDescriptorContainer,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_3__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};CustomDescriptors.displayName="CustomDescriptors";var NoDescriptors=function NoDescriptors(){var _ref5;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_1__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_2__.a(demodata__WEBPACK_IMPORTED_MODULE_5__.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref5={},_ref5["tree-1"]={expandedItems:["Fruit","Meals","Desserts"]},_ref5),showLiveDescription:!1,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("p",{children:"The following tree has no accessibility descriptors in the DOM at all."}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_3__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})]})};NoDescriptors.displayName="NoDescriptors",VisibleLiveDescriptors.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n    getItemTitle={item => item.data}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n    renderLiveDescriptorContainer={VisibleLiveDescriptorContainer}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},VisibleLiveDescriptors.parameters),CustomHotkeys.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n    getItemTitle={item => item.data}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'Desserts'],\n      },\n    }}\n    keyboardBindings={{\n      primaryAction: ['f3'],\n      renameItem: ['control+e'],\n      abortRenameItem: ['control'],\n      startProgrammaticDnd: ['f2'],\n      completeProgrammaticDnd: ['control'],\n      abortProgrammaticDnd: ['enter'],\n    }}\n    renderLiveDescriptorContainer={VisibleLiveDescriptorContainer}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},CustomHotkeys.parameters),CustomDescriptors.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n    getItemTitle={item => item.data}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'Desserts'],\n      },\n    }}\n    liveDescriptors={{\n      ...defaultLiveDescriptors,\n      introduction: '<em>Custom live descriptor for tree {treeLabel}</em>',\n      renamingItem: '<em>Renaming {renamingItem}',\n      programmaticallyDragging: '<em>Dragging {dragItems}</em>',\n      programmaticallyDraggingTarget: '<em>Target is {dropTarget}</em>',\n    }}\n    renderLiveDescriptorContainer={VisibleLiveDescriptorContainer}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},CustomDescriptors.parameters),NoDescriptors.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n    getItemTitle={item => item.data}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'Desserts'],\n      },\n    }}\n    showLiveDescription={false}\n  >\n    <p>The following tree has no accessibility descriptors in the DOM at all.</p>\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},NoDescriptors.parameters)},"./packages/core/src/stories/BasicExamples.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SingleTree",(function(){return SingleTree})),__webpack_require__.d(__webpack_exports__,"PredefinedViewState",(function(){return PredefinedViewState})),__webpack_require__.d(__webpack_exports__,"Actions",(function(){return Actions})),__webpack_require__.d(__webpack_exports__,"SingleTreeAllCollapsed",(function(){return SingleTreeAllCollapsed})),__webpack_require__.d(__webpack_exports__,"SmallTree",(function(){return SmallTree})),__webpack_require__.d(__webpack_exports__,"MultipleTrees",(function(){return MultipleTrees})),__webpack_require__.d(__webpack_exports__,"SwitchMountedTree",(function(){return SwitchMountedTree}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var _uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./packages/core/src/uncontrolledEnvironment/UncontrolledTreeEnvironment.tsx"),_uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./packages/core/src/uncontrolledEnvironment/StaticTreeDataProvider.ts"),_tree_Tree__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./packages/core/src/tree/Tree.tsx"),react__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/react/index.js"),demodata__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./packages/demodata/lib/index.js"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/react/jsx-runtime.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Core/Basic Examples"};var SingleTree=function SingleTree(){var _ref;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_12__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_13__.a(demodata__WEBPACK_IMPORTED_MODULE_16__.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref={},_ref["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_14__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};SingleTree.displayName="SingleTree";var PredefinedViewState=function PredefinedViewState(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_12__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_13__.a(demodata__WEBPACK_IMPORTED_MODULE_16__.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},viewState:{"tree-1":{expandedItems:["Fruit"],focusedItem:"Apple",selectedItems:["Apple","Lemon","Berries"]}},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_14__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};PredefinedViewState.displayName="PredefinedViewState";var Actions=function Actions(){var _ref2;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_12__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_13__.a(demodata__WEBPACK_IMPORTED_MODULE_16__.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref2={},_ref2["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref2),onStartRenamingItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_17__.action)("onStartRenamingItem"),onRenameItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_17__.action)("onRenameItem"),onAbortRenamingItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_17__.action)("onAbortRenamingItem"),onCollapseItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_17__.action)("onCollapseItem"),onExpandItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_17__.action)("onExpandItem"),onSelectItems:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_17__.action)("onSelectItems"),onFocusItem:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_17__.action)("onFocusItem"),onDrop:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_17__.action)("onDrop"),onPrimaryAction:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_17__.action)("onPrimaryAction"),onRegisterTree:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_17__.action)("onRegisterTree"),onUnregisterTree:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_17__.action)("onUnregisterTree"),onMissingItems:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_17__.action)("onMissingItems"),onMissingChildren:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_17__.action)("onMissingChildren"),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("p",{children:'In this example, action hooks trigger Storybook actions in the "Actions" tab below.'}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_14__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})]})})};Actions.displayName="Actions";var SingleTreeAllCollapsed=function SingleTreeAllCollapsed(){var _ref3;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_12__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_13__.a(demodata__WEBPACK_IMPORTED_MODULE_16__.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref3={},_ref3["tree-1"]={},_ref3),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_14__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};SingleTreeAllCollapsed.displayName="SingleTreeAllCollapsed";var SmallTree=function SmallTree(){var _ref4;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_12__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_13__.a(demodata__WEBPACK_IMPORTED_MODULE_16__.shortTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref4={},_ref4["tree-1"]={},_ref4),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_14__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};SmallTree.displayName="SmallTree";var MultipleTrees=function MultipleTrees(){var _ref5;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_12__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_13__.a(demodata__WEBPACK_IMPORTED_MODULE_16__.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref5={},_ref5["tree-1"]={},_ref5),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)("div",{style:{display:"flex",backgroundColor:"#D8DEE9",justifyContent:"space-evenly",alignItems:"baseline",padding:"20px 0"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("div",{style:{width:"28%",backgroundColor:"white"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_14__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree 1"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("div",{style:{width:"28%",backgroundColor:"white"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_14__.a,{treeId:"tree-2",rootItem:"root",treeLabel:"Tree 2"})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("div",{style:{width:"28%",backgroundColor:"white"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_14__.a,{treeId:"tree-3",rootItem:"root",treeLabel:"Tree 3"})})]})})};MultipleTrees.displayName="MultipleTrees";var SwitchMountedTree=function SwitchMountedTree(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_15__.useState)(!1),2),showFirstTree=_useState2[0],setShowFirstTree=_useState2[1];return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsxs)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_12__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_13__.a(demodata__WEBPACK_IMPORTED_MODULE_16__.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},viewState:{},onRegisterTree:function onRegisterTree(t){return console.log("Register",t.treeId)},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)("button",{onClick:function onClick(){return setShowFirstTree(!showFirstTree)},children:"Switch Tree"}),showFirstTree?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_14__.a,{treeId:"tree-1",rootItem:"Europe",treeLabel:"Tree Example"}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_18__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_14__.a,{treeId:"tree-2",rootItem:"America",treeLabel:"Tree Example"})]})};SwitchMountedTree.displayName="SwitchMountedTree",SingleTree.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n    getItemTitle={item => item.data}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},SingleTree.parameters),PredefinedViewState.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n    getItemTitle={item => item.data}\n    viewState={{\n      'tree-1': {\n        expandedItems: ['Fruit'],\n        focusedItem: 'Apple',\n        selectedItems: ['Apple', 'Lemon', 'Berries'],\n      },\n    }}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},PredefinedViewState.parameters),Actions.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n    getItemTitle={item => item.data}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n    onStartRenamingItem={action('onStartRenamingItem')}\n    onRenameItem={action('onRenameItem')}\n    onAbortRenamingItem={action('onAbortRenamingItem')}\n    onCollapseItem={action('onCollapseItem')}\n    onExpandItem={action('onExpandItem')}\n    onSelectItems={action('onSelectItems')}\n    onFocusItem={action('onFocusItem')}\n    onDrop={action('onDrop')}\n    onPrimaryAction={action('onPrimaryAction')}\n    onRegisterTree={action('onRegisterTree')}\n    onUnregisterTree={action('onUnregisterTree')}\n    onMissingItems={action('onMissingItems')}\n    onMissingChildren={action('onMissingChildren')}\n  >\n    <>\n      <p>In this example, action hooks trigger Storybook actions in the &quot;Actions&quot; tab below.</p>\n      <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n    </>\n  </UncontrolledTreeEnvironment>\n)"}},Actions.parameters),SingleTreeAllCollapsed.parameters=Object.assign({storySource:{source:'() => (\n  <UncontrolledTreeEnvironment<string>\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n    getItemTitle={item => item.data}\n    viewState={{\n      [\'tree-1\']: {},\n    }}\n  >\n    <Tree treeId="tree-1" rootItem="root" treeLabel="Tree Example" />\n  </UncontrolledTreeEnvironment>\n)'}},SingleTreeAllCollapsed.parameters),SmallTree.parameters=Object.assign({storySource:{source:'() => (\n  <UncontrolledTreeEnvironment<string>\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    dataProvider={new StaticTreeDataProvider(shortTree.items, (item, data) => ({ ...item, data }))}\n    getItemTitle={item => item.data}\n    viewState={{\n      [\'tree-1\']: {},\n    }}\n  >\n    <Tree treeId="tree-1" rootItem="root" treeLabel="Tree Example" />\n  </UncontrolledTreeEnvironment>\n)'}},SmallTree.parameters),MultipleTrees.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n    getItemTitle={item => item.data}\n    viewState={{\n      ['tree-1']: {},\n    }}\n  >\n    <div\n      style={{\n        display: 'flex',\n        backgroundColor: '#D8DEE9',\n        justifyContent: 'space-evenly',\n        alignItems: 'baseline',\n        padding: '20px 0',\n      }}\n    >\n      <div\n        style={{\n          width: '28%',\n          backgroundColor: 'white',\n        }}\n      >\n        <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree 1\" />\n      </div>\n      <div\n        style={{\n          width: '28%',\n          backgroundColor: 'white',\n        }}\n      >\n        <Tree treeId=\"tree-2\" rootItem=\"root\" treeLabel=\"Tree 2\" />\n      </div>\n      <div\n        style={{\n          width: '28%',\n          backgroundColor: 'white',\n        }}\n      >\n        <Tree treeId=\"tree-3\" rootItem=\"root\" treeLabel=\"Tree 3\" />\n      </div>\n    </div>\n  </UncontrolledTreeEnvironment>\n)"}},MultipleTrees.parameters),SwitchMountedTree.parameters=Object.assign({storySource:{source:'() => {\n  const [showFirstTree, setShowFirstTree] = useState(false);\n  return (\n    <UncontrolledTreeEnvironment<string>\n      canDragAndDrop={true}\n      canDropOnItemWithChildren={true}\n      canReorderItems={true}\n      dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n      getItemTitle={item => item.data}\n      viewState={{}}\n      onRegisterTree={(t) => console.log(\'Register\', t.treeId)}\n    >\n      <button onClick={() => setShowFirstTree(!showFirstTree)}>Switch Tree</button>\n      {showFirstTree ? <Tree treeId="tree-1" rootItem="Europe" treeLabel="Tree Example" /> : <Tree treeId="tree-2" rootItem="America" treeLabel="Tree Example" />}\n    </UncontrolledTreeEnvironment>\n  );\n}'}},SwitchMountedTree.parameters)},"./packages/core/src/stories/ControlledEnvironment.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"StaticState",(function(){return StaticState}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _tree_Tree__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/core/src/tree/Tree.tsx"),demodata__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./packages/demodata/lib/index.js")),_controlledEnvironment_ControlledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/core/src/controlledEnvironment/ControlledTreeEnvironment.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Core/Controlled Environment"};var StaticState=function StaticState(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_controlledEnvironment_ControlledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,items:demodata__WEBPACK_IMPORTED_MODULE_3__.longTree.items,getItemTitle:function getItemTitle(item){return item.data},viewState:{},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_1__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};StaticState.displayName="StaticState",StaticState.parameters=Object.assign({storySource:{source:'() => (\n  <ControlledTreeEnvironment<string>\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    items={longTree.items}\n    getItemTitle={item => item.data}\n    viewState={{}}\n  >\n    <Tree treeId="tree-1" rootItem="root" treeLabel="Tree Example" />\n  </ControlledTreeEnvironment>\n)'}},StaticState.parameters)},"./packages/core/src/stories/CustomViewState.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SingleTree",(function(){return SingleTree}));__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/core/src/uncontrolledEnvironment/UncontrolledTreeEnvironment.tsx"),_uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/core/src/uncontrolledEnvironment/StaticTreeDataProvider.ts"),_tree_Tree__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/core/src/tree/Tree.tsx"),demodata__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./packages/demodata/lib/index.js")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react/jsx-runtime.js"),cx=function cx(){for(var _len=arguments.length,classNames=new Array(_len),_key=0;_key<_len;_key++)classNames[_key]=arguments[_key];return classNames.filter((function(cn){return!!cn})).join(" ")};__webpack_exports__.default={title:"Core/Custom View State"};var SingleTree=function SingleTree(){var _ref2;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_3__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_4__.a(demodata__WEBPACK_IMPORTED_MODULE_7__.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},renderItem:function renderItem(_ref){var item=_ref.item,depth=_ref.depth,children=_ref.children,title=_ref.title,context=_ref.context,arrow=_ref.arrow,InteractiveComponent=context.isRenaming?"div":"button",type=context.isRenaming?void 0:"button";return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("li",Object.assign({},context.itemContainerWithChildrenProps,{className:cx("rct-tree-item-li",item.hasChildren&&"rct-tree-item-li-hasChildren",context.isSelected&&"rct-tree-item-li-selected",context.isExpanded&&"rct-tree-item-li-expanded",context.isFocused&&"rct-tree-item-li-focused",context.isDraggingOver&&"rct-tree-item-li-dragging-over",context.isSearchMatching&&"rct-tree-item-li-search-match"),children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("div",Object.assign({},context.itemContainerWithoutChildrenProps,{style:{paddingLeft:10*(depth+1)+"px"},className:cx("rct-tree-item-title-container",item.hasChildren&&"rct-tree-item-title-container-hasChildren",context.isSelected&&"rct-tree-item-title-container-selected",context.isExpanded&&"rct-tree-item-title-container-expanded",context.isFocused&&"rct-tree-item-title-container-focused",context.isDraggingOver&&"rct-tree-item-title-container-dragging-over",context.isSearchMatching&&"rct-tree-item-title-container-search-match"),children:[arrow,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(InteractiveComponent,Object.assign({type:type},context.interactiveElementProps,{className:cx("rct-tree-item-button"),children:[title,context.viewStateFlags.activeItems?" (marked as active)":""]}))]})),children]}))},viewState:(_ref2={},_ref2["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"],activeItems:["America","Europe"]},_ref2),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_5__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};SingleTree.displayName="SingleTree",SingleTree.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string, 'activeItems'>\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n    getItemTitle={item => item.data}\n    renderItem={({ item, depth, children, title, context, arrow }) => {\n      const InteractiveComponent = context.isRenaming ? 'div' : 'button';\n      const type = context.isRenaming ? undefined : 'button';\n      return (\n        <li\n          {...(context.itemContainerWithChildrenProps as any)}\n          className={cx(\n            'rct-tree-item-li',\n            item.hasChildren && 'rct-tree-item-li-hasChildren',\n            context.isSelected && 'rct-tree-item-li-selected',\n            context.isExpanded && 'rct-tree-item-li-expanded',\n            context.isFocused && 'rct-tree-item-li-focused',\n            context.isDraggingOver && 'rct-tree-item-li-dragging-over',\n            context.isSearchMatching && 'rct-tree-item-li-search-match'\n          )}\n        >\n          <div\n            {...(context.itemContainerWithoutChildrenProps as any)}\n            style={{ paddingLeft: `${(depth + 1) * 10}px` }}\n            className={cx(\n              'rct-tree-item-title-container',\n              item.hasChildren && 'rct-tree-item-title-container-hasChildren',\n              context.isSelected && 'rct-tree-item-title-container-selected',\n              context.isExpanded && 'rct-tree-item-title-container-expanded',\n              context.isFocused && 'rct-tree-item-title-container-focused',\n              context.isDraggingOver && 'rct-tree-item-title-container-dragging-over',\n              context.isSearchMatching && 'rct-tree-item-title-container-search-match'\n            )}\n          >\n            {arrow}\n            <InteractiveComponent\n              type={type}\n              {...(context.interactiveElementProps as any)}\n              className={cx('rct-tree-item-button')}\n            >\n              {title}\n              {context.viewStateFlags.activeItems ? ' (marked as active)' : ''}\n            </InteractiveComponent>\n          </div>\n          {children}\n        </li>\n      );\n    }}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n        activeItems: ['America', 'Europe'],\n      },\n    }}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},SingleTree.parameters)},"./packages/core/src/stories/DelayedDataSource.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"TreeWithDelayedDataProvider",(function(){return TreeWithDelayedDataProvider}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/core/src/uncontrolledEnvironment/UncontrolledTreeEnvironment.tsx"),_tree_Tree__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/core/src/tree/Tree.tsx"),demodata__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./packages/demodata/lib/index.js")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Core/Delayed Data Source"};var TreeWithDelayedDataProvider=function TreeWithDelayedDataProvider(){var _ref;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:{getTreeItem:function getTreeItem(itemId){return new Promise((function(res){return setTimeout((function(){return res(demodata__WEBPACK_IMPORTED_MODULE_7__.longTree.items[itemId])}),750)}))}},getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref={},_ref["tree-1"]={},_ref),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_5__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};TreeWithDelayedDataProvider.displayName="TreeWithDelayedDataProvider",TreeWithDelayedDataProvider.parameters=Object.assign({storySource:{source:'() => (\n  <UncontrolledTreeEnvironment<string>\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    dataProvider={{\n      getTreeItem: itemId => {\n        return new Promise(res => setTimeout(() => res(longTree.items[itemId]), 750));\n      },\n    }}\n    getItemTitle={item => item.data}\n    viewState={{\n      [\'tree-1\']: {},\n    }}\n  >\n    <Tree treeId="tree-1" rootItem="root" treeLabel="Tree Example" />\n  </UncontrolledTreeEnvironment>\n)'}},TreeWithDelayedDataProvider.parameters)},"./packages/core/src/stories/DndLimitations.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"NoDragAndDrop",(function(){return NoDragAndDrop})),__webpack_require__.d(__webpack_exports__,"NoDropOnItemsAllowed",(function(){return NoDropOnItemsAllowed})),__webpack_require__.d(__webpack_exports__,"OnlyDropOnItemsWithChildren",(function(){return OnlyDropOnItemsWithChildren})),__webpack_require__.d(__webpack_exports__,"OnlyDropOnItemsWithoutChildren",(function(){return OnlyDropOnItemsWithoutChildren})),__webpack_require__.d(__webpack_exports__,"NoReorderingAllowed",(function(){return NoReorderingAllowed})),__webpack_require__.d(__webpack_exports__,"AllowDraggingOnlyItemsStartingWithA",(function(){return AllowDraggingOnlyItemsStartingWithA})),__webpack_require__.d(__webpack_exports__,"AllowDroppingOnlyOnItemsStartingWithA",(function(){return AllowDroppingOnlyOnItemsStartingWithA}));__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/core/src/uncontrolledEnvironment/UncontrolledTreeEnvironment.tsx"),_uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/core/src/uncontrolledEnvironment/StaticTreeDataProvider.ts"),_tree_Tree__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/core/src/tree/Tree.tsx"),demodata__WEBPACK_IMPORTED_MODULE_8__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./packages/demodata/lib/index.js")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Core/Drag-and-Drop Configurability"};var NoDragAndDrop=function NoDragAndDrop(){var _ref;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__.a,{dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_5__.a(demodata__WEBPACK_IMPORTED_MODULE_8__.longTree.items),getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref={},_ref["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_6__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};NoDragAndDrop.displayName="NoDragAndDrop";var NoDropOnItemsAllowed=function NoDropOnItemsAllowed(){var _ref2;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__.a,{dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_5__.a(demodata__WEBPACK_IMPORTED_MODULE_8__.longTree.items),canDragAndDrop:!0,canReorderItems:!0,getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref2={},_ref2["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref2),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_6__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};NoDropOnItemsAllowed.displayName="NoDropOnItemsAllowed";var OnlyDropOnItemsWithChildren=function OnlyDropOnItemsWithChildren(){var _ref3;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__.a,{dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_5__.a(demodata__WEBPACK_IMPORTED_MODULE_8__.longTree.items),canDragAndDrop:!0,canDropOnItemWithChildren:!0,getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref3={},_ref3["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref3),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_6__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};OnlyDropOnItemsWithChildren.displayName="OnlyDropOnItemsWithChildren";var OnlyDropOnItemsWithoutChildren=function OnlyDropOnItemsWithoutChildren(){var _ref4;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__.a,{dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_5__.a(demodata__WEBPACK_IMPORTED_MODULE_8__.longTree.items),canDragAndDrop:!0,canDropOnItemWithoutChildren:!0,getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref4={},_ref4["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref4),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_6__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};OnlyDropOnItemsWithoutChildren.displayName="OnlyDropOnItemsWithoutChildren";var NoReorderingAllowed=function NoReorderingAllowed(){var _ref5;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__.a,{dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_5__.a(demodata__WEBPACK_IMPORTED_MODULE_8__.longTree.items),canDragAndDrop:!0,canDropOnItemWithChildren:!0,getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref5={},_ref5["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref5),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_6__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};NoReorderingAllowed.displayName="NoReorderingAllowed";var AllowDraggingOnlyItemsStartingWithA=function AllowDraggingOnlyItemsStartingWithA(){var _ref6;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__.a,{dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_5__.a(demodata__WEBPACK_IMPORTED_MODULE_8__.longTree.items),canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,canDrag:function canDrag(items){return items.map((function(item){return item.data.startsWith("A")})).reduce((function(a,b){return a&&b}),!0)},getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref6={},_ref6["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref6),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_6__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};AllowDraggingOnlyItemsStartingWithA.displayName="AllowDraggingOnlyItemsStartingWithA";var AllowDroppingOnlyOnItemsStartingWithA=function AllowDroppingOnlyOnItemsStartingWithA(){var _ref7;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__.a,{dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_5__.a(demodata__WEBPACK_IMPORTED_MODULE_8__.longTree.items),canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,canDropAt:function canDropAt(items,target){return"between-items"===target.targetType?target.parentItem.startsWith("A"):target.targetItem.startsWith("A")},getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref7={},_ref7["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref7),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_6__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};AllowDroppingOnlyOnItemsStartingWithA.displayName="AllowDroppingOnlyOnItemsStartingWithA",NoDragAndDrop.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    dataProvider={new StaticTreeDataProvider(longTree.items)}\n    getItemTitle={item => item.data}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},NoDragAndDrop.parameters),NoDropOnItemsAllowed.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    dataProvider={new StaticTreeDataProvider(longTree.items)}\n    canDragAndDrop={true}\n    canReorderItems={true}\n    getItemTitle={item => item.data}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},NoDropOnItemsAllowed.parameters),OnlyDropOnItemsWithChildren.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    dataProvider={new StaticTreeDataProvider(longTree.items)}\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    getItemTitle={item => item.data}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},OnlyDropOnItemsWithChildren.parameters),OnlyDropOnItemsWithoutChildren.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    dataProvider={new StaticTreeDataProvider(longTree.items)}\n    canDragAndDrop={true}\n    canDropOnItemWithoutChildren={true}\n    getItemTitle={item => item.data}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},OnlyDropOnItemsWithoutChildren.parameters),NoReorderingAllowed.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    dataProvider={new StaticTreeDataProvider(longTree.items)}\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    getItemTitle={item => item.data}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},NoReorderingAllowed.parameters),AllowDraggingOnlyItemsStartingWithA.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    dataProvider={new StaticTreeDataProvider(longTree.items)}\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    canDrag={items => items.map(item => (item.data as string).startsWith('A')).reduce((a, b) => a && b, true)}\n    getItemTitle={item => item.data}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},AllowDraggingOnlyItemsStartingWithA.parameters),AllowDroppingOnlyOnItemsStartingWithA.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    dataProvider={new StaticTreeDataProvider(longTree.items)}\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    canDropAt={(items, target) =>\n      target.targetType === 'between-items'\n        ? (target.parentItem as string).startsWith('A')\n        : (target.targetItem as string).startsWith('A')\n    }\n    getItemTitle={item => item.data}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},AllowDroppingOnlyOnItemsStartingWithA.parameters)},"./packages/core/src/stories/HardcodedState.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SimpleTree",(function(){return SimpleTree}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _tree_Tree__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/core/src/tree/Tree.tsx"),demodata__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./packages/demodata/lib/index.js")),_controlledEnvironment_ControlledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/core/src/controlledEnvironment/ControlledTreeEnvironment.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Core/Hardcoded State"};var SimpleTree=function SimpleTree(){var _ref;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_controlledEnvironment_ControlledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,items:demodata__WEBPACK_IMPORTED_MODULE_3__.longTree.items,getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref={},_ref["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_1__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};SimpleTree.displayName="SimpleTree",SimpleTree.parameters=Object.assign({storySource:{source:"() => (\n  <ControlledTreeEnvironment<string>\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    items={longTree.items}\n    getItemTitle={item => item.data}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </ControlledTreeEnvironment>\n)"}},SimpleTree.parameters)},"./packages/core/src/stories/InteractionModes.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ClickItemToExpandInteractionMode",(function(){return ClickItemToExpandInteractionMode})),__webpack_require__.d(__webpack_exports__,"DoubleClickItemToExpandInteractionMode",(function(){return DoubleClickItemToExpandInteractionMode})),__webpack_require__.d(__webpack_exports__,"ClickArrowToExpandInteractionMode",(function(){return ClickArrowToExpandInteractionMode})),__webpack_require__.d(__webpack_exports__,"CustomInteractionMode",(function(){return CustomInteractionMode})),__webpack_require__.d(__webpack_exports__,"CustomExtendingInteractionMode",(function(){return CustomExtendingInteractionMode}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js");var _uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/core/src/uncontrolledEnvironment/UncontrolledTreeEnvironment.tsx"),_uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/core/src/uncontrolledEnvironment/StaticTreeDataProvider.ts"),_tree_Tree__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/core/src/tree/Tree.tsx"),demodata__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./packages/demodata/lib/index.js")),_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/core/src/types.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Core/Interaction Modes"};var ClickItemToExpandInteractionMode=function ClickItemToExpandInteractionMode(){var _ref;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_3__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_4__.a(demodata__WEBPACK_IMPORTED_MODULE_7__.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},defaultInteractionMode:_types__WEBPACK_IMPORTED_MODULE_8__.a.ClickItemToExpand,viewState:(_ref={},_ref["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_5__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};ClickItemToExpandInteractionMode.displayName="ClickItemToExpandInteractionMode";var DoubleClickItemToExpandInteractionMode=function DoubleClickItemToExpandInteractionMode(){var _ref2;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_3__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_4__.a(demodata__WEBPACK_IMPORTED_MODULE_7__.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},defaultInteractionMode:_types__WEBPACK_IMPORTED_MODULE_8__.a.DoubleClickItemToExpand,viewState:(_ref2={},_ref2["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref2),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_5__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};DoubleClickItemToExpandInteractionMode.displayName="DoubleClickItemToExpandInteractionMode";var ClickArrowToExpandInteractionMode=function ClickArrowToExpandInteractionMode(){var _ref3;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_3__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_4__.a(demodata__WEBPACK_IMPORTED_MODULE_7__.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},defaultInteractionMode:_types__WEBPACK_IMPORTED_MODULE_8__.a.ClickArrowToExpand,viewState:(_ref3={},_ref3["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref3),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_5__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};ClickArrowToExpandInteractionMode.displayName="ClickArrowToExpandInteractionMode";var CustomInteractionMode=function CustomInteractionMode(){var _ref4;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_3__.a,{dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_4__.a(demodata__WEBPACK_IMPORTED_MODULE_7__.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},defaultInteractionMode:{mode:"custom",createInteractiveElementProps:function createInteractiveElementProps(item,treeId,actions,renderFlags){return{onClick:function onClick(){actions.focusItem()},onFocus:function onFocus(){actions.focusItem()},draggable:renderFlags.canDrag&&!renderFlags.isRenaming,tabIndex:renderFlags.isRenaming?void 0:renderFlags.isFocused?0:-1}}},viewState:(_ref4={},_ref4["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref4),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_5__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};CustomInteractionMode.displayName="CustomInteractionMode";var CustomExtendingInteractionMode=function CustomExtendingInteractionMode(){var _ref5;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_3__.a,{dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_4__.a(demodata__WEBPACK_IMPORTED_MODULE_7__.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},defaultInteractionMode:{mode:"custom",extends:_types__WEBPACK_IMPORTED_MODULE_8__.a.DoubleClickItemToExpand,createInteractiveElementProps:function createInteractiveElementProps(item){return{onMouseOver:function onMouseOver(){document.querySelectorAll('[data-rct-tree="tree-5"] [data-rct-item-id]').forEach((function(element){return element.style.background="transparent"})),document.querySelector('[data-rct-tree="tree-5"]  [data-rct-item-id="'+item.index+'"]').style.background="red"}}}},viewState:(_ref5={},_ref5["tree-5"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref5),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("p",{children:'This interaction mode extends the "Double Click Item To Expand" mode, but adds a mouse hover effect.'}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_5__.a,{treeId:"tree-5",rootItem:"root",treeLabel:"Tree Example"})]})})};CustomExtendingInteractionMode.displayName="CustomExtendingInteractionMode",ClickItemToExpandInteractionMode.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n    getItemTitle={item => item.data}\n    defaultInteractionMode={InteractionMode.ClickItemToExpand}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},ClickItemToExpandInteractionMode.parameters),DoubleClickItemToExpandInteractionMode.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n    getItemTitle={item => item.data}\n    defaultInteractionMode={InteractionMode.DoubleClickItemToExpand}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},DoubleClickItemToExpandInteractionMode.parameters),ClickArrowToExpandInteractionMode.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n    getItemTitle={item => item.data}\n    defaultInteractionMode={InteractionMode.ClickArrowToExpand}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},ClickArrowToExpandInteractionMode.parameters),CustomInteractionMode.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n    getItemTitle={item => item.data}\n    defaultInteractionMode={{\n      mode: 'custom',\n      createInteractiveElementProps: (item, treeId, actions, renderFlags) => ({\n        onClick: () => {\n          actions.focusItem();\n        },\n        onFocus: () => {\n          actions.focusItem();\n        },\n        draggable: renderFlags.canDrag && !renderFlags.isRenaming,\n        tabIndex: !renderFlags.isRenaming ? (renderFlags.isFocused ? 0 : -1) : undefined,\n      }),\n    }}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},CustomInteractionMode.parameters),CustomExtendingInteractionMode.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n    getItemTitle={item => item.data}\n    defaultInteractionMode={{\n      mode: 'custom',\n      extends: InteractionMode.DoubleClickItemToExpand,\n      createInteractiveElementProps: item => ({\n        onMouseOver: () => {\n          document\n            .querySelectorAll('[data-rct-tree=\"tree-5\"] [data-rct-item-id]')\n            .forEach(element => ((element as any).style.background = 'transparent'));\n          (\n            document.querySelector(`[data-rct-tree=\"tree-5\"]  [data-rct-item-id=\"${item.index}\"]`) as any\n          ).style.background = 'red';\n        },\n      }),\n    }}\n    viewState={{\n      ['tree-5']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n  >\n    <>\n      <p>\n        This interaction mode extends the &quot;Double Click Item To Expand&quot; mode, but adds a mouse hover effect.\n      </p>\n      <Tree treeId=\"tree-5\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n    </>\n  </UncontrolledTreeEnvironment>\n)"}},CustomExtendingInteractionMode.parameters)},"./packages/core/src/stories/Refs.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ControlTreeExternally",(function(){return ControlTreeExternally})),__webpack_require__.d(__webpack_exports__,"ExpandOrCollapseAll",(function(){return ExpandOrCollapseAll}));__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/core/src/uncontrolledEnvironment/UncontrolledTreeEnvironment.tsx"),_uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/core/src/uncontrolledEnvironment/StaticTreeDataProvider.ts"),_tree_Tree__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/core/src/tree/Tree.tsx"),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react/index.js"),demodata__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/demodata/lib/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Core/React Refs"};var ControlTreeExternally=function ControlTreeExternally(){var treeEnvironment=Object(react__WEBPACK_IMPORTED_MODULE_7__.useRef)(null),tree=Object(react__WEBPACK_IMPORTED_MODULE_7__.useRef)(null);return Object(react__WEBPACK_IMPORTED_MODULE_7__.useEffect)((function(){var interval=setInterval((function(){if(treeEnvironment.current&&tree.current){var _focusedItem,_expandedItems,linearItems=tree.current.treeContext.getItemsLinearly(),focusItem=null!==(_focusedItem=treeEnvironment.current.viewState[tree.current.treeId].focusedItem)&&void 0!==_focusedItem?_focusedItem:linearItems[0].item;if(null===(_expandedItems=treeEnvironment.current.viewState[tree.current.treeId].expandedItems)||void 0===_expandedItems||!_expandedItems.includes(focusItem))return void tree.current.expandItem(focusItem);tree.current.moveFocusDown()}}),500);return function(){return clearInterval(interval)}}),[]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__.a,{ref:treeEnvironment,canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_5__.a(demodata__WEBPACK_IMPORTED_MODULE_8__.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},viewState:{},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_6__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example",ref:tree})})};ControlTreeExternally.displayName="ControlTreeExternally";var ExpandOrCollapseAll=function ExpandOrCollapseAll(){var _ref,treeEnvironment=Object(react__WEBPACK_IMPORTED_MODULE_7__.useRef)(null),tree=Object(react__WEBPACK_IMPORTED_MODULE_7__.useRef)(null);return console.log(tree),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__.a,{ref:treeEnvironment,canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_5__.a(demodata__WEBPACK_IMPORTED_MODULE_8__.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref={},_ref["tree-1"]={expandedItems:["Fruit","Meals","Asia","Desserts"]},_ref),children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("button",{onClick:function onClick(){var _tree$current;return null===(_tree$current=tree.current)||void 0===_tree$current?void 0:_tree$current.expandAll()},children:"Expand All"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("button",{onClick:function onClick(){var _tree$current2;return null===(_tree$current2=tree.current)||void 0===_tree$current2?void 0:_tree$current2.collapseAll()},children:"Collapse All"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_6__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example",ref:tree})]})};ExpandOrCollapseAll.displayName="ExpandOrCollapseAll",ControlTreeExternally.parameters=Object.assign({storySource:{source:'() => {\n  const treeEnvironment = useRef<TreeEnvironmentRef>(null);\n  const tree = useRef<TreeRef>(null);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (treeEnvironment.current && tree.current) {\n        const linearItems = tree.current.treeContext.getItemsLinearly();\n        const focusItem = treeEnvironment.current.viewState[tree.current.treeId]!.focusedItem ?? linearItems[0].item;\n\n        if (!treeEnvironment.current.viewState[tree.current.treeId]!.expandedItems?.includes(focusItem)) {\n          tree.current.expandItem(focusItem);\n          return;\n        }\n\n        tree.current.moveFocusDown();\n      }\n    }, 500);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <UncontrolledTreeEnvironment<string>\n      ref={treeEnvironment}\n      canDragAndDrop={true}\n      canDropOnItemWithChildren={true}\n      canReorderItems={true}\n      dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n      getItemTitle={item => item.data}\n      viewState={{}}\n    >\n      <Tree treeId="tree-1" rootItem="root" treeLabel="Tree Example" ref={tree} />\n    </UncontrolledTreeEnvironment>\n  );\n}'}},ControlTreeExternally.parameters),ExpandOrCollapseAll.parameters=Object.assign({storySource:{source:"() => {\n  const treeEnvironment = useRef<TreeEnvironmentRef>(null);\n  const tree = useRef<TreeRef>(null);\nconsole.log(tree);\n  return (\n    <UncontrolledTreeEnvironment<string>\n      ref={treeEnvironment}\n      canDragAndDrop={true}\n      canDropOnItemWithChildren={true}\n      canReorderItems={true}\n      dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n      getItemTitle={item => item.data}\n      viewState={{\n        ['tree-1']: {\n          expandedItems: ['Fruit', 'Meals', 'Asia', 'Desserts'],\n        },\n      }}\n    >\n      <button onClick={() => tree.current?.expandAll()}>Expand All</button>\n      <button onClick={() => tree.current?.collapseAll()}>Collapse All</button>\n      <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" ref={tree} />\n    </UncontrolledTreeEnvironment>\n  );\n}"}},ExpandOrCollapseAll.parameters)},"./packages/core/src/stories/Scalability.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SingleTree",(function(){return SingleTree}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");for(var _tree_Tree__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/core/src/tree/Tree.tsx"),_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/core/src/uncontrolledEnvironment/UncontrolledTreeEnvironment.tsx"),_uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/core/src/uncontrolledEnvironment/StaticTreeDataProvider.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/jsx-runtime.js"),itemsWithManyChildren={items:{root:{index:"root",children:["innerRoot"],data:"root",hasChildren:!0,canMove:!0,canRename:!0},innerRoot:{index:"innerRoot",children:[],data:"innerRoot",hasChildren:!0,canMove:!0,canRename:!0}}},i=0;i<1e3;i++){var id="item"+i;itemsWithManyChildren.items[id]={index:id,hasChildren:!1,data:id,canMove:!0,canRename:!0},itemsWithManyChildren.items.innerRoot.children.push(id)}__webpack_exports__.default={title:"Core/Scalability"};var SingleTree=function SingleTree(){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_3__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_4__.a(itemsWithManyChildren.items),getItemTitle:function getItemTitle(item){return item.data},viewState:{},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_2__.a,{treeId:"tree-1",rootItem:"root"})})};SingleTree.displayName="SingleTree",SingleTree.parameters=Object.assign({storySource:{source:'() => (\n  <UncontrolledTreeEnvironment<string>\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    dataProvider={new StaticTreeDataProvider(itemsWithManyChildren.items)}\n    getItemTitle={item => item.data}\n    viewState={{}}\n  >\n    <Tree treeId="tree-1" rootItem="root" />\n  </UncontrolledTreeEnvironment>\n)'}},SingleTree.parameters)},"./packages/core/src/stories/Search.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"SearchByStartTyping",(function(){return SearchByStartTyping})),__webpack_require__.d(__webpack_exports__,"SearchOnlyWithHotkey",(function(){return SearchOnlyWithHotkey})),__webpack_require__.d(__webpack_exports__,"NoSearch",(function(){return NoSearch})),__webpack_require__.d(__webpack_exports__,"CustomSearchEvaluation",(function(){return CustomSearchEvaluation}));__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/core/src/uncontrolledEnvironment/UncontrolledTreeEnvironment.tsx"),_uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/core/src/uncontrolledEnvironment/StaticTreeDataProvider.ts"),_tree_Tree__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/core/src/tree/Tree.tsx"),demodata__WEBPACK_IMPORTED_MODULE_8__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./packages/demodata/lib/index.js")),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Core/Search Configurability"};var SearchByStartTyping=function SearchByStartTyping(){var _ref;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__.a,{dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_5__.a(demodata__WEBPACK_IMPORTED_MODULE_8__.longTree.items),getItemTitle:function getItemTitle(item){return item.data},canSearchByStartingTyping:!0,viewState:(_ref={},_ref["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_6__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};SearchByStartTyping.displayName="SearchByStartTyping";var SearchOnlyWithHotkey=function SearchOnlyWithHotkey(){var _ref2;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__.a,{dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_5__.a(demodata__WEBPACK_IMPORTED_MODULE_8__.longTree.items),getItemTitle:function getItemTitle(item){return item.data},canSearchByStartingTyping:!1,keyboardBindings:{startSearch:["f1"]},viewState:(_ref2={},_ref2["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref2),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_6__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};SearchOnlyWithHotkey.displayName="SearchOnlyWithHotkey";var NoSearch=function NoSearch(){var _ref3;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__.a,{dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_5__.a(demodata__WEBPACK_IMPORTED_MODULE_8__.longTree.items),getItemTitle:function getItemTitle(item){return item.data},canSearch:!1,viewState:(_ref3={},_ref3["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref3),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_6__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};NoSearch.displayName="NoSearch";var CustomSearchEvaluation=function CustomSearchEvaluation(){var _ref4;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("p",{children:'In the following example, the search evaluates only the children of an item, not the items title itself. This means that searching for "Orange" will match its parent "Fruit".'}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_4__.a,{dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_5__.a(demodata__WEBPACK_IMPORTED_MODULE_8__.longTree.items),getItemTitle:function getItemTitle(item){return item.data},doesSearchMatchItem:function doesSearchMatchItem(search,item){var _item$children;return!(null===(_item$children=item.children)||void 0===_item$children||!_item$children.join(" ").toLowerCase().includes(search.toLowerCase()))},renderItemTitle:function renderItemTitle(props){return props.info.isSearching&&props.context.isSearchMatching?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("span",{className:"rct-tree-item-search-highlight",children:props.title}):props.title},viewState:(_ref4={},_ref4["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref4),children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_6__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})]})};SearchByStartTyping.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    dataProvider={new StaticTreeDataProvider(longTree.items)}\n    getItemTitle={item => item.data}\n    canSearchByStartingTyping={true}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},SearchByStartTyping.parameters),SearchOnlyWithHotkey.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    dataProvider={new StaticTreeDataProvider(longTree.items)}\n    getItemTitle={item => item.data}\n    canSearchByStartingTyping={false}\n    keyboardBindings={{\n      startSearch: ['f1'],\n      // TODO hotkeys do not overwrite browser default because preventDefault is called on keyup, not keydown\n      // TODO fix by checking whether hotkey is already fulfilled during keydown\n    }}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},SearchOnlyWithHotkey.parameters),NoSearch.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    dataProvider={new StaticTreeDataProvider(longTree.items)}\n    getItemTitle={item => item.data}\n    canSearch={false}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},NoSearch.parameters),CustomSearchEvaluation.parameters=Object.assign({storySource:{source:"() => (\n  <>\n    <p>\n      In the following example, the search evaluates only the children of an item, not the items title itself. This\n      means that searching for &quot;Orange&quot; will match its parent &quot;Fruit&quot;.\n    </p>\n    <UncontrolledTreeEnvironment<string>\n      dataProvider={new StaticTreeDataProvider(longTree.items)}\n      getItemTitle={item => item.data}\n      doesSearchMatchItem={(search, item) => !!item.children?.join(' ').toLowerCase().includes(search.toLowerCase())}\n      renderItemTitle={props =>\n        props.info.isSearching && props.context.isSearchMatching ? (\n          <span className=\"rct-tree-item-search-highlight\">{props.title}</span>\n        ) : (\n          props.title\n        )\n      }\n      viewState={{\n        ['tree-1']: {\n          expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n        },\n      }}\n    >\n      <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n    </UncontrolledTreeEnvironment>\n  </>\n)"}},CustomSearchEvaluation.parameters)},"./packages/core/src/stories/Theming.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"MinimalRenderers",(function(){return MinimalRenderers}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var _uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/core/src/uncontrolledEnvironment/UncontrolledTreeEnvironment.tsx"),_uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/core/src/uncontrolledEnvironment/StaticTreeDataProvider.ts"),demodata__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/demodata/lib/index.js"),_tree_Tree__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/core/src/tree/Tree.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./node_modules/react/jsx-runtime.js"));__webpack_exports__.default={title:"Core/Custom Renderers"};var MinimalRenderers=function MinimalRenderers(){var _ref;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_uncontrolledEnvironment_UncontrolledTreeEnvironment__WEBPACK_IMPORTED_MODULE_1__.a,{canDragAndDrop:!0,canDropOnItemWithChildren:!0,canReorderItems:!0,dataProvider:new _uncontrolledEnvironment_StaticTreeDataProvider__WEBPACK_IMPORTED_MODULE_2__.a(demodata__WEBPACK_IMPORTED_MODULE_3__.longTree.items,(function(item,data){return Object.assign({},item,{data:data})})),getItemTitle:function getItemTitle(item){return item.data},viewState:(_ref={},_ref["tree-1"]={expandedItems:["Fruit","Meals","America","Europe","Asia","Desserts"]},_ref),renderItemTitle:function renderItemTitle(_ref2){var title=_ref2.title;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{children:title})},renderItemArrow:function renderItemArrow(_ref3){var item=_ref3.item,context=_ref3.context;return item.hasChildren?context.isExpanded?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{children:">"}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("span",{children:"v"}):null},renderItem:function renderItem(_ref4){var title=_ref4.title,arrow=_ref4.arrow,context=_ref4.context,children=_ref4.children;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("li",Object.assign({},context.itemContainerWithChildrenProps,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)("button",Object.assign({},context.itemContainerWithoutChildrenProps,context.interactiveElementProps,{children:[arrow,title]})),children]}))},renderTreeContainer:function renderTreeContainer(_ref5){var children=_ref5.children,containerProps=_ref5.containerProps;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("div",Object.assign({},containerProps,{children:children}))},renderItemsContainer:function renderItemsContainer(_ref6){var children=_ref6.children,containerProps=_ref6.containerProps;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)("ul",Object.assign({},containerProps,{children:children}))},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_tree_Tree__WEBPACK_IMPORTED_MODULE_4__.a,{treeId:"tree-1",rootItem:"root",treeLabel:"Tree Example"})})};MinimalRenderers.displayName="MinimalRenderers",MinimalRenderers.parameters=Object.assign({storySource:{source:"() => (\n  <UncontrolledTreeEnvironment<string>\n    canDragAndDrop={true}\n    canDropOnItemWithChildren={true}\n    canReorderItems={true}\n    dataProvider={new StaticTreeDataProvider(longTree.items, (item, data) => ({ ...item, data }))}\n    getItemTitle={item => item.data}\n    viewState={{\n      ['tree-1']: {\n        expandedItems: ['Fruit', 'Meals', 'America', 'Europe', 'Asia', 'Desserts'],\n      },\n    }}\n    renderItemTitle={({ title }) => <span>{title}</span>}\n    renderItemArrow={({ item, context }) =>\n      item.hasChildren ? context.isExpanded ? <span>{'>'}</span> : <span>{'v'}</span> : null\n    }\n    renderItem={({ title, arrow, context, children }) => (\n      <li {...context.itemContainerWithChildrenProps}>\n        <button {...context.itemContainerWithoutChildrenProps} {...(context.interactiveElementProps as any)}>\n          {arrow}\n          {title}\n        </button>\n        {children}\n      </li>\n    )}\n    renderTreeContainer={({ children, containerProps }) => <div {...containerProps}>{children}</div>}\n    renderItemsContainer={({ children, containerProps }) => <ul {...containerProps}>{children}</ul>}\n  >\n    <Tree treeId=\"tree-1\" rootItem=\"root\" treeLabel=\"Tree Example\" />\n  </UncontrolledTreeEnvironment>\n)"}},MinimalRenderers.parameters)},"./packages/core/src/style.css":function(module,exports,__webpack_require__){var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/dist/cjs.js?!./packages/core/src/style.css");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./packages/core/src/tree/Tree.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return Tree_useTree})),__webpack_require__.d(__webpack_exports__,"a",(function(){return Tree}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js"),ControlledTreeEnvironment=__webpack_require__("./packages/core/src/controlledEnvironment/ControlledTreeEnvironment.tsx"),useViewState_useViewState=(__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),function useViewState(){var _viewState$treeId,treeId=Tree_useTree().treeId;return null!==(_viewState$treeId=Object(ControlledTreeEnvironment.b)().viewState[treeId])&&void 0!==_viewState$treeId?_viewState$treeId:{}}),defaultMatcher=(__webpack_require__("./node_modules/core-js/modules/es.string.search.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),function defaultMatcher(search,item,itemTitle){return itemTitle.toLowerCase().includes(search.toLowerCase())}),InteractionManagerProvider=__webpack_require__("./packages/core/src/controlledEnvironment/InteractionManagerProvider.tsx"),DragAndDropProvider=__webpack_require__("./packages/core/src/controlledEnvironment/DragAndDropProvider.tsx"),useLinearItems_useLinearItems=(__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),function useLinearItems(treeId){return Object(ControlledTreeEnvironment.b)().linearItems[treeId]});function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useSelectUpTo_useSelectUpTo=function useSelectUpTo(){var viewState=useViewState_useViewState(),treeId=Tree_useTree().treeId,linearItems=useLinearItems_useLinearItems(treeId),onSelectItems=Object(ControlledTreeEnvironment.b)().onSelectItems;return Object(react.useCallback)((function(item){if(viewState&&viewState.selectedItems&&viewState.selectedItems.length>0){var selectionStart=linearItems.findIndex((function(linearItem){var _viewState$selectedIt;return null===(_viewState$selectedIt=viewState.selectedItems)||void 0===_viewState$selectedIt?void 0:_viewState$selectedIt.includes(linearItem.item)})),selectionEnd=linearItems.findIndex((function(linearItem){return linearItem.item===item.index}));if(selectionStart<selectionEnd){var _viewState$selectedIt2,selection=linearItems.slice(selectionStart,selectionEnd+1).map((function(_ref){return _ref.item}));null==onSelectItems||onSelectItems([].concat(_toConsumableArray(null!==(_viewState$selectedIt2=null==viewState?void 0:viewState.selectedItems)&&void 0!==_viewState$selectedIt2?_viewState$selectedIt2:[]),_toConsumableArray(selection)),treeId)}else{var _viewState$selectedIt3,_selection=linearItems.slice(selectionEnd,selectionStart).map((function(_ref2){return _ref2.item}));null==onSelectItems||onSelectItems([].concat(_toConsumableArray(null!==(_viewState$selectedIt3=null==viewState?void 0:viewState.selectedItems)&&void 0!==_viewState$selectedIt3?_viewState$selectedIt3:[]),_toConsumableArray(_selection)),treeId)}}else null==onSelectItems||onSelectItems([item.index],treeId)}),[onSelectItems,linearItems,treeId,viewState])};function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||useTreeItemRenderContext_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useTreeItemRenderContext_toConsumableArray(arr){return function useTreeItemRenderContext_arrayWithoutHoles(arr){if(Array.isArray(arr))return useTreeItemRenderContext_arrayLikeToArray(arr)}(arr)||function useTreeItemRenderContext_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||useTreeItemRenderContext_unsupportedIterableToArray(arr)||function useTreeItemRenderContext_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useTreeItemRenderContext_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return useTreeItemRenderContext_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?useTreeItemRenderContext_arrayLikeToArray(o,minLen):void 0}}function useTreeItemRenderContext_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_require__("./node_modules/core-js/modules/es.string.split.js");function useHtmlElementEventListener_toConsumableArray(arr){return function useHtmlElementEventListener_arrayWithoutHoles(arr){if(Array.isArray(arr))return useHtmlElementEventListener_arrayLikeToArray(arr)}(arr)||function useHtmlElementEventListener_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function useHtmlElementEventListener_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useHtmlElementEventListener_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useHtmlElementEventListener_arrayLikeToArray(o,minLen)}(arr)||function useHtmlElementEventListener_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useHtmlElementEventListener_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useHtmlElementEventListener_useHtmlElementEventListener=function useHtmlElementEventListener(element,type,listener){var deps=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];Object(react.useEffect)((function(){if(element)return element.addEventListener(type,listener),function(){return element.removeEventListener(type,listener)}}),[element,listener,type].concat(useHtmlElementEventListener_toConsumableArray(deps)))},defaultKeyboardBindings={expandSiblings:["control+*"],moveFocusToFirstItem:["home"],moveFocusToLastItem:["end"],primaryAction:["enter"],renameItem:["f2"],abortRenameItem:["escape"],toggleSelectItem:["control+space"],abortSearch:["escape","enter"],startSearch:[],selectAll:["control+a"],startProgrammaticDnd:["control+d"],completeProgrammaticDnd:["enter"],abortProgrammaticDnd:["escape"]},useKeyboardBindings_useKeyboardBindings=function useKeyboardBindings(){var environment=Object(ControlledTreeEnvironment.b)();return Object(react.useMemo)((function(){return environment.keyboardBindings?Object.assign({},defaultKeyboardBindings,environment.keyboardBindings):defaultKeyboardBindings}),[environment.keyboardBindings])},useCallSoon=__webpack_require__("./packages/core/src/useCallSoon.ts");function useHotkey_toConsumableArray(arr){return function useHotkey_arrayWithoutHoles(arr){if(Array.isArray(arr))return useHotkey_arrayLikeToArray(arr)}(arr)||function useHotkey_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function useHotkey_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useHotkey_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useHotkey_arrayLikeToArray(o,minLen)}(arr)||function useHotkey_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useHotkey_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var elementsThatCanTakeText=["input","textarea"],useHotkey_useHotkey=function useHotkey(combinationName,onHit,active){var activatableWhileFocusingInput=arguments.length>3&&void 0!==arguments[3]&&arguments[3],deps=arguments.length>4?arguments[4]:void 0,pressedKeys=Object(react.useRef)([]),keyboardBindings=useKeyboardBindings_useKeyboardBindings(),callSoon=Object(useCallSoon.a)(),possibleCombinations=Object(react.useMemo)((function(){return keyboardBindings[combinationName].map((function(combination){return combination.split("+")}))}),[combinationName,keyboardBindings]);useHtmlElementEventListener_useHtmlElementEventListener(document,"keydown",(function(e){if(!1!==active&&(!elementsThatCanTakeText.includes(e.target.tagName.toLowerCase())&&!e.target.isContentEditable||activatableWhileFocusingInput)&&!pressedKeys.current.includes(e.key)){pressedKeys.current.push(e.key);var pressedKeysLowercase=pressedKeys.current.map((function(key){return key.toLowerCase()}));possibleCombinations.map((function(combination){return pressedKeysLowercase.map((function(key){return combination.includes(key.toLowerCase())})).reduce((function(a,b){return a&&b}),!0)})).reduce((function(a,b){return a||b}),!1)&&(pressedKeys.current.length>1||!/^[a-zA-Z]$/.test(e.key))&&e.preventDefault()}}),[active]),useHtmlElementEventListener_useHtmlElementEventListener(document,"keyup",(function(e){if(!1!==active){var pressedKeysLowercase=pressedKeys.current.map((function(key){return key.toLowerCase()}));possibleCombinations.map((function(combination){return combination.map((function(key){return pressedKeysLowercase.includes(key.toLowerCase())})).reduce((function(a,b){return a&&b}),!0)})).reduce((function(a,b){return a||b}),!1)&&callSoon((function(){return onHit(e)})),pressedKeys.current=pressedKeys.current.filter((function(key){return key!==e.key}))}}),[possibleCombinations,onHit,active,callSoon].concat(useHotkey_toConsumableArray(null!=deps?deps:[])))},useSideEffect=__webpack_require__("./packages/core/src/useSideEffect.ts");function TreeItemRenamingInput_slicedToArray(arr,i){return function TreeItemRenamingInput_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function TreeItemRenamingInput_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function TreeItemRenamingInput_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return TreeItemRenamingInput_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TreeItemRenamingInput_arrayLikeToArray(o,minLen)}(arr,i)||function TreeItemRenamingInput_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TreeItemRenamingInput_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var TreeItemRenamingInput_TreeItemRenamingInput=function TreeItemRenamingInput(props){var _useTree=Tree_useTree(),renderers=_useTree.renderers,treeInformation=_useTree.treeInformation,setRenamingItem=_useTree.setRenamingItem,treeId=_useTree.treeId,environment=Object(ControlledTreeEnvironment.b)(),inputRef=Object(react.useRef)(null),submitButtonRef=Object(react.useRef)(null),item=environment.items[props.itemIndex],_useState2=TreeItemRenamingInput_slicedToArray(Object(react.useState)(environment.getItemTitle(item)),2),title=_useState2[0],setTitle=_useState2[1],callSoon=Object(useCallSoon.a)(),abort=function abort(){var _environment$onAbortR;null===(_environment$onAbortR=environment.onAbortRenamingItem)||void 0===_environment$onAbortR||_environment$onAbortR.call(environment,item,treeInformation.treeId),setRenamingItem(null),callSoon((function(){environment.setActiveTree(treeId)}))},confirm=function confirm(){var _environment$onRename;null===(_environment$onRename=environment.onRenameItem)||void 0===_environment$onRename||_environment$onRename.call(environment,item,title,treeInformation.treeId),setRenamingItem(null),callSoon((function(){environment.setActiveTree(treeId)}))};Object(useSideEffect.a)((function(){var _environment$autoFocu,_inputRef$current,_inputRef$current2;(environment.setActiveTree(treeId),null===(_environment$autoFocu=environment.autoFocus)||void 0===_environment$autoFocu||_environment$autoFocu)&&(null===(_inputRef$current=inputRef.current)||void 0===_inputRef$current||_inputRef$current.select(),null===(_inputRef$current2=inputRef.current)||void 0===_inputRef$current2||_inputRef$current2.focus())}),[environment,treeId],[]),useHotkey_useHotkey("abortRenameItem",(function(){abort()}),!0,!0);var inputProps={value:title,onChange:function onChange(e){setTitle(e.target.value)},onBlur:function onBlur(e){e.relatedTarget!==submitButtonRef.current&&abort()},"aria-label":"New item name",tabIndex:0},submitButtonProps={onClick:function onClick(e){e.stopPropagation(),confirm()}},formProps={onSubmit:function onSubmit(e){e.preventDefault(),confirm()}};return renderers.renderRenameInput({item:item,inputRef:inputRef,submitButtonProps:submitButtonProps,submitButtonRef:submitButtonRef,formProps:formProps,inputProps:inputProps})};try{TreeItemRenamingInput_TreeItemRenamingInput.displayName="TreeItemRenamingInput",TreeItemRenamingInput_TreeItemRenamingInput.__docgenInfo={description:"",displayName:"TreeItemRenamingInput",props:{itemIndex:{defaultValue:null,description:"",name:"itemIndex",required:!0,type:{name:"TreeItemIndex"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/treeItem/TreeItemRenamingInput.tsx#TreeItemRenamingInput"]={docgenInfo:TreeItemRenamingInput_TreeItemRenamingInput.__docgenInfo,name:"TreeItemRenamingInput",path:"packages/core/src/treeItem/TreeItemRenamingInput.tsx#TreeItemRenamingInput"})}catch(__react_docgen_typescript_loader_error){}var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function TreeItem_slicedToArray(arr,i){return function TreeItem_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function TreeItem_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function TreeItem_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return TreeItem_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TreeItem_arrayLikeToArray(o,minLen)}(arr,i)||function TreeItem_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TreeItem_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var TreeItem_TreeItem=function TreeItem(props){var _renderers$renderItem,_useState2=TreeItem_slicedToArray(Object(react.useState)(!1),2),hasBeenRequested=_useState2[0],setHasBeenRequested=_useState2[1],_useTree=Tree_useTree(),renderers=_useTree.renderers,treeInformation=_useTree.treeInformation,renamingItem=_useTree.renamingItem,environment=Object(ControlledTreeEnvironment.b)(),viewState=useViewState_useViewState(),item=environment.items[props.itemIndex],isExpanded=Object(react.useMemo)((function(){var _viewState$expandedIt;return null===(_viewState$expandedIt=viewState.expandedItems)||void 0===_viewState$expandedIt?void 0:_viewState$expandedIt.includes(props.itemIndex)}),[props.itemIndex,viewState.expandedItems]),renderContext=function useTreeItemRenderContext(item){var _environment$viewStat,_environment$viewStat2,_environment$viewStat3,_environment$viewStat4,_useTree=Tree_useTree(),treeId=_useTree.treeId,search=_useTree.search,renamingItem=_useTree.renamingItem,environment=Object(ControlledTreeEnvironment.b)(),interactionManager=Object(InteractionManagerProvider.b)(),dnd=Object(DragAndDropProvider.b)(),_selectUpTo=useSelectUpTo_useSelectUpTo(),itemTitle=item&&environment.getItemTitle(item),isSearchMatching=Object(react.useMemo)((function(){var _environment$doesSear;return!(null===search||0===search.length||!item||!itemTitle)&&(null!==(_environment$doesSear=environment.doesSearchMatchItem)&&void 0!==_environment$doesSear?_environment$doesSear:defaultMatcher)(search,item,itemTitle)}),[search,item,itemTitle,environment.doesSearchMatchItem]),isSelected=item&&(null===(_environment$viewStat=environment.viewState[treeId])||void 0===_environment$viewStat||null===(_environment$viewStat2=_environment$viewStat.selectedItems)||void 0===_environment$viewStat2?void 0:_environment$viewStat2.includes(item.index)),isExpanded=item&&(null===(_environment$viewStat3=environment.viewState[treeId])||void 0===_environment$viewStat3||null===(_environment$viewStat4=_environment$viewStat3.expandedItems)||void 0===_environment$viewStat4?void 0:_environment$viewStat4.includes(item.index)),isRenaming=item&&renamingItem===item.index;return Object(react.useMemo)((function(){var _viewState$selectedIt,_viewState$selectedIt2,_environment$canDrag,_environment$canDrag2,_environment$canDrag3,_environment$canDrag4,_item$canMove2,_dnd$viableDragPositi,_dnd$viableDragPositi2,_Object$assign,_Object$assign2;if(item){var viewState=environment.viewState[treeId],currentlySelectedItems=(null!==(_viewState$selectedIt=null==viewState||null===(_viewState$selectedIt2=viewState.selectedItems)||void 0===_viewState$selectedIt2?void 0:_viewState$selectedIt2.map((function(item){return environment.items[item]})))&&void 0!==_viewState$selectedIt?_viewState$selectedIt:null!=viewState&&viewState.focusedItem?[environment.items[null==viewState?void 0:viewState.focusedItem]]:[]).filter((function(item){return!!item})),isItemPartOfSelectedItems=!!currentlySelectedItems.find((function(selectedItem){return selectedItem.index===item.index})),canDragCurrentlySelectedItems=currentlySelectedItems&&(null===(_environment$canDrag=null===(_environment$canDrag2=environment.canDrag)||void 0===_environment$canDrag2?void 0:_environment$canDrag2.call(environment,currentlySelectedItems))||void 0===_environment$canDrag||_environment$canDrag)&&currentlySelectedItems.map((function(item){var _item$canMove;return null===(_item$canMove=item.canMove)||void 0===_item$canMove||_item$canMove})).reduce((function(a,b){return a&&b}),!0),canDragThisItem=(null===(_environment$canDrag3=null===(_environment$canDrag4=environment.canDrag)||void 0===_environment$canDrag4?void 0:_environment$canDrag4.call(environment,[item]))||void 0===_environment$canDrag3||_environment$canDrag3)&&(null===(_item$canMove2=item.canMove)||void 0===_item$canMove2||_item$canMove2),canDrag=environment.canDragAndDrop&&(isItemPartOfSelectedItems&&canDragCurrentlySelectedItems||!isItemPartOfSelectedItems&&canDragThisItem),canDropOn=environment.canDragAndDrop&&!(null===(_dnd$viableDragPositi=dnd.viableDragPositions)||void 0===_dnd$viableDragPositi||null===(_dnd$viableDragPositi2=_dnd$viableDragPositi[treeId])||void 0===_dnd$viableDragPositi2||!_dnd$viableDragPositi2.find((function(position){return"item"===position.targetType&&position.targetItem===item.index}))),actions={primaryAction:function primaryAction(){var _environment$onPrimar;null===(_environment$onPrimar=environment.onPrimaryAction)||void 0===_environment$onPrimar||_environment$onPrimar.call(environment,environment.items[item.index],treeId)},collapseItem:function collapseItem(){var _environment$onCollap;null===(_environment$onCollap=environment.onCollapseItem)||void 0===_environment$onCollap||_environment$onCollap.call(environment,item,treeId)},expandItem:function expandItem(){var _environment$onExpand;null===(_environment$onExpand=environment.onExpandItem)||void 0===_environment$onExpand||_environment$onExpand.call(environment,item,treeId)},toggleExpandedState:function toggleExpandedState(){var _environment$onCollap2,_environment$onExpand2;isExpanded?null===(_environment$onCollap2=environment.onCollapseItem)||void 0===_environment$onCollap2||_environment$onCollap2.call(environment,item,treeId):null===(_environment$onExpand2=environment.onExpandItem)||void 0===_environment$onExpand2||_environment$onExpand2.call(environment,item,treeId)},selectItem:function selectItem(){var _environment$onSelect;null===(_environment$onSelect=environment.onSelectItems)||void 0===_environment$onSelect||_environment$onSelect.call(environment,[item.index],treeId)},addToSelectedItems:function addToSelectedItems(){var _environment$onSelect2,_viewState$selectedIt3;null===(_environment$onSelect2=environment.onSelectItems)||void 0===_environment$onSelect2||_environment$onSelect2.call(environment,[].concat(useTreeItemRenderContext_toConsumableArray(null!==(_viewState$selectedIt3=null==viewState?void 0:viewState.selectedItems)&&void 0!==_viewState$selectedIt3?_viewState$selectedIt3:[]),[item.index]),treeId)},unselectItem:function unselectItem(){var _environment$onSelect3,_viewState$selectedIt4,_viewState$selectedIt5;null===(_environment$onSelect3=environment.onSelectItems)||void 0===_environment$onSelect3||_environment$onSelect3.call(environment,null!==(_viewState$selectedIt4=null==viewState||null===(_viewState$selectedIt5=viewState.selectedItems)||void 0===_viewState$selectedIt5?void 0:_viewState$selectedIt5.filter((function(id){return id!==item.index})))&&void 0!==_viewState$selectedIt4?_viewState$selectedIt4:[],treeId)},selectUpTo:function selectUpTo(){_selectUpTo(item)},startRenamingItem:function startRenamingItem(){var _environment$onStartR;null===(_environment$onStartR=environment.onStartRenamingItem)||void 0===_environment$onStartR||_environment$onStartR.call(environment,item,treeId)},focusItem:function focusItem(){var _environment$onFocusI;null===(_environment$onFocusI=environment.onFocusItem)||void 0===_environment$onFocusI||_environment$onFocusI.call(environment,item,treeId)},startDragging:function startDragging(){var _viewState$selectedIt6,_environment$onSelect4,selectedItems=null!==(_viewState$selectedIt6=null==viewState?void 0:viewState.selectedItems)&&void 0!==_viewState$selectedIt6?_viewState$selectedIt6:[];selectedItems.includes(item.index)||(selectedItems=[item.index],null===(_environment$onSelect4=environment.onSelectItems)||void 0===_environment$onSelect4||_environment$onSelect4.call(environment,selectedItems,treeId)),canDrag&&dnd.onStartDraggingItems(selectedItems.map((function(id){return environment.items[id]})),treeId)}},renderFlags={isSelected:isSelected,isExpanded:isExpanded,isFocused:(null==viewState?void 0:viewState.focusedItem)===item.index,isRenaming:isRenaming,isDraggingOver:dnd.draggingPosition&&"item"===dnd.draggingPosition.targetType&&dnd.draggingPosition.targetItem===item.index&&dnd.draggingPosition.treeId===treeId,isDraggingOverParent:!1,isSearchMatching:isSearchMatching,canDrag:canDrag,canDropOn:canDropOn},interactiveElementProps=Object.assign({},interactionManager.createInteractiveElementProps(item,treeId,actions,renderFlags,viewState),((_Object$assign={})["data-rct-item-interactive"]=!0,_Object$assign["data-rct-item-focus"]=renderFlags.isFocused?"true":"false",_Object$assign["data-rct-item-id"]=item.index,_Object$assign)),itemContainerWithoutChildrenProps=Object.assign({},((_Object$assign2={})["data-rct-item-container"]="true",_Object$assign2)),itemContainerWithChildrenProps={role:"treeitem","aria-selected":renderFlags.isSelected,"aria-expanded":item.hasChildren?renderFlags.isExpanded?"true":"false":void 0},arrowProps={onClick:function onClick(){item.hasChildren&&actions.toggleExpandedState(),actions.selectItem()},onFocus:function onFocus(){actions.focusItem()},onDragOver:function onDragOver(e){e.preventDefault()},"aria-hidden":!0,tabIndex:-1},viewStateFlags=viewState?Object.entries(viewState).reduce((function(acc,_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];return acc[key]=Array.isArray(value)?value.includes(item.index):value===item.index,acc}),{}):{};return Object.assign({},actions,renderFlags,{interactiveElementProps:interactiveElementProps,itemContainerWithChildrenProps:itemContainerWithChildrenProps,itemContainerWithoutChildrenProps:itemContainerWithoutChildrenProps,arrowProps:arrowProps,viewStateFlags:viewStateFlags})}}),[item,environment,treeId,dnd,isSelected,isExpanded,isRenaming,isSearchMatching,interactionManager,_selectUpTo])}(item);if(void 0===item){var _environment$onMissin;if(!hasBeenRequested)setHasBeenRequested(!0),null===(_environment$onMissin=environment.onMissingItems)||void 0===_environment$onMissin||_environment$onMissin.call(environment,[props.itemIndex]);return null}var children=item.hasChildren&&isExpanded&&item.children&&Object(jsx_runtime.jsx)(TreeItemChildren_TreeItemChildren,{depth:props.depth+1,parentId:props.itemIndex,children:item.children}),title=environment.getItemTitle(item),titleComponent=renamingItem===props.itemIndex?Object(jsx_runtime.jsx)(TreeItemRenamingInput_TreeItemRenamingInput,{itemIndex:props.itemIndex}):renderers.renderItemTitle({info:treeInformation,context:renderContext,title:title,item:item}),arrowComponent=renderers.renderItemArrow({info:treeInformation,context:renderContext,item:environment.items[props.itemIndex]});return null!==(_renderers$renderItem=renderers.renderItem({item:environment.items[props.itemIndex],depth:props.depth,title:titleComponent,arrow:arrowComponent,context:renderContext,info:treeInformation,children:children}))&&void 0!==_renderers$renderItem?_renderers$renderItem:null};try{TreeItem_TreeItem.displayName="TreeItem",TreeItem_TreeItem.__docgenInfo={description:"",displayName:"TreeItem",props:{itemIndex:{defaultValue:null,description:"",name:"itemIndex",required:!0,type:{name:"TreeItemIndex"}},depth:{defaultValue:null,description:"",name:"depth",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/treeItem/TreeItem.tsx#TreeItem"]={docgenInfo:TreeItem_TreeItem.__docgenInfo,name:"TreeItem",path:"packages/core/src/treeItem/TreeItem.tsx#TreeItem"})}catch(__react_docgen_typescript_loader_error){}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function TreeItemChildren_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return TreeItemChildren_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TreeItemChildren_arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function TreeItemChildren_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var TreeItemChildren_TreeItemChildren=function TreeItemChildren(props){var _step,_useTree=Tree_useTree(),renderers=_useTree.renderers,treeInformation=_useTree.treeInformation,childElements=[],_iterator=_createForOfIteratorHelper(props.children);try{for(_iterator.s();!(_step=_iterator.n()).done;){var child=_step.value;childElements.push(Object(jsx_runtime.jsx)(TreeItem_TreeItem,{itemIndex:child,depth:props.depth},child))}}catch(err){_iterator.e(err)}finally{_iterator.f()}if(0===childElements.length)return null;var containerProps={role:0!==props.depth?"group":void 0};return renderers.renderItemsContainer({children:childElements,info:treeInformation,containerProps:containerProps})};try{TreeItemChildren_TreeItemChildren.displayName="TreeItemChildren",TreeItemChildren_TreeItemChildren.__docgenInfo={description:"",displayName:"TreeItemChildren",props:{depth:{defaultValue:null,description:"",name:"depth",required:!0,type:{name:"number"}},parentId:{defaultValue:null,description:"",name:"parentId",required:!0,type:{name:"TreeItemIndex"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/treeItem/TreeItemChildren.tsx#TreeItemChildren"]={docgenInfo:TreeItemChildren_TreeItemChildren.__docgenInfo,name:"TreeItemChildren",path:"packages/core/src/treeItem/TreeItemChildren.tsx#TreeItemChildren"})}catch(__react_docgen_typescript_loader_error){}var DragBetweenLine_DragBetweenLine=function DragBetweenLine(props){var _draggingPosition$lin,_useDragAndDrop=Object(DragAndDropProvider.b)(),draggingPosition=_useDragAndDrop.draggingPosition,itemHeight=_useDragAndDrop.itemHeight,renderers=Tree_useTree().renderers;if(!(draggingPosition&&"between-items"===draggingPosition.targetType&&draggingPosition.treeId===props.treeId))return null;return Object(jsx_runtime.jsx)("div",{style:{position:"absolute",left:"0",right:"0",top:(null!==(_draggingPosition$lin=null==draggingPosition?void 0:draggingPosition.linearIndex)&&void 0!==_draggingPosition$lin?_draggingPosition$lin:0)*itemHeight+"px"},children:renderers.renderDragBetweenLine({draggingPosition:draggingPosition,lineProps:{onDragOver:function onDragOver(e){return e.preventDefault()}}})})};DragBetweenLine_DragBetweenLine.displayName="DragBetweenLine";try{DragBetweenLine_DragBetweenLine.displayName="DragBetweenLine",DragBetweenLine_DragBetweenLine.__docgenInfo={description:"",displayName:"DragBetweenLine",props:{treeId:{defaultValue:null,description:"",name:"treeId",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/tree/DragBetweenLine.tsx#DragBetweenLine"]={docgenInfo:DragBetweenLine_DragBetweenLine.__docgenInfo,name:"DragBetweenLine",path:"packages/core/src/tree/DragBetweenLine.tsx#DragBetweenLine"})}catch(__react_docgen_typescript_loader_error){}function useFocusWithin_toConsumableArray(arr){return function useFocusWithin_arrayWithoutHoles(arr){if(Array.isArray(arr))return useFocusWithin_arrayLikeToArray(arr)}(arr)||function useFocusWithin_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||useFocusWithin_unsupportedIterableToArray(arr)||function useFocusWithin_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useFocusWithin_slicedToArray(arr,i){return function useFocusWithin_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useFocusWithin_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||useFocusWithin_unsupportedIterableToArray(arr,i)||function useFocusWithin_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useFocusWithin_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return useFocusWithin_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?useFocusWithin_arrayLikeToArray(o,minLen):void 0}}function useFocusWithin_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function useKey_toConsumableArray(arr){return function useKey_arrayWithoutHoles(arr){if(Array.isArray(arr))return useKey_arrayLikeToArray(arr)}(arr)||function useKey_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function useKey_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useKey_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useKey_arrayLikeToArray(o,minLen)}(arr)||function useKey_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useKey_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useKey_useKey=function useKey(key,onHit,active,deps){useHtmlElementEventListener_useHtmlElementEventListener(document,"keydown",(function(e){active&&active&&key.toLowerCase()===e.key.toLowerCase()&&onHit(e)}),[active,key].concat(useKey_toConsumableArray(null!=deps?deps:[])))};function useTreeKeyboardBindings_toConsumableArray(arr){return function useTreeKeyboardBindings_arrayWithoutHoles(arr){if(Array.isArray(arr))return useTreeKeyboardBindings_arrayLikeToArray(arr)}(arr)||function useTreeKeyboardBindings_iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function useTreeKeyboardBindings_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useTreeKeyboardBindings_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useTreeKeyboardBindings_arrayLikeToArray(o,minLen)}(arr)||function useTreeKeyboardBindings_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useTreeKeyboardBindings_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useTreeKeyboardBindings_useTreeKeyboardBindings=function useTreeKeyboardBindings(){var _environment$canRenam,environment=Object(ControlledTreeEnvironment.b)(),_useTree=Tree_useTree(),treeId=_useTree.treeId,setRenamingItem=_useTree.setRenamingItem,setSearch=_useTree.setSearch,renamingItem=_useTree.renamingItem,linearItems=useLinearItems_useLinearItems(treeId),dnd=Object(DragAndDropProvider.b)(),viewState=useViewState_useViewState(),moveFocusToIndex=function useMoveFocusToIndex(){var treeId=Tree_useTree().treeId,_useTreeEnvironment=Object(ControlledTreeEnvironment.b)(),onFocusItem=_useTreeEnvironment.onFocusItem,items=_useTreeEnvironment.items,linearItems=useLinearItems_useLinearItems(treeId),viewState=useViewState_useViewState();return Object(react.useCallback)((function(computeNewIndex){var _linearItems$findInde,newIndex=computeNewIndex(null!==(_linearItems$findInde=linearItems.findIndex((function(item){return item.item===viewState.focusedItem})))&&void 0!==_linearItems$findInde?_linearItems$findInde:0,linearItems),newIndexBounded=Math.max(0,Math.min(linearItems.length-1,newIndex)),newFocusItem=items[linearItems[newIndexBounded].item];return null==onFocusItem||onFocusItem(newFocusItem,treeId),newFocusItem}),[onFocusItem,items,linearItems,treeId,viewState.focusedItem])}(),selectUpTo=useSelectUpTo_useSelectUpTo(),isActiveTree=environment.activeTreeId===treeId,isRenaming=!!renamingItem;useKey_useKey("arrowdown",Object(react.useCallback)((function(e){if(e.preventDefault(),dnd.isProgrammaticallyDragging)dnd.programmaticDragDown();else{var newFocusItem=moveFocusToIndex((function(currentIndex){return currentIndex+1}));e.shiftKey&&selectUpTo(newFocusItem)}}),[dnd,moveFocusToIndex,selectUpTo]),isActiveTree&&!isRenaming),useKey_useKey("arrowup",Object(react.useCallback)((function(e){if(e.preventDefault(),dnd.isProgrammaticallyDragging)dnd.programmaticDragUp();else{var newFocusItem=moveFocusToIndex((function(currentIndex){return currentIndex-1}));e.shiftKey&&selectUpTo(newFocusItem)}}),[dnd,moveFocusToIndex,selectUpTo]),isActiveTree&&!isRenaming),useHotkey_useHotkey("moveFocusToFirstItem",Object(react.useCallback)((function(e){e.preventDefault(),moveFocusToIndex((function(){return 0}))}),[moveFocusToIndex]),isActiveTree&&!dnd.isProgrammaticallyDragging&&!isRenaming),useHotkey_useHotkey("moveFocusToLastItem",Object(react.useCallback)((function(e){e.preventDefault(),moveFocusToIndex((function(currentIndex,linearItems){return linearItems.length-1}))}),[moveFocusToIndex]),isActiveTree&&!dnd.isProgrammaticallyDragging&&!isRenaming),useKey_useKey("arrowright",Object(react.useCallback)((function(e){e.preventDefault(),moveFocusToIndex((function(currentIndex,linearItems){var item=environment.items[linearItems[currentIndex].item];if(item.hasChildren){var _viewState$expandedIt,_environment$onExpand;if(null!==(_viewState$expandedIt=viewState.expandedItems)&&void 0!==_viewState$expandedIt&&_viewState$expandedIt.includes(item.index))return currentIndex+1;null===(_environment$onExpand=environment.onExpandItem)||void 0===_environment$onExpand||_environment$onExpand.call(environment,item,treeId)}return currentIndex}))}),[environment,moveFocusToIndex,treeId,viewState.expandedItems]),isActiveTree&&!dnd.isProgrammaticallyDragging&&!isRenaming),useKey_useKey("arrowleft",Object(react.useCallback)((function(e){e.preventDefault(),moveFocusToIndex((function(currentIndex,linearItems){var _viewState$expandedIt2,_environment$onCollap,item=environment.items[linearItems[currentIndex].item],itemDepth=linearItems[currentIndex].depth;if(item.hasChildren&&null!==(_viewState$expandedIt2=viewState.expandedItems)&&void 0!==_viewState$expandedIt2&&_viewState$expandedIt2.includes(item.index))null===(_environment$onCollap=environment.onCollapseItem)||void 0===_environment$onCollap||_environment$onCollap.call(environment,item,treeId);else if(itemDepth>0){for(var parentIndex=currentIndex;linearItems[parentIndex].depth!==itemDepth-1;parentIndex--);return parentIndex}return currentIndex}))}),[environment,moveFocusToIndex,treeId,viewState.expandedItems]),isActiveTree&&!dnd.isProgrammaticallyDragging&&!isRenaming),useHotkey_useHotkey("primaryAction",Object(react.useCallback)((function(e){var _environment$onSelect,_environment$onPrimar;(e.preventDefault(),void 0!==viewState.focusedItem)&&(null===(_environment$onSelect=environment.onSelectItems)||void 0===_environment$onSelect||_environment$onSelect.call(environment,[viewState.focusedItem],treeId),null===(_environment$onPrimar=environment.onPrimaryAction)||void 0===_environment$onPrimar||_environment$onPrimar.call(environment,environment.items[viewState.focusedItem],treeId))}),[environment,treeId,viewState.focusedItem]),isActiveTree&&!dnd.isProgrammaticallyDragging&&!isRenaming),useHotkey_useHotkey("toggleSelectItem",Object(react.useCallback)((function(e){var _environment$onSelect2,_environment$onSelect3,_viewState$selectedIt;(e.preventDefault(),void 0!==viewState.focusedItem)&&(viewState.selectedItems&&viewState.selectedItems.includes(viewState.focusedItem)?null===(_environment$onSelect2=environment.onSelectItems)||void 0===_environment$onSelect2||_environment$onSelect2.call(environment,viewState.selectedItems.filter((function(item){return item!==viewState.focusedItem})),treeId):null===(_environment$onSelect3=environment.onSelectItems)||void 0===_environment$onSelect3||_environment$onSelect3.call(environment,[].concat(useTreeKeyboardBindings_toConsumableArray(null!==(_viewState$selectedIt=viewState.selectedItems)&&void 0!==_viewState$selectedIt?_viewState$selectedIt:[]),[viewState.focusedItem]),treeId))}),[environment,treeId,viewState.focusedItem,viewState.selectedItems]),isActiveTree&&!dnd.isProgrammaticallyDragging&&!isRenaming),useHotkey_useHotkey("selectAll",Object(react.useCallback)((function(e){var _environment$onSelect4;e.preventDefault(),null===(_environment$onSelect4=environment.onSelectItems)||void 0===_environment$onSelect4||_environment$onSelect4.call(environment,linearItems.map((function(_ref){return _ref.item})),treeId)}),[environment,linearItems,treeId]),isActiveTree&&!dnd.isProgrammaticallyDragging&&!isRenaming),useHotkey_useHotkey("renameItem",Object(react.useCallback)((function(e){if(void 0!==viewState.focusedItem){var _environment$onStartR;e.preventDefault();var item=environment.items[viewState.focusedItem];null===(_environment$onStartR=environment.onStartRenamingItem)||void 0===_environment$onStartR||_environment$onStartR.call(environment,item,treeId),setRenamingItem(item.index)}}),[environment,setRenamingItem,treeId,viewState.focusedItem]),isActiveTree&&(null===(_environment$canRenam=environment.canRename)||void 0===_environment$canRenam||_environment$canRenam)&&!isRenaming),useHotkey_useHotkey("startSearch",Object(react.useCallback)((function(e){var _document$querySelect,_document$querySelect2;e.preventDefault(),setSearch(""),null===(_document$querySelect=document.querySelector('[data-rct-search-input="true"]'))||void 0===_document$querySelect||null===(_document$querySelect2=_document$querySelect.focus)||void 0===_document$querySelect2||_document$querySelect2.call(_document$querySelect)}),[setSearch]),isActiveTree&&!dnd.isProgrammaticallyDragging&&!isRenaming),useHotkey_useHotkey("startProgrammaticDnd",Object(react.useCallback)((function(e){e.preventDefault(),dnd.startProgrammaticDrag()}),[dnd]),isActiveTree&&!isRenaming),useHotkey_useHotkey("completeProgrammaticDnd",Object(react.useCallback)((function(e){e.preventDefault(),dnd.completeProgrammaticDrag()}),[dnd]),isActiveTree&&dnd.isProgrammaticallyDragging&&!isRenaming),useHotkey_useHotkey("abortProgrammaticDnd",Object(react.useCallback)((function(e){e.preventDefault(),dnd.abortProgrammaticDrag()}),[dnd]),isActiveTree&&dnd.isProgrammaticallyDragging&&!isRenaming)},SearchInput_SearchInput=function SearchInput(props){var _environment$canSearc3,_Object$assign,_useTree=Tree_useTree(),search=_useTree.search,setSearch=_useTree.setSearch,treeId=_useTree.treeId,renderers=_useTree.renderers,renamingItem=_useTree.renamingItem,environment=Object(ControlledTreeEnvironment.b)();useViewState_useViewState();var isActiveTree=environment.activeTreeId===treeId,callSoon=Object(useCallSoon.a)();!function useSearchMatchFocus(){var _useTreeEnvironment=Object(ControlledTreeEnvironment.b)(),doesSearchMatchItem=_useTreeEnvironment.doesSearchMatchItem,items=_useTreeEnvironment.items,getItemTitle=_useTreeEnvironment.getItemTitle,onFocusItem=_useTreeEnvironment.onFocusItem,_useTree=Tree_useTree(),search=_useTree.search,treeId=_useTree.treeId,linearItems=useLinearItems_useLinearItems(treeId),callSoon=Object(useCallSoon.a)();Object(useSideEffect.a)((function(){search&&search.length>0&&callSoon((function(){var focusItem=linearItems.find((function(_ref){var item=_ref.item;return(null!=doesSearchMatchItem?doesSearchMatchItem:defaultMatcher)(search,items[item],getItemTitle(items[item]))}));focusItem&&(null==onFocusItem||onFocusItem(items[focusItem.item],treeId))}))}),[doesSearchMatchItem,getItemTitle,linearItems,items,onFocusItem,search,treeId,callSoon],[search])}();var clearSearch=function clearSearch(){var _environment$autoFocu;if(setSearch(null),null===(_environment$autoFocu=environment.autoFocus)||void 0===_environment$autoFocu||_environment$autoFocu){var _focus,_ref,focusItem=document.querySelector('[data-rct-tree="'+treeId+'"] [data-rct-item-focus="true"]');null==focusItem||null===(_focus=(_ref=focusItem).focus)||void 0===_focus||_focus.call(_ref)}};return useHotkey_useHotkey("abortSearch",(function(){callSoon((function(){clearSearch()}))}),isActiveTree&&null!==search,!0,[search,isActiveTree,callSoon]),useHtmlElementEventListener_useHtmlElementEventListener(props.containerRef,"keydown",(function(e){var _environment$canSearc,_environment$canSearc2,_document$querySelect,_document$querySelect2,unicode=e.key.charCodeAt(0);null!==(_environment$canSearc=environment.canSearch)&&void 0!==_environment$canSearc&&!_environment$canSearc||null!==(_environment$canSearc2=environment.canSearchByStartingTyping)&&void 0!==_environment$canSearc2&&!_environment$canSearc2||!isActiveTree||null!==search||renamingItem||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||!(unicode>=48&&unicode<=57||unicode>=97&&unicode<=122)||(setSearch(""),null===(_document$querySelect=document.querySelector('[data-rct-search-input="true"]'))||void 0===_document$querySelect||null===(_document$querySelect2=_document$querySelect.focus)||void 0===_document$querySelect2||_document$querySelect2.call(_document$querySelect))}),[isActiveTree,search,renamingItem,environment.canSearchByStartingTyping,environment.canSearch]),null!==(_environment$canSearc3=environment.canSearch)&&void 0!==_environment$canSearc3&&!_environment$canSearc3||null===search?null:renderers.renderSearchInput({inputProps:Object.assign({value:search,onChange:function onChange(e){return setSearch(e.target.value)},onBlur:function onBlur(){clearSearch()},"aria-label":"Search for items"},(_Object$assign={},_Object$assign["data-rct-search-input"]="true",_Object$assign))})};try{SearchInput_SearchInput.displayName="SearchInput",SearchInput_SearchInput.__docgenInfo={description:"",displayName:"SearchInput",props:{containerRef:{defaultValue:null,description:"",name:"containerRef",required:!1,type:{name:"HTMLElement"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/search/SearchInput.tsx#SearchInput"]={docgenInfo:SearchInput_SearchInput.__docgenInfo,name:"SearchInput",path:"packages/core/src/search/SearchInput.tsx#SearchInput"})}catch(__react_docgen_typescript_loader_error){}var defaultLiveDescriptors=__webpack_require__("./packages/core/src/tree/defaultLiveDescriptors.ts"),resolveLiveDescriptor=(__webpack_require__("./node_modules/core-js/modules/es.string.replace.js"),__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.string.starts-with.js"),function resolveLiveDescriptor(descriptor,environment,dnd,tree,keyboardBindings){var getItemTitle=function getItemTitle(index){return environment.getItemTitle(environment.items[index])};return descriptor.replace(/({[^\s}]+)}/g,(function(variableNameWithBrackets){var _tree$treeLabel,_dnd$draggingItems$ma,_dnd$draggingItems,variableName=variableNameWithBrackets.slice(1,-1);switch(variableName){case"treeLabel":return null!==(_tree$treeLabel=tree.treeLabel)&&void 0!==_tree$treeLabel?_tree$treeLabel:"";case"renamingItem":return tree.renamingItem?getItemTitle(tree.renamingItem):"None";case"dragItems":return null!==(_dnd$draggingItems$ma=null===(_dnd$draggingItems=dnd.draggingItems)||void 0===_dnd$draggingItems?void 0:_dnd$draggingItems.map((function(item){return environment.getItemTitle(item)})).join(", "))&&void 0!==_dnd$draggingItems$ma?_dnd$draggingItems$ma:"None";case"dropTarget":if(dnd.draggingPosition){if("item"===dnd.draggingPosition.targetType)return"within "+getItemTitle(dnd.draggingPosition.targetItem);var parentItem=environment.items[dnd.draggingPosition.parentItem],parentTitle=environment.getItemTitle(parentItem);return 0===dnd.draggingPosition.childIndex?"within "+parentTitle+" at the start":"within "+parentTitle+" after "+getItemTitle(parentItem.children[dnd.draggingPosition.childIndex-1])}return"None";default:if(variableName.startsWith("keybinding:"))return keyboardBindings[variableName.slice(11)][0];throw Error("Unknown live descriptor variable {"+variableName+"}")}}))}),LiveDescription_LiveDescription=function LiveDescription(){var env=Object(ControlledTreeEnvironment.b)(),tree=Tree_useTree(),dnd=Object(DragAndDropProvider.b)(),keys=useKeyboardBindings_useKeyboardBindings(),descriptors=Object(react.useMemo)((function(){var _env$liveDescriptors;return null!==(_env$liveDescriptors=env.liveDescriptors)&&void 0!==_env$liveDescriptors?_env$liveDescriptors:defaultLiveDescriptors.a}),[env.liveDescriptors]),LiveWrapper=Object(react.useMemo)((function(){return function(_ref){var children=_ref.children,live=_ref.live;return Object(jsx_runtime.jsx)("div",{"aria-live":live,dangerouslySetInnerHTML:{__html:children}})}}),[]),MainWrapper=tree.renderers.renderLiveDescriptorContainer;return tree.treeInformation.isRenaming?Object(jsx_runtime.jsx)(MainWrapper,{tree:tree,children:Object(jsx_runtime.jsx)(LiveWrapper,{live:"polite",children:resolveLiveDescriptor(descriptors.renamingItem,env,dnd,tree,keys)})}):tree.treeInformation.isSearching?Object(jsx_runtime.jsx)(MainWrapper,{tree:tree,children:Object(jsx_runtime.jsx)(LiveWrapper,{live:"polite",children:resolveLiveDescriptor(descriptors.searching,env,dnd,tree,keys)})}):tree.treeInformation.isProgrammaticallyDragging?Object(jsx_runtime.jsxs)(MainWrapper,{tree:tree,children:[Object(jsx_runtime.jsx)(LiveWrapper,{live:"polite",children:resolveLiveDescriptor(descriptors.programmaticallyDragging,env,dnd,tree,keys)}),Object(jsx_runtime.jsx)(LiveWrapper,{live:"assertive",children:resolveLiveDescriptor(descriptors.programmaticallyDraggingTarget,env,dnd,tree,keys)})]}):Object(jsx_runtime.jsx)(MainWrapper,{tree:tree,children:Object(jsx_runtime.jsx)(LiveWrapper,{live:"off",children:resolveLiveDescriptor(descriptors.introduction,env,dnd,tree,keys)})})};try{LiveDescription_LiveDescription.displayName="LiveDescription",LiveDescription_LiveDescription.__docgenInfo={description:"",displayName:"LiveDescription",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/tree/LiveDescription.tsx#LiveDescription"]={docgenInfo:LiveDescription_LiveDescription.__docgenInfo,name:"LiveDescription",path:"packages/core/src/tree/LiveDescription.tsx#LiveDescription"})}catch(__react_docgen_typescript_loader_error){}var MaybeLiveDescription_MaybeLiveDescription=function MaybeLiveDescription(){var _env$showLiveDescript;return null===(_env$showLiveDescript=Object(ControlledTreeEnvironment.b)().showLiveDescription)||void 0===_env$showLiveDescript||_env$showLiveDescript?Object(jsx_runtime.jsx)(LiveDescription_LiveDescription,{}):null};MaybeLiveDescription_MaybeLiveDescription.displayName="MaybeLiveDescription";try{MaybeLiveDescription_MaybeLiveDescription.displayName="MaybeLiveDescription",MaybeLiveDescription_MaybeLiveDescription.__docgenInfo={description:"",displayName:"MaybeLiveDescription",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/tree/MaybeLiveDescription.tsx#MaybeLiveDescription"]={docgenInfo:MaybeLiveDescription_MaybeLiveDescription.__docgenInfo,name:"MaybeLiveDescription",path:"packages/core/src/tree/MaybeLiveDescription.tsx#MaybeLiveDescription"})}catch(__react_docgen_typescript_loader_error){}var TreeManager_TreeManager=function TreeManager(){var _Object$assign,_useTree=Tree_useTree(),treeId=_useTree.treeId,rootItem=_useTree.rootItem,renderers=_useTree.renderers,treeInformation=_useTree.treeInformation,environment=Object(ControlledTreeEnvironment.b)(),containerRef=Object(react.useRef)(),dnd=Object(DragAndDropProvider.b)(),isActiveTree=environment.activeTreeId===treeId;useTreeKeyboardBindings_useTreeKeyboardBindings(),function useFocusWithin(element,onFocusIn,onFocusOut){var deps=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],_useState2=useFocusWithin_slicedToArray(Object(react.useState)(!1),2),focusWithin=_useState2[0],setFocusWithin=_useState2[1],isLoosingFocusFlag=Object(react.useRef)(!1),callSoon=Object(useCallSoon.a)();useHtmlElementEventListener_useHtmlElementEventListener(element,"focusin",(function(){focusWithin||(setFocusWithin(!0),null==onFocusIn||onFocusIn()),isLoosingFocusFlag.current&&(isLoosingFocusFlag.current=!1)}),[focusWithin,onFocusIn].concat(useFocusWithin_toConsumableArray(deps))),useHtmlElementEventListener_useHtmlElementEventListener(element,"focusout",(function(){isLoosingFocusFlag.current=!0,callSoon((function(){!isLoosingFocusFlag.current||null!=element&&element.contains(document.activeElement)||(null==onFocusOut||onFocusOut(),isLoosingFocusFlag.current=!1,setFocusWithin(!1))}))}),[element,onFocusOut,callSoon].concat(useFocusWithin_toConsumableArray(deps)))}(containerRef.current,(function(){environment.setActiveTree(treeId)}),(function(){environment.setActiveTree((function(oldTreeId){return oldTreeId===treeId?void 0:oldTreeId}))}),[environment.activeTreeId,treeId,isActiveTree]);var rootChildren=environment.items[rootItem].children;if(!rootChildren)throw Error("Root "+rootItem+" does not contain any children");var treeChildren=Object(jsx_runtime.jsxs)(react.Fragment,{children:[Object(jsx_runtime.jsx)(MaybeLiveDescription_MaybeLiveDescription,{}),Object(jsx_runtime.jsx)(TreeItemChildren_TreeItemChildren,{depth:0,parentId:treeId,children:rootChildren}),Object(jsx_runtime.jsx)(DragBetweenLine_DragBetweenLine,{treeId:treeId}),Object(jsx_runtime.jsx)(SearchInput_SearchInput,{containerRef:containerRef.current})]}),containerProps=Object.assign({onDragOver:function onDragOver(e){return dnd.onDragOverTreeHandler(e,treeId,containerRef)},onMouseDown:function onMouseDown(){return dnd.abortProgrammaticDrag()},ref:containerRef,style:{position:"relative"},role:"tree","aria-label":treeInformation.treeLabelledBy?void 0:treeInformation.treeLabel,"aria-labelledby":treeInformation.treeLabelledBy},((_Object$assign={})["data-rct-tree"]=treeId,_Object$assign));return renderers.renderTreeContainer({children:treeChildren,info:treeInformation,containerProps:containerProps})},tree_getItemsLinearly=__webpack_require__("./packages/core/src/tree/getItemsLinearly.ts"),EnvironmentActionsProvider=__webpack_require__("./packages/core/src/environmentActions/EnvironmentActionsProvider.tsx"),EnvironmentActionsContext=react.createContext(null),TreeActionsProvider=react.forwardRef((function(props,ref){Object(ControlledTreeEnvironment.b)();var tree=Tree_useTree();Object(DragAndDropProvider.b)();var envActions=Object(EnvironmentActionsProvider.b)(),actions={abortRenamingItem:function abortRenamingItem(){tree.setRenamingItem(null)},abortSearch:function abortSearch(){tree.setSearch(null)},collapseItem:function collapseItem(itemId){envActions.collapseItem(itemId,tree.treeId)},completeRenamingItem:function completeRenamingItem(){},expandItem:function expandItem(itemId){envActions.expandItem(itemId,tree.treeId)},focusItem:function focusItem(itemId){envActions.focusItem(itemId,tree.treeId)},focusTree:function focusTree(){var autoFocus=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];envActions.focusTree(tree.treeId,autoFocus)},invokePrimaryAction:function invokePrimaryAction(itemId){envActions.invokePrimaryAction(itemId,tree.treeId)},moveFocusDown:function moveFocusDown(){envActions.moveFocusDown(tree.treeId)},moveFocusUp:function moveFocusUp(){envActions.moveFocusUp(tree.treeId)},renameItem:function renameItem(itemId,name){envActions.renameItem(itemId,name,tree.treeId)},selectItems:function selectItems(itemsIds){envActions.selectItems(itemsIds,tree.treeId)},setSearch:function setSearch(search){tree.setSearch(search)},startRenamingItem:function startRenamingItem(itemId){tree.setRenamingItem(itemId)},stopRenamingItem:function stopRenamingItem(){tree.setRenamingItem(null)},toggleItemExpandedState:function toggleItemExpandedState(itemId){envActions.toggleItemExpandedState(itemId,tree.treeId)},toggleItemSelectStatus:function toggleItemSelectStatus(itemId){envActions.toggleItemSelectStatus(itemId,tree.treeId)},expandAll:function expandAll(){console.log("!!"),envActions.expandAll(tree.treeId)},collapseAll:function collapseAll(){envActions.collapseAll(tree.treeId)}};return function useCreatedTreeRef(ref,actions){var environment=Object(ControlledTreeEnvironment.b)(),tree=Tree_useTree(),dnd=Object(DragAndDropProvider.b)();Object(react.useImperativeHandle)(ref,(function(){return Object.assign({},actions,{treeEnvironmentContext:environment,dragAndDropContext:dnd,treeContext:tree},tree.treeInformation)}))}(ref,actions),Object(jsx_runtime.jsx)(EnvironmentActionsContext.Provider,{value:actions,children:props.children})}));try{TreeActionsProvider.displayName="TreeActionsProvider",TreeActionsProvider.__docgenInfo={description:"",displayName:"TreeActionsProvider",props:{ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<TreeRef<any>>"}},key:{defaultValue:null,description:"",name:"key",required:!1,type:{name:"Key"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/treeActions/TreeActionsProvider.tsx#TreeActionsProvider"]={docgenInfo:TreeActionsProvider.__docgenInfo,name:"TreeActionsProvider",path:"packages/core/src/treeActions/TreeActionsProvider.tsx#TreeActionsProvider"})}catch(__react_docgen_typescript_loader_error){}function Tree_slicedToArray(arr,i){return function Tree_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Tree_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Tree_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Tree_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tree_arrayLikeToArray(o,minLen)}(arr,i)||function Tree_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tree_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var TreeContext=react.createContext(null),Tree_useTree=function useTree(){return Object(react.useContext)(TreeContext)},Tree=react.forwardRef((function(props,ref){var _environment$viewStat,environment=Object(ControlledTreeEnvironment.b)(),renderers=Object(react.useMemo)((function(){return Object.assign({},environment,props)}),[props,environment]),_useState2=Tree_slicedToArray(Object(react.useState)(null),2),search=_useState2[0],setSearch=_useState2[1],_useState4=Tree_slicedToArray(Object(react.useState)(null),2),renamingItem=_useState4[0],setRenamingItem=_useState4[1],rootItem=environment.items[props.rootItem],viewState=null!==(_environment$viewStat=environment.viewState[props.treeId])&&void 0!==_environment$viewStat?_environment$viewStat:{};Object(react.useEffect)((function(){return environment.registerTree({treeId:props.treeId,rootItem:props.rootItem}),function(){return environment.unregisterTree(props.treeId)}}),[props.treeId,props.rootItem]);var _environment$onMissin,treeInformation=function useCreatedTreeInformation(tree,renamingItem,search){var _environment$viewStat,environment=Object(ControlledTreeEnvironment.b)(),dnd=Object(DragAndDropProvider.b)(),selectedItems=null===(_environment$viewStat=environment.viewState[tree.treeId])||void 0===_environment$viewStat?void 0:_environment$viewStat.selectedItems;return Object(react.useMemo)((function(){var _selectedItems$length,_dnd$isProgrammatical;return{isFocused:environment.activeTreeId===tree.treeId,isRenaming:!!renamingItem,areItemsSelected:(null!==(_selectedItems$length=null==selectedItems?void 0:selectedItems.length)&&void 0!==_selectedItems$length?_selectedItems$length:0)>0,isSearching:null!==search,search:search,isProgrammaticallyDragging:null!==(_dnd$isProgrammatical=dnd.isProgrammaticallyDragging)&&void 0!==_dnd$isProgrammatical&&_dnd$isProgrammatical,treeId:tree.treeId,rootItem:tree.rootItem}}),[environment.activeTreeId,tree.treeId,tree.rootItem,renamingItem,null==selectedItems?void 0:selectedItems.length,search,dnd.isProgrammaticallyDragging])}(props,renamingItem,search),treeContextProps={treeId:props.treeId,rootItem:props.rootItem,treeLabel:props.treeLabel,treeLabelledBy:props.treeLabelledBy,getItemsLinearly:function getItemsLinearly(){return Object(tree_getItemsLinearly.a)(props.rootItem,viewState,environment.items)},treeInformation:treeInformation,search:search,setSearch:setSearch,renamingItem:renamingItem,setRenamingItem:setRenamingItem,renderers:renderers};return void 0===rootItem?(null===(_environment$onMissin=environment.onMissingItems)||void 0===_environment$onMissin||_environment$onMissin.call(environment,[props.rootItem]),null):Object(jsx_runtime.jsx)(TreeContext.Provider,{value:treeContextProps,children:Object(jsx_runtime.jsx)(TreeActionsProvider,{ref:ref,children:Object(jsx_runtime.jsx)(TreeManager_TreeManager,{})})})}));try{Tree.displayName="Tree",Tree.__docgenInfo={description:"",displayName:"Tree",props:{treeId:{defaultValue:null,description:"",name:"treeId",required:!0,type:{name:"string"}},rootItem:{defaultValue:null,description:"",name:"rootItem",required:!0,type:{name:"string"}},treeLabel:{defaultValue:null,description:"",name:"treeLabel",required:!1,type:{name:"string"}},treeLabelledBy:{defaultValue:null,description:"",name:"treeLabelledBy",required:!1,type:{name:"string"}},renderItem:{defaultValue:null,description:"",name:"renderItem",required:!1,type:{name:"(props: { item: TreeItem<T>; depth: number; children: any; title: any; arrow: any; context: TreeItemRenderContext<never>; info: TreeInformation; }) => any"}},renderItemTitle:{defaultValue:null,description:"",name:"renderItemTitle",required:!1,type:{name:"(props: { title: string; item: TreeItem<T>; context: TreeItemRenderContext<never>; info: TreeInformation; }) => any"}},renderItemArrow:{defaultValue:null,description:"",name:"renderItemArrow",required:!1,type:{name:"(props: { item: TreeItem<T>; context: TreeItemRenderContext<never>; info: TreeInformation; }) => any"}},renderRenameInput:{defaultValue:null,description:"",name:"renderRenameInput",required:!1,type:{name:"(props: { item: TreeItem<T>; inputProps: InputHTMLAttributes<HTMLInputElement>; inputRef: Ref<HTMLInputElement>; submitButtonProps: HTMLProps<...>; submitButtonRef: Ref<...>; formProps: FormHTMLAttributes<...>; }) => any"}},renderDraggingItem:{defaultValue:null,description:"",name:"renderDraggingItem",required:!1,type:{name:"(props: { items: TreeItem<T>[]; }) => any"}},renderDraggingItemTitle:{defaultValue:null,description:"",name:"renderDraggingItemTitle",required:!1,type:{name:"(props: { items: TreeItem<T>[]; }) => any"}},renderItemsContainer:{defaultValue:null,description:"",name:"renderItemsContainer",required:!1,type:{name:"(props: { children: any; containerProps: HTMLProps<any>; info: TreeInformation; }) => any"}},renderTreeContainer:{defaultValue:null,description:"",name:"renderTreeContainer",required:!1,type:{name:"(props: { children: any; containerProps: HTMLProps<any>; info: TreeInformation; }) => any"}},renderDragBetweenLine:{defaultValue:null,description:"",name:"renderDragBetweenLine",required:!1,type:{name:"(props: { draggingPosition: DraggingPosition; lineProps: HTMLProps<any>; }) => any"}},renderSearchInput:{defaultValue:null,description:"",name:"renderSearchInput",required:!1,type:{name:"(props: { inputProps: HTMLProps<HTMLInputElement>; }) => any"}},renderLiveDescriptorContainer:{defaultValue:null,description:"",name:"renderLiveDescriptorContainer",required:!1,type:{name:"(props: { children: any; tree: TreeConfiguration; }) => any"}},renderDepthOffset:{defaultValue:null,description:"",name:"renderDepthOffset",required:!1,type:{name:"number"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<TreeRef<T>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/tree/Tree.tsx#Tree"]={docgenInfo:Tree.__docgenInfo,name:"Tree",path:"packages/core/src/tree/Tree.tsx#Tree"})}catch(__react_docgen_typescript_loader_error){}},"./packages/core/src/tree/defaultLiveDescriptors.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return defaultLiveDescriptors}));var defaultLiveDescriptors={introduction:"\n    <p>Accessibility guide for tree {treeLabel}.</p>\n    <p>\n      Navigate the tree with the arrow keys. Common tree hotkeys apply. Further keybindings are available:\n    </p>\n    <ul>\n      <li>{keybinding:primaryAction} to execute primary action on focused item</li>\n      <li>{keybinding:renameItem} to start renaming the focused item</li>\n      <li>{keybinding:abortRenameItem} to abort renaming an item</li>\n      <li>{keybinding:startProgrammaticDnd} to start dragging selected items</li>\n    </ul>\n  ",renamingItem:"\n    <p>Renaming the item {renamingItem}.</p>\n    <p>Use the keybinding {keybinding:abortRenameItem} to abort renaming.</p>\n  ",searching:"\n    <p>Searching</p>\n  ",programmaticallyDragging:"\n    <p>Dragging items {dragItems}.</p>\n    <p>Press the arrow keys to move the drag target.</p>\n    <p>Press {keybinding:completeProgrammaticDnd} to drop or {keybinding:abortProgrammaticDnd} to abort.</p>\n  ",programmaticallyDraggingTarget:"\n    <p>Drop target is {dropTarget}.</p>\n  "}},"./packages/core/src/tree/getItemsLinearly.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getItemsLinearly}));__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var getItemsLinearly=function getItemsLinearly(rootItem,viewState,items){var _items$rootItem$child,_items$rootItem,_step,depth=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,itemIds=[],_iterator=_createForOfIteratorHelper(null!==(_items$rootItem$child=null===(_items$rootItem=items[rootItem])||void 0===_items$rootItem?void 0:_items$rootItem.children)&&void 0!==_items$rootItem$child?_items$rootItem$child:[]);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _viewState$expandedIt,itemId=_step.value,item=items[itemId];itemIds.push({item:itemId,depth:depth}),item&&item.hasChildren&&item.children&&null!==(_viewState$expandedIt=viewState.expandedItems)&&void 0!==_viewState$expandedIt&&_viewState$expandedIt.includes(itemId)&&itemIds.push.apply(itemIds,_toConsumableArray(getItemsLinearly(itemId,viewState,items,depth+1)))}}catch(err){_iterator.e(err)}finally{_iterator.f()}return itemIds}},"./packages/core/src/types.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";var InteractionMode;__webpack_require__.d(__webpack_exports__,"a",(function(){return InteractionMode})),function(InteractionMode){InteractionMode.DoubleClickItemToExpand="double-click-item-to-expand",InteractionMode.ClickItemToExpand="click-item-to-expand",InteractionMode.ClickArrowToExpand="click-arrow-to-expand"}(InteractionMode||(InteractionMode={}))},"./packages/core/src/uncontrolledEnvironment/StaticTreeDataProvider.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return StaticTreeDataProvider_StaticTreeDataProvider}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js");function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var EventEmitter=function(){function EventEmitter(options){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,EventEmitter),this.handlerCount=0,this.handlers=[]}var _emit;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(EventEmitter,[{key:"numberOfHandlers",get:function get(){return this.handlers.filter((function(h){return!!h})).length}},{key:"emit",value:(_emit=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(payload){var _this$options,_this$options$logger,promises,_iterator,_step,handler,res;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:promises=[],null===(_this$options=this.options)||void 0===_this$options||null===(_this$options$logger=_this$options.logger)||void 0===_this$options$logger||_this$options$logger.call(_this$options,"emit",payload),_iterator=_createForOfIteratorHelper(this.handlers);try{for(_iterator.s();!(_step=_iterator.n()).done;)(handler=_step.value)&&"function"==typeof(null==(res=handler(payload))?void 0:res.then)&&promises.push(res)}catch(err){_iterator.e(err)}finally{_iterator.f()}return _context.next=6,Promise.all(promises);case 6:case"end":return _context.stop()}}),_callee,this)}))),function emit(_x){return _emit.apply(this,arguments)})},{key:"on",value:function on(handler){var _this$options2,_this$options2$logger;return null===(_this$options2=this.options)||void 0===_this$options2||null===(_this$options2$logger=_this$options2.logger)||void 0===_this$options2$logger||_this$options2$logger.call(_this$options2,"on"),this.handlers.push(handler),this.handlerCount++}},{key:"off",value:function off(handlerId){this.delete(handlerId)}},{key:"delete",value:function _delete(handlerId){var _this$options3,_this$options3$logger;null===(_this$options3=this.options)||void 0===_this$options3||null===(_this$options3$logger=_this$options3.logger)||void 0===_this$options3$logger||_this$options3$logger.call(_this$options3,"off"),this.handlers[handlerId]=null}}]),EventEmitter}();function StaticTreeDataProvider_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function StaticTreeDataProvider_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){StaticTreeDataProvider_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){StaticTreeDataProvider_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function StaticTreeDataProvider_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var StaticTreeDataProvider_StaticTreeDataProvider=function(){function StaticTreeDataProvider(items,setItemName){!function StaticTreeDataProvider_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,StaticTreeDataProvider),this.data=void 0,this.onDidChangeTreeDataEmitter=new EventEmitter,this.setItemName=void 0,this.data={items:items},this.setItemName=setItemName}var _onRenameItem,_onChangeItemChildren,_getTreeItem;return function StaticTreeDataProvider_createClass(Constructor,protoProps,staticProps){return protoProps&&StaticTreeDataProvider_defineProperties(Constructor.prototype,protoProps),staticProps&&StaticTreeDataProvider_defineProperties(Constructor,staticProps),Constructor}(StaticTreeDataProvider,[{key:"getTreeItem",value:(_getTreeItem=StaticTreeDataProvider_asyncToGenerator(regeneratorRuntime.mark((function _callee(itemId){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",this.data.items[itemId]);case 1:case"end":return _context.stop()}}),_callee,this)}))),function getTreeItem(_x){return _getTreeItem.apply(this,arguments)})},{key:"onChangeItemChildren",value:(_onChangeItemChildren=StaticTreeDataProvider_asyncToGenerator(regeneratorRuntime.mark((function _callee2(itemId,newChildren){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:this.data.items[itemId].children=newChildren,this.onDidChangeTreeDataEmitter.emit([itemId]);case 2:case"end":return _context2.stop()}}),_callee2,this)}))),function onChangeItemChildren(_x2,_x3){return _onChangeItemChildren.apply(this,arguments)})},{key:"onDidChangeTreeData",value:function onDidChangeTreeData(listener){var _this=this,handlerId=this.onDidChangeTreeDataEmitter.on((function(payload){return listener(payload)}));return{dispose:function dispose(){return _this.onDidChangeTreeDataEmitter.off(handlerId)}}}},{key:"onRenameItem",value:(_onRenameItem=StaticTreeDataProvider_asyncToGenerator(regeneratorRuntime.mark((function _callee3(item,name){return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:this.setItemName&&(this.data.items[item.index]=this.setItemName(item,name));case 1:case"end":return _context3.stop()}}),_callee3,this)}))),function onRenameItem(_x4,_x5){return _onRenameItem.apply(this,arguments)})}]),StaticTreeDataProvider}()},"./packages/core/src/uncontrolledEnvironment/UncontrolledTreeEnvironment.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return UncontrolledTreeEnvironment}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.object.values.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.string.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find-index.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js"),ControlledTreeEnvironment=__webpack_require__("./packages/core/src/controlledEnvironment/ControlledTreeEnvironment.tsx");__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var CompleteTreeDataProvider=function(){function CompleteTreeDataProvider(provider){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CompleteTreeDataProvider),this.provider=void 0,this.provider=provider}var _onRenameItem,_onChangeItemChildren,_getTreeItems,_getTreeItem;return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(CompleteTreeDataProvider,[{key:"getTreeItem",value:(_getTreeItem=_asyncToGenerator(regeneratorRuntime.mark((function _callee(itemId){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",this.provider.getTreeItem(itemId));case 1:case"end":return _context.stop()}}),_callee,this)}))),function getTreeItem(_x){return _getTreeItem.apply(this,arguments)})},{key:"getTreeItems",value:(_getTreeItems=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(itemIds){var _this=this;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",this.provider.getTreeItems?this.provider.getTreeItems(itemIds):Promise.all(itemIds.map((function(id){return _this.provider.getTreeItem(id)}))));case 1:case"end":return _context2.stop()}}),_callee2,this)}))),function getTreeItems(_x2){return _getTreeItems.apply(this,arguments)})},{key:"onChangeItemChildren",value:(_onChangeItemChildren=_asyncToGenerator(regeneratorRuntime.mark((function _callee3(itemId,newChildren){var _this$provider$onChan,_this$provider;return regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",null===(_this$provider$onChan=(_this$provider=this.provider).onChangeItemChildren)||void 0===_this$provider$onChan?void 0:_this$provider$onChan.call(_this$provider,itemId,newChildren));case 1:case"end":return _context3.stop()}}),_callee3,this)}))),function onChangeItemChildren(_x3,_x4){return _onChangeItemChildren.apply(this,arguments)})},{key:"onDidChangeTreeData",value:function onDidChangeTreeData(listener){return this.provider.onDidChangeTreeData?this.provider.onDidChangeTreeData(listener):{dispose:function dispose(){}}}},{key:"onRenameItem",value:(_onRenameItem=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(item,name){var _this$provider$onRena,_this$provider2;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.abrupt("return",null===(_this$provider$onRena=(_this$provider2=this.provider).onRenameItem)||void 0===_this$provider$onRena?void 0:_this$provider$onRena.call(_this$provider2,item,name));case 1:case"end":return _context4.stop()}}),_callee4,this)}))),function onRenameItem(_x5,_x6){return _onRenameItem.apply(this,arguments)})}]),CompleteTreeDataProvider}(),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e2){throw _e2},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=it.call(o)},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e3){didErr=!0,err=_e3},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function UncontrolledTreeEnvironment_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function UncontrolledTreeEnvironment_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){UncontrolledTreeEnvironment_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){UncontrolledTreeEnvironment_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||_unsupportedIterableToArray(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var UncontrolledTreeEnvironment=react.forwardRef((function(props,ref){var _useState2=_slicedToArray(Object(react.useState)({}),2),currentItems=_useState2[0],setCurrentItems=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(props.viewState),2),viewState=_useState4[0],setViewState=_useState4[1],missingItemIds=Object(react.useRef)([]),dataProvider=Object(react.useMemo)((function(){return new CompleteTreeDataProvider(props.dataProvider)}),[props.dataProvider]),writeItems=Object(react.useMemo)((function(){return function(newItems){setCurrentItems((function(oldItems){return Object.assign({},oldItems,newItems)}))}}),[]),amendViewState=Object(react.useCallback)((function(treeId,constructNewState){setViewState((function(oldState){var _oldState$treeId,_Object$assign;return Object.assign({},oldState,((_Object$assign={})[treeId]=Object.assign({},oldState[treeId],constructNewState(null!==(_oldState$treeId=oldState[treeId])&&void 0!==_oldState$treeId?_oldState$treeId:{})),_Object$assign))}))}),[]);return Object(react.useEffect)((function(){return dataProvider.onDidChangeTreeData((function(changedItemIds){dataProvider.getTreeItems(changedItemIds).then((function(items){writeItems(items.map((function(item){var _ref;return(_ref={})[item.index]=item,_ref})).reduce((function(a,b){return Object.assign({},a,b)}),{}))}))})).dispose}),[dataProvider,writeItems]),Object(jsx_runtime.jsx)(ControlledTreeEnvironment.a,Object.assign({},props,{ref:ref,viewState:viewState,items:currentItems,onExpandItem:function onExpandItem(item,treeId){var _props$onExpandItem;amendViewState(treeId,(function(old){var _old$expandedItems;return Object.assign({},old,{expandedItems:[].concat(_toConsumableArray(null!==(_old$expandedItems=old.expandedItems)&&void 0!==_old$expandedItems?_old$expandedItems:[]),[item.index])})})),null===(_props$onExpandItem=props.onExpandItem)||void 0===_props$onExpandItem||_props$onExpandItem.call(props,item,treeId)},onCollapseItem:function onCollapseItem(item,treeId){var _props$onCollapseItem;amendViewState(treeId,(function(old){var _old$expandedItems2;return Object.assign({},old,{expandedItems:null===(_old$expandedItems2=old.expandedItems)||void 0===_old$expandedItems2?void 0:_old$expandedItems2.filter((function(id){return id!==item.index}))})})),null===(_props$onCollapseItem=props.onCollapseItem)||void 0===_props$onCollapseItem||_props$onCollapseItem.call(props,item,treeId)},onSelectItems:function onSelectItems(items,treeId){var _props$onSelectItems;amendViewState(treeId,(function(old){return Object.assign({},old,{selectedItems:items})})),null===(_props$onSelectItems=props.onSelectItems)||void 0===_props$onSelectItems||_props$onSelectItems.call(props,items,treeId)},onFocusItem:function onFocusItem(item,treeId){var _props$onFocusItem;amendViewState(treeId,(function(old){return Object.assign({},old,{focusedItem:item.index})})),null===(_props$onFocusItem=props.onFocusItem)||void 0===_props$onFocusItem||_props$onFocusItem.call(props,item,treeId)},onStartRenamingItem:function onStartRenamingItem(item,treeId){var _props$onStartRenamin;amendViewState(treeId,(function(old){return Object.assign({},old,{renamingItem:item.index})})),null===(_props$onStartRenamin=props.onStartRenamingItem)||void 0===_props$onStartRenamin||_props$onStartRenamin.call(props,item,treeId)},onAbortRenamingItem:function onAbortRenamingItem(item,treeId){var _props$onAbortRenamin;amendViewState(treeId,(function(old){return Object.assign({},old,{renamingItem:void 0})})),null===(_props$onAbortRenamin=props.onAbortRenamingItem)||void 0===_props$onAbortRenamin||_props$onAbortRenamin.call(props,item,treeId)},onRenameItem:function(){var _ref2=UncontrolledTreeEnvironment_asyncToGenerator(regeneratorRuntime.mark((function _callee(item,name,treeId){var _writeItems,_props$onRenameItem,newItem;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,dataProvider.onRenameItem(item,name);case 2:return amendViewState(treeId,(function(old){return Object.assign({},old,{renamingItem:void 0})})),_context.next=5,dataProvider.getTreeItem(item.index);case 5:newItem=_context.sent,writeItems(((_writeItems={})[item.index]=newItem,_writeItems)),null===(_props$onRenameItem=props.onRenameItem)||void 0===_props$onRenameItem||_props$onRenameItem.call(props,item,name,treeId);case 8:case"end":return _context.stop()}}),_callee)})));return function(_x,_x2,_x3){return _ref2.apply(this,arguments)}}(),onDrop:function(){var _ref3=UncontrolledTreeEnvironment_asyncToGenerator(regeneratorRuntime.mark((function _callee2(items,target){var _props$onDrop,_loop,_iterator,_step,item;return regeneratorRuntime.wrap((function _callee2$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:_loop=regeneratorRuntime.mark((function _loop(item){var parent,newParent,_currentItems$target$,_newParent$children,newParentChildren,_findIndex,_newParent$children2,isOldItemPriorToNewItem;return regeneratorRuntime.wrap((function _loop$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(parent=Object.values(currentItems).find((function(potentialParent){var _potentialParent$chil;return null===(_potentialParent$chil=potentialParent.children)||void 0===_potentialParent$chil?void 0:_potentialParent$chil.includes(item.index)})),newParent=currentItems[target.parentItem],parent){_context2.next=4;break}throw Error('Could not find parent of item "'+item.index+'"');case 4:if(parent.children){_context2.next=6;break}throw Error('Parent "'+parent.index+'" of item "'+item.index+'" did not have any children');case 6:if("item"!==target.targetType){_context2.next=16;break}if(target.targetItem!==parent.index){_context2.next=10;break}_context2.next=14;break;case 10:return _context2.next=12,dataProvider.onChangeItemChildren(parent.index,parent.children.filter((function(child){return child!==item.index})));case 12:return _context2.next=14,dataProvider.onChangeItemChildren(target.targetItem,[].concat(_toConsumableArray(null!==(_currentItems$target$=currentItems[target.targetItem].children)&&void 0!==_currentItems$target$?_currentItems$target$:[]),[item.index]));case 14:case 22:_context2.next=29;break;case 16:if(newParentChildren=_toConsumableArray(null!==(_newParent$children=newParent.children)&&void 0!==_newParent$children?_newParent$children:[]).filter((function(child){return child!==item.index})),target.parentItem!==parent.index){_context2.next=24;break}return isOldItemPriorToNewItem=(null!==(_findIndex=(null!==(_newParent$children2=newParent.children)&&void 0!==_newParent$children2?_newParent$children2:[]).findIndex((function(child){return child===item.index})))&&void 0!==_findIndex?_findIndex:1/0)<target.childIndex,newParentChildren.splice(target.childIndex-(isOldItemPriorToNewItem?1:0),0,item.index),_context2.next=22,dataProvider.onChangeItemChildren(target.parentItem,newParentChildren);case 24:return newParentChildren.splice(target.childIndex,0,item.index),_context2.next=27,dataProvider.onChangeItemChildren(parent.index,parent.children.filter((function(child){return child!==item.index})));case 27:return _context2.next=29,dataProvider.onChangeItemChildren(target.parentItem,newParentChildren);case 29:case"end":return _context2.stop()}}),_loop)})),_iterator=_createForOfIteratorHelper(items),_context3.prev=2,_iterator.s();case 4:if((_step=_iterator.n()).done){_context3.next=9;break}return item=_step.value,_context3.delegateYield(_loop(item),"t0",7);case 7:_context3.next=4;break;case 9:_context3.next=14;break;case 11:_context3.prev=11,_context3.t1=_context3.catch(2),_iterator.e(_context3.t1);case 14:return _context3.prev=14,_iterator.f(),_context3.finish(14);case 17:null===(_props$onDrop=props.onDrop)||void 0===_props$onDrop||_props$onDrop.call(props,items,target);case 18:case"end":return _context3.stop()}}),_callee2,null,[[2,11,14,17]])})));return function(_x4,_x5){return _ref3.apply(this,arguments)}}(),onMissingItems:function onMissingItems(itemIds){var _missingItemIds$curre,_props$onMissingItems;0===missingItemIds.current.length&&setTimeout((function(){dataProvider.getTreeItems(missingItemIds.current).then((function(items){writeItems(items.map((function(item){var _ref4;return(_ref4={})[item.index]=item,_ref4})).reduce((function(a,b){return Object.assign({},a,b)}),{}))})),missingItemIds.current=[]})),(_missingItemIds$curre=missingItemIds.current).push.apply(_missingItemIds$curre,_toConsumableArray(itemIds)),null===(_props$onMissingItems=props.onMissingItems)||void 0===_props$onMissingItems||_props$onMissingItems.call(props,itemIds)},children:props.children}))}));try{UncontrolledTreeEnvironment.displayName="UncontrolledTreeEnvironment",UncontrolledTreeEnvironment.__docgenInfo={description:"",displayName:"UncontrolledTreeEnvironment",props:{viewState:{defaultValue:null,description:"",name:"viewState",required:!0,type:{name:"TreeViewState<C>"}},keyboardBindings:{defaultValue:null,description:"",name:"keyboardBindings",required:!1,type:{name:"KeyboardBindings"}},liveDescriptors:{defaultValue:null,description:"",name:"liveDescriptors",required:!1,type:{name:"LiveDescriptors"}},getItemTitle:{defaultValue:null,description:"",name:"getItemTitle",required:!0,type:{name:"(item: TreeItem<T>) => string"}},renderItem:{defaultValue:null,description:"",name:"renderItem",required:!1,type:{name:"(props: { item: TreeItem<T>; depth: number; children: any; title: any; arrow: any; context: TreeItemRenderContext<C>; info: TreeInformation; }) => any"}},renderItemTitle:{defaultValue:null,description:"",name:"renderItemTitle",required:!1,type:{name:"(props: { title: string; item: TreeItem<T>; context: TreeItemRenderContext<C>; info: TreeInformation; }) => any"}},renderItemArrow:{defaultValue:null,description:"",name:"renderItemArrow",required:!1,type:{name:"(props: { item: TreeItem<T>; context: TreeItemRenderContext<C>; info: TreeInformation; }) => any"}},renderRenameInput:{defaultValue:null,description:"",name:"renderRenameInput",required:!1,type:{name:"(props: { item: TreeItem<T>; inputProps: InputHTMLAttributes<HTMLInputElement>; inputRef: Ref<HTMLInputElement>; submitButtonProps: HTMLProps<...>; submitButtonRef: Ref<...>; formProps: FormHTMLAttributes<...>; }) => any"}},renderDraggingItem:{defaultValue:null,description:"",name:"renderDraggingItem",required:!1,type:{name:"(props: { items: TreeItem<T>[]; }) => any"}},renderDraggingItemTitle:{defaultValue:null,description:"",name:"renderDraggingItemTitle",required:!1,type:{name:"(props: { items: TreeItem<T>[]; }) => any"}},renderItemsContainer:{defaultValue:null,description:"",name:"renderItemsContainer",required:!1,type:{name:"(props: { children: any; containerProps: HTMLProps<any>; info: TreeInformation; }) => any"}},renderTreeContainer:{defaultValue:null,description:"",name:"renderTreeContainer",required:!1,type:{name:"(props: { children: any; containerProps: HTMLProps<any>; info: TreeInformation; }) => any"}},renderDragBetweenLine:{defaultValue:null,description:"",name:"renderDragBetweenLine",required:!1,type:{name:"(props: { draggingPosition: DraggingPosition; lineProps: HTMLProps<any>; }) => any"}},renderSearchInput:{defaultValue:null,description:"",name:"renderSearchInput",required:!1,type:{name:"(props: { inputProps: HTMLProps<HTMLInputElement>; }) => any"}},renderLiveDescriptorContainer:{defaultValue:null,description:"",name:"renderLiveDescriptorContainer",required:!1,type:{name:"(props: { children: any; tree: TreeConfiguration; }) => any"}},renderDepthOffset:{defaultValue:null,description:"",name:"renderDepthOffset",required:!1,type:{name:"number"}},defaultInteractionMode:{defaultValue:null,description:"",name:"defaultInteractionMode",required:!1,type:{name:"InteractionMode | InteractionManager<never>"}},canDragAndDrop:{defaultValue:null,description:"",name:"canDragAndDrop",required:!1,type:{name:"boolean"}},canDropOnItemWithChildren:{defaultValue:null,description:"",name:"canDropOnItemWithChildren",required:!1,type:{name:"boolean"}},canDropOnItemWithoutChildren:{defaultValue:null,description:"",name:"canDropOnItemWithoutChildren",required:!1,type:{name:"boolean"}},canReorderItems:{defaultValue:null,description:"",name:"canReorderItems",required:!1,type:{name:"boolean"}},canDrag:{defaultValue:null,description:"",name:"canDrag",required:!1,type:{name:"(items: TreeItem<any>[]) => boolean"}},canDropAt:{defaultValue:null,description:"",name:"canDropAt",required:!1,type:{name:"(items: TreeItem<any>[], target: DraggingPosition) => boolean"}},canInvokePrimaryActionOnItemContainer:{defaultValue:null,description:"",name:"canInvokePrimaryActionOnItemContainer",required:!1,type:{name:"boolean"}},canSearch:{defaultValue:null,description:"",name:"canSearch",required:!1,type:{name:"boolean"}},canSearchByStartingTyping:{defaultValue:null,description:"",name:"canSearchByStartingTyping",required:!1,type:{name:"boolean"}},canRename:{defaultValue:null,description:"",name:"canRename",required:!1,type:{name:"boolean"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},doesSearchMatchItem:{defaultValue:null,description:"",name:"doesSearchMatchItem",required:!1,type:{name:"(search: string, item: TreeItem<any>, itemTitle: string) => boolean"}},showLiveDescription:{defaultValue:null,description:"",name:"showLiveDescription",required:!1,type:{name:"boolean"}},dataProvider:{defaultValue:null,description:"",name:"dataProvider",required:!0,type:{name:"TreeDataProvider<T>"}},onStartRenamingItem:{defaultValue:null,description:"",name:"onStartRenamingItem",required:!1,type:{name:"(item: TreeItem<T>, treeId: string) => void"}},onRenameItem:{defaultValue:null,description:"",name:"onRenameItem",required:!1,type:{name:"(item: TreeItem<T>, name: string, treeId: string) => void"}},onAbortRenamingItem:{defaultValue:null,description:"",name:"onAbortRenamingItem",required:!1,type:{name:"(item: TreeItem<T>, treeId: string) => void"}},onCollapseItem:{defaultValue:null,description:"",name:"onCollapseItem",required:!1,type:{name:"(item: TreeItem<T>, treeId: string) => void"}},onExpandItem:{defaultValue:null,description:"",name:"onExpandItem",required:!1,type:{name:"(item: TreeItem<T>, treeId: string) => void"}},onSelectItems:{defaultValue:null,description:"",name:"onSelectItems",required:!1,type:{name:"(items: TreeItemIndex[], treeId: string) => void"}},onFocusItem:{defaultValue:null,description:"",name:"onFocusItem",required:!1,type:{name:"(item: TreeItem<T>, treeId: string) => void"}},onDrop:{defaultValue:null,description:"",name:"onDrop",required:!1,type:{name:"(items: TreeItem<T>[], target: DraggingPosition) => void"}},onPrimaryAction:{defaultValue:null,description:"",name:"onPrimaryAction",required:!1,type:{name:"(items: TreeItem<T>, treeId: string) => void"}},onRegisterTree:{defaultValue:null,description:"",name:"onRegisterTree",required:!1,type:{name:"(tree: TreeConfiguration) => void"}},onUnregisterTree:{defaultValue:null,description:"",name:"onUnregisterTree",required:!1,type:{name:"(tree: TreeConfiguration) => void"}},onMissingItems:{defaultValue:null,description:"",name:"onMissingItems",required:!1,type:{name:"(itemIds: TreeItemIndex[]) => void"}},onMissingChildren:{defaultValue:null,description:"",name:"onMissingChildren",required:!1,type:{name:"(itemIds: TreeItemIndex[]) => void"}},ref:{defaultValue:null,description:"",name:"ref",required:!1,type:{name:"Ref<TreeEnvironmentRef<T, C>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/core/src/uncontrolledEnvironment/UncontrolledTreeEnvironment.tsx#UncontrolledTreeEnvironment"]={docgenInfo:UncontrolledTreeEnvironment.__docgenInfo,name:"UncontrolledTreeEnvironment",path:"packages/core/src/uncontrolledEnvironment/UncontrolledTreeEnvironment.tsx#UncontrolledTreeEnvironment"})}catch(__react_docgen_typescript_loader_error){}},"./packages/core/src/useCallSoon.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useCallSoon}));__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js");var react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js");function useCallSoon(){var handleRef=Object(react__WEBPACK_IMPORTED_MODULE_4__.useRef)(new Array);return Object(react__WEBPACK_IMPORTED_MODULE_4__.useEffect)((function(){var handles=handleRef.current;return function(){return handles.forEach((function(handle){return cancelAnimationFrame(handle)}))}}),[handleRef]),Object(react__WEBPACK_IMPORTED_MODULE_4__.useCallback)((function(callback){var handle=requestAnimationFrame((function(){handleRef.current.splice(handleRef.current.indexOf(handle),1),callback()}));handleRef.current.push(handle)}),[handleRef])}},"./packages/core/src/useSideEffect.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useSideEffect}));__webpack_require__("./node_modules/core-js/modules/es.array.some.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js");var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react/index.js");function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useSideEffect=function useSideEffect(effect,deps,changeOn){var previousRef=Object(react__WEBPACK_IMPORTED_MODULE_13__.useRef)();Object(react__WEBPACK_IMPORTED_MODULE_13__.useEffect)((function(){previousRef.current?previousRef.current.some((function(v,i){return v!==changeOn[i]}))&&(previousRef.current=_toConsumableArray(changeOn),effect()):(previousRef.current=_toConsumableArray(changeOn),effect())}),[].concat(_toConsumableArray(deps),_toConsumableArray(changeOn)))}},"./packages/core/src/utils.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return buildMapForTrees}));__webpack_require__("./node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var buildMapForTrees=function buildMapForTrees(treeIds,build){return treeIds.map((function(id){return[id,build(id)]})).reduce((function(a,_ref){var _Object$assign,_ref2=_slicedToArray(_ref,2),id=_ref2[0],obj=_ref2[1];return Object.assign({},a,((_Object$assign={})[id]=obj,_Object$assign))}),{})}},"./packages/demodata/lib/index.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k),Object.defineProperty(o,k2,{enumerable:!0,get:function get(){return m[k]}})}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__("./packages/demodata/lib/treeData.js"),exports)},"./packages/demodata/lib/treeData.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.object.entries.js"),__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.shortTree=exports.longTree=void 0;var readTemplate=function readTemplate(template,data){void 0===data&&(data={items:{}});for(var _i=0,_a=Object.entries(template);_i<_a.length;_i++){var _b=_a[_i],key=_b[0],value=_b[1];data.items[key]={index:key,canMove:!0,hasChildren:null!==value,children:null!==value?Object.keys(value):void 0,data:key,canRename:!0},null!==value&&readTemplate(value,data)}return data};exports.longTree=readTemplate({root:{Fruit:{Apple:null,Orange:null,Lemon:null,Berries:{Strawberry:null,Blueberry:null},Banana:null},Meals:{America:{SmashBurger:null,Chowder:null,Ravioli:null,MacAndCheese:null,Brownies:null},Europe:{Risotto:null,Spaghetti:null,Pizza:null,Weisswurst:null,Spargel:null},Asia:{Curry:null,PadThai:null,Jiaozi:null,Sushi:null},Australia:{PotatoWedges:null,PokeBowl:null,LemonCurd:null,KumaraFries:null}},Desserts:{Cookies:null,IceCream:null},Drinks:{PinaColada:null,Cola:null,Juice:null}}}),exports.shortTree=readTemplate({root:{container:{item0:null,item1:null,item2:null,item3:{inner0:null,inner1:null,inner2:null,inner3:null},item4:null,item5:null}}})},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-a11y/dist/esm/a11yRunner.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-a11y/dist/esm/a11yHighlight.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){}},[[0,2,3]]]);